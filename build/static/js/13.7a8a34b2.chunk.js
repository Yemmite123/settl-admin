(this["webpackJsonpsettl-me"]=this["webpackJsonpsettl-me"]||[]).push([[13],{1486:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var r,n=a(0),l=a.n(n),c=["svgRef","title"];function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var i=function(e){var t=e.svgRef,a=e.title,n=s(e,c);return l.a.createElement("svg",o({width:20,height:20,viewBox:"0 0 20 20",fill:"none",ref:t},n),a?l.a.createElement("title",null,a):null,r||(r=l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.90274 14.6979C0.921742 11.7169 0.921742 6.88375 3.90274 3.90274C6.88375 0.921742 11.7169 0.921742 14.6979 3.90274C17.4227 6.62755 17.6569 10.8998 15.4004 13.8906L18.4123 16.9024C19.1979 17.6881 18.0195 18.8666 17.2338 18.081L17.2337 18.081L14.2579 15.1052C11.2588 17.6721 6.74117 17.5363 3.90274 14.6979ZM13.5194 5.08126C11.1893 2.75113 7.41138 2.75113 5.08126 5.08126C2.75113 7.41138 2.75113 11.1893 5.08126 13.5194C7.41138 15.8495 11.1893 15.8495 13.5194 13.5194C15.8495 11.1893 15.8495 7.41138 13.5194 5.08126Z",fill:"#92929D"})))},u=l.a.forwardRef((function(e,t){return l.a.createElement(i,o({svgRef:t},e))}));a.p},1487:function(e,t,a){"use strict";var r=a(0),n=a.n(r),l=a(602),c=a(1387),o=a(1388),s=a(1389),i=a(1390),u=a(1391),m=a(1452),f=a(218);t.a=function(e){var t=e.logo,a=e.name,r=e.calendar,d=e.updateDays,p=e.filterText,g=e.refresh;return n.a.createElement(l.a,{className:"mb-2 mb-xl-4 align-items-center"},n.a.createElement(c.a,{xs:"auto",className:"d-none d-sm-block"},n.a.createElement("h4",{className:"greeting"},n.a.createElement("img",{src:t,className:"",alt:"Settl Logo"}),n.a.createElement("span",{className:"pl-2"},a))),r&&n.a.createElement(c.a,{xs:"auto",className:"ml-auto text-right mt-n1 pr-3"},n.a.createElement(f.a,{next:g}),n.a.createElement(o.a,{className:"d-inline filter-dropdown"},n.a.createElement(s.a,{caret:!0,color:"light",className:"shadow-sm",style:{backgroundColor:"white"}},n.a.createElement(m.a,{className:"feather align-middle mt-n1"})," ",p),n.a.createElement(i.a,{right:!0,style:{top:"25px"}},n.a.createElement(u.a,{onClick:function(){return d(1,0)}},"Today"),n.a.createElement(u.a,{onClick:function(){return d(7,1)}},"Last 7 Days"),n.a.createElement(u.a,{onClick:function(){return d(30,2)}},"Last 30 Days"),n.a.createElement(u.a,{onClick:function(){return d(90,3)}},"Last 90 Days"),n.a.createElement(u.a,{divider:!0}),n.a.createElement(u.a,null,"Customize")))))}},1495:function(e,t,a){e.exports=a.p+"static/media/referralicon.8b6e03d8.svg"},1498:function(e,t,a){"use strict";var r=a(0),n=a.n(r),l=a(108),c=a.n(l),o=a(362),s=a.n(o);t.a=function(e){var t=e.name,a=e.total_amount,r=e.percentage;return n.a.createElement("div",{className:"transaction_card"},n.a.createElement("div",{className:"transaction_volume"},n.a.createElement("h4",null,t),n.a.createElement("p",null,a,"     ",n.a.createElement("span",null,parseInt(r)>=0?n.a.createElement(n.a.Fragment,null,"+",r," %"," ",n.a.createElement("img",{className:"img-fluid",src:c.a,alt:"uparrow"})):n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"text-danger"}," ",r," %")," ",n.a.createElement("img",{className:"img-fluid",src:s.a,alt:"uparrow"})))," "),n.a.createElement("p",{className:"time"},"Analytics for last 30 days")))}},2005:function(e,t,a){"use strict";a.r(t);var r=a(9),n=a.n(r),l=a(15),c=a(4),o=a(0),s=a.n(o),i=a(1487),u=a(1498),m=function(e){return s.a.createElement("div",{className:"transaction_body"},e.transactions.map((function(e,t){return s.a.createElement(u.a,{key:t,name:e.name,total_amount:e.total_amount,percentage:e.percentage})})))},f=a(46),d=a.n(f),p=a(48),g=a.n(p),b=a(21),x=a.n(b),E=a(27),v=a(205),h=a(1389),y=a(1390),S=a(1382),C=a(1383),R=a(1380),O=a(364),w=a(1387),j=a(1419),N=a(1420),k=a(1384),F=(a(17),a(126)),D=a(1486),L=a(25),T=(b.CSVExport.ExportCSVButton,function(e){e.csvData;var t=e.filter,a=(e.search,e.filtered),r=e.dataLength,n=e.Search,l=(new Date).setHours(0,0,0,0),i=Object(o.useState)(!1),u=Object(c.a)(i,2),m=u[0],f=u[1],d=Object(o.useState)(l),p=Object(c.a)(d,2),g=p[0],b=p[1],x=Object(o.useState)(l),E=Object(c.a)(x,2),T=E[0],A=E[1],_=Object(o.useState)([]),z=Object(c.a)(_,2),P=z[0],I=z[1],B=function(e,t){var a=[];for(var r in e)a.push(e[r].name.toLowerCase());t(a)},M=function(){I([]),b(l),A(l)};return s.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"10px 0",paddingLeft:"20px"}},s.a.createElement("div",{style:{display:"flex",width:"70%",alignItems:"center",height:"100%"}},s.a.createElement(v.a,{isOpen:m,toggle:function(){return f(!0)}},s.a.createElement(h.a,{split:!0,style:{backgroundColor:"".concat(a?"rgba(195, 238, 212, 0.5)":"#F1F1F5"),color:"#696974",display:"flex",justifyContent:"space-around",alignItems:"center",border:"1px solid #E2E2EA",borderRadius:"8px",width:"6rem",padding:"10px .5rem"}},a?"".concat(r," "):""," Filter"),s.a.createElement(y.a,{className:"filter-dropdown-menu"},s.a.createElement("div",{className:"form-block"},s.a.createElement(S.a,{className:"mt-3"},s.a.createElement(C.a,{for:"status"},"Transaction Status"),s.a.createElement(L.Multiselect,{className:"forget_pass_select",options:[{name:"Active"},{name:"Registered"}],showCheckbox:!0,showArrow:!0,displayValue:"name",placeholder:"Select",onSelect:function(e){return B(e,I)},onRemove:function(e){return B(e,I)}})),s.a.createElement(F.a,{date:g,open:f,setDate:b,name:"Start Date"}),s.a.createElement(F.a,{date:T,open:f,setDate:A,name:"End Date"}),s.a.createElement(R.a,{style:{display:"flex",justifyContent:"space-between"}},s.a.createElement(O.a,{style:{border:"1px solid grey",backgroundColor:"white",color:"black",padding:"0.3rem 0.7rem"},onClick:function(){M(),f(!1),t({status:P,startDate:g,endDate:T})}},"Clear"),s.a.createElement(O.a,{style:{backgroundColor:"#4F1699",padding:"0.3rem 1.2rem"},onClick:function(){t({status:P,startDate:g,endDate:T}),f(!1),M()}},"Filter"))))),s.a.createElement(w.a,{lg:"6"},s.a.createElement(j.a,{style:{position:"relative",margin:0}},s.a.createElement(N.a,{addonType:"append",color:"primary"},s.a.createElement(D.a,{style:{position:"absolute",zIndex:"5",left:"10px",height:"100%"}})),s.a.createElement(k.a,{type:"tel",onChange:function(e){var t=e.target.value;n(t)},placeholder:"Search customer phone",style:{padding:"20px 35px",borderRadius:"8px"}})))))}),A=function(e){var t=e.referralData,a=void 0===t?[]:t,r=Object(o.useState)(!1),n=Object(c.a)(r,2),l=n[0],i=n[1],u=Object(o.useState)(a),m=Object(c.a)(u,2),f=m[0],p=m[1],b=(new Date).setHours(0,0,0,0);Object(o.useEffect)((function(){p(a)}),[a]);var v=function(e){p("");var t=e.status.length>0||e.endDate!==b||e.startDate!==b;setTimeout((function(){var r=a.filter((function(a){if(t){i(!0);var r=a.date.slice(0,-6).split("/"),n=new Date(+r[2],r[1]-1,+r[0]).setHours(0,0,0,0);return e.status.includes(a.status.toLowerCase())||n>=e.startDate&&n<=e.endDate}return i(!1),e}));p(r)}),500)},h=function(e){p(a.filter((function(t){return t.phoneNumber.startsWith(e.trim())})))},y=[{dataField:"customername",text:"Customer Name",headerStyle:{backgroundColor:"#F8F9FA",border:"none",fontSize:"13px",paddingLeft:"1.5rem"},style:function(){return{paddingLeft:"1.5rem"}}},{dataField:"phoneNumber",text:"Customer Phone Number",headerStyle:{backgroundColor:"#F8F9FA",border:"none",fontSize:"12px"}},{dataField:"referralName",text:"Referral Name",headerStyle:{backgroundColor:"#F8F9FA",border:"none",fontSize:"13px"}},{dataField:"referralBonus",text:"Referral Bonus",headerStyle:{backgroundColor:"#F8F9FA",border:"none",fontSize:"13px"},formatter:function(e){return s.a.createElement("span",null,"\u20a6",e.toLocaleString())}},{dataField:"date",text:"Date",headerStyle:{backgroundColor:"#F8F9FA",border:"none",fontSize:"13px"},formatter:function(e,t,a){return e.slice(0,-5)}},{dataField:"status",text:"Status",headerStyle:{backgroundColor:"#f8f9fa",border:"none",fontSize:"13px",textAlign:"center"},style:function(){return{display:"flex",justifyContent:"center",alignItems:"center"}},formatter:function(e,t,a){return"inactive"===e.toLowerCase()?s.a.createElement("p",{className:"status inactive"},e):"active"===e.toLowerCase()?s.a.createElement("p",{className:"status success"},e):s.a.createElement("p",{className:"status registered"},e)}}],S=function(e,t,a){return s.a.createElement("span",{className:"react-bootstrap-table-pagination-total",style:{padding:"1rem"}},"Showing ",e," to ",t," of ",a," Results")},C={border:"none",cursor:"pointer"};return s.a.createElement(x.a,{responsive:!0,keyField:"date",columns:y,data:f,search:!0},(function(e){return s.a.createElement("div",{className:"table"},s.a.createElement("p",{className:"table_title"},"All Referral"),f?s.a.createElement(s.a.Fragment,null,s.a.createElement(T,{csvData:e.csvProps,search:e.searchProps,filter:v,filtered:l,dataLength:f.length,Search:h}),s.a.createElement(d.a,Object.assign({style:{marginTop:"0"}},e.baseProps,{bordered:!1,rowStyle:C,pagination:g()({sizePerPage:9,hideSizePerPage:!0,showTotal:!0,paginationTotalRenderer:S})}))):s.a.createElement(E.a,null))}))},_=a(1495),z=a.n(_),P=a(37),I=a.n(P),B=a(38),M=a(19);function V(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var a=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?a:3&a|8).toString(16)}))}var H=V(),J=function(){var e=Object(M.useSelector)((function(e){return e.user.details})),t=e.token,a=e.tokenType;return{getAllReferrals:function(){var e=Object(l.a)(n.a.mark((function e(r){var l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H=V(),e.prev=1,e.next=4,I.a.get(B.a+"backoffice/Referral/Referrals?days=".concat(r),{headers:{"X-RequestId":"".concat(H),Authorization:"".concat(a," ").concat(t)}});case 4:return l=e.sent,e.abrupt("return",l.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}};t.default=function(){var e=["Today   ","Last 7 Days","Last 30 days","Last 90 Days"],t=Object(o.useState)(e[2]),a=Object(c.a)(t,2),r=a[0],u=a[1],f=Object(o.useState)(30),d=Object(c.a)(f,2),p=d[0],g=d[1],b=Object(o.useState)(""),x=Object(c.a)(b,2),v=x[0],h=x[1],y=Object(o.useState)(""),S=Object(c.a)(y,2),C=S[0],R=S[1],O=J().getAllReferrals,w=function(){var e=Object(l.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(p);case 2:"00"===(t=e.sent).code&&(h(t.data),R(t.data.listOfReferral));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=[{name:"Total Referral Transaction Volume",total_amount:v.totalReferralvol,percentage:v.percentReferralvol},{name:"Total Referral Transaction Value",total_amount:v.totalReferralval,percentage:v.percentReferralval},{name:"Total value of Referral Bonuses",total_amount:v.referredBonus,percentage:v.percentReferredBonus},{name:"Total Referrals Links Sent ",total_amount:v.totalReferralLinkSent,percentage:v.totalReferralval},{name:"Total Number of Registered Referrals",total_amount:v.numberofRegisteredReferred,percentage:v.percentRegisteredReferred},{name:"Total Number of Active Referrals",total_amount:v.activereferral,percentage:v.percentActivereferral}];return Object(o.useEffect)((function(){w()}),[p]),s.a.createElement("div",null,s.a.createElement(i.a,{logo:z.a,name:"Settl Referral Data",calendar:!0,filterText:r,updateDays:function(t,a){r!==e[a]&&(R(""),h(""),g(t),u(e[a]))},refresh:function(){h(""),R(""),w()}}),0!==v.length?s.a.createElement(m,{transactions:j}):s.a.createElement(E.a,null),s.a.createElement(A,{referralData:C}))}}}]);
//# sourceMappingURL=13.7a8a34b2.chunk.js.map