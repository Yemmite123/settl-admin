(this["webpackJsonpsettl-me"]=this["webpackJsonpsettl-me"]||[]).push([[11,20],{1486:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n,r=a(0),l=a.n(r),o=["svgRef","title"];function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var i=function(e){var t=e.svgRef,a=e.title,r=c(e,o);return l.a.createElement("svg",s({width:20,height:20,viewBox:"0 0 20 20",fill:"none",ref:t},r),a?l.a.createElement("title",null,a):null,n||(n=l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.90274 14.6979C0.921742 11.7169 0.921742 6.88375 3.90274 3.90274C6.88375 0.921742 11.7169 0.921742 14.6979 3.90274C17.4227 6.62755 17.6569 10.8998 15.4004 13.8906L18.4123 16.9024C19.1979 17.6881 18.0195 18.8666 17.2338 18.081L17.2337 18.081L14.2579 15.1052C11.2588 17.6721 6.74117 17.5363 3.90274 14.6979ZM13.5194 5.08126C11.1893 2.75113 7.41138 2.75113 5.08126 5.08126C2.75113 7.41138 2.75113 11.1893 5.08126 13.5194C7.41138 15.8495 11.1893 15.8495 13.5194 13.5194C15.8495 11.1893 15.8495 7.41138 13.5194 5.08126Z",fill:"#92929D"})))},u=l.a.forwardRef((function(e,t){return l.a.createElement(i,s({svgRef:t},e))}));a.p},1487:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(602),o=a(1387),s=a(1388),c=a(1389),i=a(1390),u=a(1391),m=a(1452),d=a(218);t.a=function(e){var t=e.logo,a=e.name,n=e.calendar,p=e.updateDays,f=e.filterText,g=e.refresh;return r.a.createElement(l.a,{className:"mb-2 mb-xl-4 align-items-center"},r.a.createElement(o.a,{xs:"auto",className:"d-none d-sm-block"},r.a.createElement("h4",{className:"greeting"},r.a.createElement("img",{src:t,className:"",alt:"Settl Logo"}),r.a.createElement("span",{className:"pl-2"},a))),n&&r.a.createElement(o.a,{xs:"auto",className:"ml-auto text-right mt-n1 pr-3"},r.a.createElement(d.a,{next:g}),r.a.createElement(s.a,{className:"d-inline filter-dropdown"},r.a.createElement(c.a,{caret:!0,color:"light",className:"shadow-sm",style:{backgroundColor:"white"}},r.a.createElement(m.a,{className:"feather align-middle mt-n1"})," ",f),r.a.createElement(i.a,{right:!0,style:{top:"25px"}},r.a.createElement(u.a,{onClick:function(){return p(1,0)}},"Today"),r.a.createElement(u.a,{onClick:function(){return p(7,1)}},"Last 7 Days"),r.a.createElement(u.a,{onClick:function(){return p(30,2)}},"Last 30 Days"),r.a.createElement(u.a,{onClick:function(){return p(90,3)}},"Last 90 Days"),r.a.createElement(u.a,{divider:!0}),r.a.createElement(u.a,null,"Customize")))))}},1494:function(e,t,a){e.exports=a.p+"static/media/customercard.1dd1f9d0.svg"},1495:function(e,t,a){e.exports=a.p+"static/media/referralicon.8b6e03d8.svg"},1498:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(108),o=a.n(l),s=a(362),c=a.n(s);t.a=function(e){var t=e.name,a=e.total_amount,n=e.percentage;return r.a.createElement("div",{className:"transaction_card"},r.a.createElement("div",{className:"transaction_volume"},r.a.createElement("h4",null,t),r.a.createElement("p",null,a,"     ",r.a.createElement("span",null,parseInt(n)>=0?r.a.createElement(r.a.Fragment,null,"+",n," %"," ",r.a.createElement("img",{className:"img-fluid",src:o.a,alt:"uparrow"})):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"text-danger"}," ",n," %")," ",r.a.createElement("img",{className:"img-fluid",src:c.a,alt:"uparrow"})))," "),r.a.createElement("p",{className:"time"},"Analytics for last 30 days")))}},1516:function(e,t,a){"use strict";var n=a(9),r=a.n(n),l=a(15),o=a(219);var s,c=a(213),i=a(4),u=a(0),m=a.n(u),d=a(1387),p=a(205),f=a(1389),g=a(1419),v=a(1420),b=a(1384),E=a(1390),x=a(1382),h=a(1383),y=a(1380),S=a(364),O=a(1486),w=["svgRef","title"];function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function C(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var k=function(e){var t=e.svgRef,a=e.title,n=C(e,w);return m.a.createElement("svg",j({width:10,height:8,viewBox:"0 0 10 8",fill:"none",ref:t},n),a?m.a.createElement("title",null,a):null,s||(s=m.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.09788 0C9.49059 0 9.73002 0.431975 9.52188 0.764999L5.424 7.3216C5.22817 7.63494 4.77183 7.63494 4.576 7.3216L0.478124 0.764998C0.269983 0.431974 0.509406 0 0.902123 0L9.09788 0Z",fill:"#92929D"})))},N=m.a.forwardRef((function(e,t){return m.a.createElement(k,j({svgRef:t},e))}));a.p,t.a=function(e){var t=e.data,a=e.SearchFilter,n=Object(u.useRef)(null),s=Object(u.useState)(!1),w=Object(i.a)(s,2),j=w[0],C=w[1],k=Object(u.useState)(!1),F=Object(i.a)(k,2),D=F[0],T=F[1],R=Object(u.useState)("Select Filter"),I=Object(i.a)(R,2),A=I[0],W=I[1],L=Object(u.useState)(!1),_=Object(i.a)(L,2),z=_[0],P=_[1],V=Object(u.useState)(t),U=Object(i.a)(V,2),M=U[0],q=U[1],B=function(){var e,t=function(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(o.a)(e))){var t=0,a=function(){};return{s:a,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r,l=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,r=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw r}}}}(Object(c.a)(M));try{for(t.s();!(e=t.n()).done;){e.value.checked=!1}}catch(a){t.e(a)}finally{t.f()}},H=function(){var e=Object(l.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(c.a)(M),B(),a[t.target.name].checked=!0,W(a[t.target.name].name),q(a),T(!1),P(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!1),e.next=3,P(!0);case 3:return e.next=5,C(!1);case 5:n.current.focus();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return m.a.createElement(d.a,{lg:"4"},m.a.createElement(p.a,{isOpen:j,toggle:function(){return C(!j)},style:{outline:"none"}},m.a.createElement(f.a,{style:{backgroundColor:"white",border:"none"}},m.a.createElement(g.a,{style:{position:"relative",margin:0}},m.a.createElement(v.a,{addonType:"append",color:"primary"},m.a.createElement(O.a,{style:{position:"absolute",zIndex:"5",left:"10px",height:"100%"}}),z&&m.a.createElement("p",{style:{position:"absolute",left:"40px",zIndex:"6",height:"100%",color:"#92929D",display:"flex",alignItems:"center"}},A,":"),m.a.createElement(N,{style:{position:"absolute",right:"10px",zIndex:"5",height:"100%",cursor:"pointer"}})),z?m.a.createElement("input",{ref:n,onChange:function(e){var t=e.target.value;a({name:A,value:t})},style:{padding:"".concat(z?"20px 35px 20px 150px":"20px 35px"),borderRadius:"8px",width:"400px"}}):m.a.createElement(b.a,{placeholder:"Search",value:"",style:{padding:"".concat(z?"20px 35px 20px 150px":"20px 35px"),borderRadius:"8px",width:"400px"}}))),m.a.createElement(E.a,{style:{top:"40px",width:"400px",padding:"1rem",left:"10px"}},m.a.createElement("div",null,m.a.createElement("div",{style:{display:"flex",gap:"10px"}},m.a.createElement("p",null,"Search"),m.a.createElement(p.a,{isOpen:D,toggle:function(){return T(!D)}},m.a.createElement(f.a,{style:{backgroundColor:"#F1F1F5",color:"#696974",width:"300px",border:"1px solid #E7E7ED",textAlign:"left",position:"relative",display:"flex",alignItems:"center"}},A,m.a.createElement(N,{style:{position:"absolute",right:"10px",zIndex:"5",height:"100%",cursor:"pointer"}})),m.a.createElement(E.a,{style:{top:"30px",width:"100%"}},m.a.createElement(x.a,{style:{display:"flex",flexDirection:"column",gap:"10px",paddingLeft:"2rem"}},M.map((function(e,t){return m.a.createElement(h.a,{check:!0,key:t,style:{display:"flex",alignItems:"center"}},m.a.createElement(b.a,{type:"checkbox",name:t,onClick:H,checked:e.checked}),m.a.createElement("span",null,e.name))})))))),m.a.createElement(y.a,{style:{display:"flex",justifyContent:"flex-end",gap:"10px"}},m.a.createElement(S.a,{style:{border:"1px solid grey",backgroundColor:"white",color:"black",padding:"0.3rem 0.7rem"},onClick:function(){B(),W("Select Filter"),C(!1),P(!1)}},"Cancel"),m.a.createElement(S.a,{style:{backgroundColor:"#4F1699",padding:"0.3rem 1.2rem"},onClick:K},"Filter"))))))}},1519:function(e,t,a){"use strict";var n=a(9),r=a.n(n),l=a(15),o=a(37),s=a.n(o),c=a(38),i=a(19);function u(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var a=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?a:3&a|8).toString(16)}))}var m=u();t.a=function(){var e=Object(i.useSelector)((function(e){return e.user.details})),t=e.token,a=e.tokenType;return{getAllWallets:function(){var e=Object(l.a)(r.a.mark((function e(n){var l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m=u(),e.prev=1,e.next=4,s.a.get(c.a+"backoffice/Analytics/WalletSavings?days=".concat(n),{params:{days:30},headers:{"X-RequestId":"".concat(m),Authorization:"".concat(a," ").concat(t)}});case 4:return l=e.sent,e.abrupt("return",l.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),refundAccount:function(){var e=Object(l.a)(r.a.mark((function e(n){var l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m=u(),e.prev=1,e.next=4,s.a.post(c.a+"backoffice/Customers/Refund",n,{headers:{"X-RequestId":"".concat(m),Authorization:"".concat(a," ").concat(t)}});case 4:return l=e.sent,e.abrupt("return",l.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),reprocessTransaction:function(){var e=Object(l.a)(r.a.mark((function e(n){var l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m=u(),e.prev=1,e.next=4,s.a.post(c.a+"backoffice/Customers/ReprocessTransaction",n,{headers:{"X-RequestId":"".concat(m),Authorization:"".concat(a," ").concat(t)}});case 4:return l=e.sent,e.abrupt("return",l.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}}},1596:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a(0),l=a.n(r),o=a(364),s=a(1494),c=a.n(s),i=a(9),u=a.n(i),m=a(15),d=a(19),p=a(58),f=a(1477),g=a(1479),v=a(1384),b=a(1519),E=a(102),x=Object(d.connect)((function(e){var t,a,n,r,l,o;return{userName:null===e||void 0===e||null===(t=e.user)||void 0===t||null===(a=t.details)||void 0===a||null===(n=a.admin)||void 0===n?void 0:n.fullname,email:null===e||void 0===e||null===(r=e.user)||void 0===r||null===(l=r.details)||void 0===l||null===(o=l.admin)||void 0===o?void 0:o.email}}))((function(e){var t=e.show,a=e.setShow,o=e.data,s=e.transId,c=e.userName,i=e.email,d=(e.reload,Object(r.useState)("Assurance Uwangue")),x=Object(n.a)(d,2),h=x[0],y=x[1],S=Object(r.useState)(""),O=Object(n.a)(S,2),w=O[0],j=O[1],C=Object(r.useState)(!1),k=Object(n.a)(C,2),N=k[0],F=k[1],D=Object(r.useState)({state:"",message:"",status:""}),T=Object(n.a)(D,2),R=T[0],I=T[1],A=Object(b.a)(),W=A.refundAccount,L=A.reprocessTransaction,_=function(e,t){t(e.target.value)},z=function(){var e=Object(m.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),F(!0),"Refund Customer"!==o.title){e.next=12;break}return e.next=5,W({adminFullName:c.split(" ")[0],adminEmail:i,reason:w,transId:s});case 5:if("00"!==(n=e.sent).code){e.next=11;break}return console.log(n.data),F(!1),a(!1),e.abrupt("return",!0);case 11:I({state:!0,status:n.status,message:n.message});case 12:if("Reprocess Transaction"!==o.title){e.next=21;break}return e.next=15,L({fullName:c.split(" ")[0],adminEmail:i,reason:w,transId:s});case 15:if("00"!==(r=e.sent).code){e.next=20;break}return console.log(r.data),a(!1),e.abrupt("return",!0);case 20:I({state:!0,status:r.status,message:r.message});case 21:return F(!1),e.abrupt("return",!1);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{show:t,centered:!0,onHide:function(){return a(!1)},className:"transaction-modal"},l.a.createElement("div",{style:{display:"relative"}},l.a.createElement("h3",{style:{textAlign:"center",borderBottom:"1px solid rgba(231, 231, 237, 0.6)",padding:"1.5rem 0"}},o.title),l.a.createElement(p.a,{style:{position:"absolute",top:"20px",right:"20px",cursor:"pointer"},onClick:function(){return a(!1)}})),l.a.createElement("div",{style:{display:"flex",flexDirection:"column",padding:"3rem 2rem",height:"100%",gap:"30px"}},l.a.createElement("p",{style:{textAlign:"center",margin:"0 auto",fontSize:"16px"}},"Please confirm this is the right customer account before initiating this process"),l.a.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"20px"}},l.a.createElement("fieldset",{className:"float-label",style:{margin:"0"}},l.a.createElement(v.a,{name:"name",autoComplete:"off",type:"text",className:"form-control shadow-none",value:h,style:{margin:"0"},onChange:function(e){return _(e,y)},required:!0}),l.a.createElement("label",{htmlFor:"Full_Name"},"Admin Full Name")),l.a.createElement(v.a,{type:"textarea",className:"form-control shadow-none",style:{backgroundColor:"#FAFAFA",resize:"none",height:"200px",padding:"20px"},value:w,onChange:function(e){return _(e,j)},placeholder:o.reason,required:!0})),l.a.createElement(g.a,{onClick:z,style:{backgroundColor:"#4F1699",padding:".6rem 1.5rem",marginTop:"1rem"}},o.placeholder,N?l.a.createElement("div",{className:"spinner-border spinner-border-sm spinner text-white ml-2",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading...")):""))),l.a.createElement(E.a,{isOpen:R.state,toggle:function(){I({state:!1,message:"",status:""})},title:R.message,details:R.status}))})),h=a(22);t.default=function(e){var t=e.setShowCustomerDetails,a=e.details,s={title:"Refund Customer",reason:"Refund Reason",placeholder:"Initiate Refund"},i={title:"Reprocess Transaction",reason:"Reprocess Reason",placeholder:"Reprocess"},u=Object(r.useState)(null),m=Object(n.a)(u,2),d=m[0],p=m[1],f=Object(r.useState)(!1),g=Object(n.a)(f,2),v=g[0],b=g[1],E=Object(r.useState)(a.transId),y=Object(n.a)(E,1)[0],S=[{"Transaction Name":a.transDomain},{"Savings Wallet":a.fundSource},{"Wallet Name":a.transType},{"Transaction Type":a.transEntry},{"Created at":a.transDate},{"Customer ID":l.a.createElement(h.b,{to:"/customers/details/"+a.customerId},l.a.createElement("p",{className:"name"},a.customerId)," ")},{"Customer Wallet ID":a.transId}];return Object(r.useEffect)((function(){window.scrollTo(0,0)}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{display:"flex",gap:"10px",padding:"10px"}},l.a.createElement("span",{style:{color:"#4f1699",cursor:"pointer"},onClick:function(){return t((function(e){return!e}))}},"All Saving Transactions"),l.a.createElement("span",{style:{color:"#304762"}}," > ")," ",l.a.createElement("span",{style:{color:"#304762"}},"Savings Transaction Details")),l.a.createElement("div",{className:"customer_card_body"},l.a.createElement("div",{className:"flex"},l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("h4",{className:"greeting"},l.a.createElement("img",{src:c.a,className:"",alt:"Settl Logo"}),l.a.createElement("span",{className:"pl-2"},"Savings Transaction Details ")),l.a.createElement("div",{className:"flex"},l.a.createElement("p",{className:"price"},"\u20a6".concat(a.transAmount,".00")),l.a.createElement("p",{className:"status "+("SUCCESS"===a.transStatus?"success":"REFUNDED"===a.transStatus?"registered":"failed")},a.transStatus)))),"FAILED"===a.transStatus?l.a.createElement("div",{className:"buttons"},l.a.createElement(o.a,{className:"button_neutral",onClick:function(){p(s),b(!0)}},"Refund Customer"),l.a.createElement(o.a,{className:"button_approve",onClick:function(){p(i),b(!0)}},"Reprocess Transaction")):""),l.a.createElement("div",{className:"details"},S.map((function(e){return l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("p",{style:{width:"50%",color:"rgba(48, 71, 98, 0.8)"}},Object.keys(e)),l.a.createElement("p",{style:{width:"50%",color:"#304762",fontWeight:500}},Object.values(e)))})))),d&&l.a.createElement(x,{show:v,setShow:b,data:d,transId:y}))}},2e3:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(4),o=a(1487),s=a(1498),c=a(9),i=a.n(c),u=a(15),m=a(1519),d=Object(n.createContext)();function p(e){var t=e.children,a=Object(n.useState)([]),o=Object(l.a)(a,2),s=o[0],c=o[1],p=Object(n.useState)(30),f=Object(l.a)(p,2),g=f[0],v=f[1],b=["Today   ","Last 7 Days","Last 30 days","Last 90 Days"],E=Object(n.useState)(b[2]),x=Object(l.a)(E,2),h=x[0],y=x[1],S=Object(m.a)().getAllWallets,O=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(g);case 2:"00"==(t=e.sent).code&&(console.log(t.data),c(t.data));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){O()}),[g]),r.a.createElement(d.Provider,{value:{walletData:s,filterText:h,updateDays:function(e,t){h!==b[t]&&(c([]),v(e),y(b[t]))},refresh:function(){c([]),O()}}},t)}function f(){var e=Object(n.useContext)(d);if(void 0===e)throw new Error("Context must be used within a Provider");return e}var g=function(){var e=f().walletData,t=[{name:"Total Volume of Users Saving ",total_amount:e.totalSavingsVol,percentage:e.percentSavingVol},{name:"Total Value of all Savings",total_amount:e.totalSavingsValue,percentage:e.percentSavingvalue},{name:"Total Savings Interest ",total_amount:e.totalSavingsInterest,percentage:e.percentageSavingInterest}];return r.a.createElement("div",{className:"transaction_body"},t.map((function(e,t){return r.a.createElement(s.a,{key:t,name:e.name,total_amount:e.total_amount,percentage:e.percentage})})))},v=a(46),b=a.n(v),E=a(48),x=a.n(E),h=a(21),y=a.n(h),S=a(205),O=a(1389),w=a(1390),j=a(1382),C=a(1383),k=a(1380),N=a(364),F=a(126),D=a(25),T=a(88),R=a.n(T),I=a(1516),A=h.CSVExport.ExportCSVButton,W=function(e){var t=e.csvData,a=e.filter,o=e.filtered,s=e.dataLength,c=e.SearchFilter,i=(new Date).setHours(0,0,0,0),u=Object(n.useState)(!1),m=Object(l.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(i),g=Object(l.a)(f,2),v=g[0],b=g[1],E=Object(n.useState)(i),x=Object(l.a)(E,2),h=x[0],y=x[1],T=Object(n.useState)([]),W=Object(l.a)(T,2),L=W[0],_=W[1],z=function(e,t){var a=[];for(var n in e)a.push(e[n].name.toLowerCase());t(a)},P=function(){_([]),b(i),y(i)};return r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"10px 0",paddingLeft:"20px"}},r.a.createElement("div",{style:{display:"flex",width:"70%",alignItems:"center",height:"100%"}},r.a.createElement(S.a,{isOpen:d,toggle:function(){return p(!0)}},r.a.createElement(O.a,{split:!0,style:{backgroundColor:"".concat(o?"rgba(195, 238, 212, 0.5)":"#F1F1F5"),color:"#696974",display:"flex",justifyContent:"space-around",alignItems:"center",border:"1px solid #E2E2EA",borderRadius:"8px",width:"6rem",padding:"10px .5rem"}},o?"".concat(s," "):""," Filter"),r.a.createElement(w.a,{className:"filter-dropdown-menu"},r.a.createElement("div",{className:"form-block"},r.a.createElement(j.a,{className:"form-block"},r.a.createElement(C.a,{for:"status"},"Transaction Status"),r.a.createElement(D.Multiselect,{className:"forget_pass_select",options:[{name:"Success"},{name:"Pending"},{name:"Failed"}],showCheckbox:!0,showArrow:!0,displayValue:"name",placeholder:"Select",onSelect:function(e){return z(e,_)},onRemove:function(e){return z(e,_)}})),r.a.createElement(F.a,{date:v,open:p,setDate:b,name:"Start Date"}),r.a.createElement(F.a,{date:h,open:p,setDate:y,name:"End Date"}),r.a.createElement(k.a,{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(N.a,{style:{border:"1px solid grey",backgroundColor:"white",color:"black",padding:"0.3rem 0.7rem"},onClick:function(){P(),p(!1)}},"Cancel"),r.a.createElement(N.a,{style:{backgroundColor:"#4F1699",padding:"0.3rem 1.2rem"},onClick:function(){a({status:L,startDate:v,endDate:h}),p(!1),P()}},"Filter"))))),r.a.createElement(I.a,{data:[{name:"Transaction Refernce",checked:!1},{name:"Customer's phone number",checked:!1}],SearchFilter:c})),r.a.createElement(A,Object.assign({className:"btn-add btn btn-primary btn-export"},t),r.a.createElement("img",{src:R.a,className:"mr-1",alt:"an icon"}),"Export as CSV"))},L=a(27),_=function(e){var t=e.setShowCustomerDetails,a=e.setDetails,o=f().walletData,s=Object(n.useState)(!1),c=Object(l.a)(s,2),i=c[0],u=c[1],m=Object(n.useState)(o.listOfSavingstrans),d=Object(l.a)(m,2),p=d[0],g=d[1];console.log(o.listOfSavingstrans),console.log(p);var v=(new Date).setHours(0,0,0,0),E=function(e){var t=o.listOfSavingstrans;"Transaction Refernce"===e.name&&(t=o.listOfSavingstrans.filter((function(t){return t.transId.toLowerCase().startsWith(e.value.trim())}))),"Customer's phone number"===e.name&&(t=o.listOfSavingstrans.filter((function(t){return t.customerId.startsWith(e.value.trim())}))),g(t)},h=function(e){g("");var t=e.status.length>0||e.startDate!==v||e.endDate!==v;setTimeout((function(){var a=o.listOfSavingstrans.filter((function(a){if(console.log(a),t){u(!0);var n=new Date(a.transDate).setHours(0,0,0,0);return e.status.includes(a.transStatus.toLowerCase())||n>=e.startDate&&n<=e.endDate}return u(!1),a}));g(a)}),500)},S=[{dataField:"id",text:"#",headerStyle:{backgroundColor:"#F8F9FA",border:"none",fontSize:"12px",width:"70px",textAlign:"center"},formatter:function(e,t,a){return r.a.createElement("span",{className:"d-flex justify-content-center"},a+1)}},{dataField:"fromcustomerName",text:"Customer",headerStyle:{backgroundColor:"#F8F9FA",border:"none",fontSize:"12px"}},{dataField:"transAmount",text:"Amount",headerStyle:{backgroundColor:"#F8F9FA",border:"none",fontSize:"12px"},formatter:function(e){return r.a.createElement("span",null,"\u20a6",e.toLocaleString())}},{dataField:"transId",text:"Tranx Ref",headerStyle:{backgroundColor:"#F8F9FA",border:"none",fontSize:"12px"}},{dataField:"customerId",text:"Customer Phone Number",headerStyle:{backgroundColor:"#F8F9FA",border:"none",fontSize:"11px"}},{dataField:"transStatus",text:"Status",headerStyle:{backgroundColor:"#F8F9FA",border:"none",fontSize:"12px",textAlign:"center"},style:function(){return{margin:"auto 0",display:"flex",justifyContent:"center",alignItems:"center",padding:"20px 0"}},formatter:function(e,t,a){return"success"===e.toLowerCase()?r.a.createElement("span",{className:" status success"},e):"refunded"===e.toLowerCase()?r.a.createElement("span",{className:"status registered"},e):"failed"===e.toLowerCase()?r.a.createElement("span",{className:"status failed"},e):void 0}}],O=function(e,t,a){return r.a.createElement("span",{className:"react-bootstrap-table-pagination-total",style:{padding:"1rem"}},"Showing ",e," to ",t," of ",a," Results")},w={border:"none",cursor:"pointer"},j={onClick:function(e,n,r){a(n),t((function(e){return!e}))}};return r.a.createElement(y.a,{responsive:!0,keyField:"id",data:p,columns:S,exportCSV:{fileName:"wallet-transaction-data.csv"},search:!0},(function(e){return r.a.createElement("div",{className:"table",style:{marginTop:"2rem"}},r.a.createElement("p",{className:"table_title"},"Savings Transactions"),r.a.createElement(W,{csvData:e.csvProps,search:e.searchProps,filter:h,filtered:i,dataLength:p.length,SearchFilter:E}),p?r.a.createElement(b.a,Object.assign({},e.baseProps,{bootstrap4:!0,bordered:!1,rowEvents:j,rowStyle:w,pagination:x()({sizePerPage:9,hideSizePerPage:!0,showTotal:!0,paginationTotalRenderer:O})})):r.a.createElement(L.a,null))}))},z=a(1376),P=a(1377),V=function(){var e=f().walletData,t=["Targeting Savings wallet","Round Up wallet","Kids wallet","Other Savings wallet"],a=[{name:["Total Volume of TSW Users","Total Volume of RW Users","Total Volume of KW Users","Total Volume of OSW Users"],total_amount:[e.targetedSavingsinfo.totalvolcount,e.roundupSavingsinfo.totalvolcount,e.kidsWalletinfo.totalvolcount,e.otherSavingsinfo.totalvolcount],percentage:[e.targetedSavingsinfo.percenttotalvolcount,e.roundupSavingsinfo.percenttotalvolcount,e.kidsWalletinfo.percenttotalvolcount,e.otherSavingsinfo.percenttotalvolcount]},{name:["Total Value of TSW Funds","Total Value of RW Funds","Total Value of KW Funds","Total Value of OSW Funds"],total_amount:[e.targetedSavingsinfo.totalval,e.roundupSavingsinfo.totalval,e.kidsWalletinfo.totalval,e.otherSavingsinfo.totalval],percentage:[e.targetedSavingsinfo.percenttotalvalue,e.roundupSavingsinfo.percenttotalvalue,e.kidsWalletinfo.percenttotalvalue,e.otherSavingsinfo.percenttotalvalue]},{name:["Total TSW Interest Sent ","Total RW Interest Sent ","Total KW Interest Sent ","Total OSW Interest Sent "],total_amount:[e.targetedSavingsinfo.totalsavingintrest,e.roundupSavingsinfo.totalsavingintrest,e.kidsWalletinfo.totalsavingintrest,e.otherSavingsinfo.totalsavingintrest],percentage:[e.targetedSavingsinfo.percentsavingintrest,e.roundupSavingsinfo.percentsavingintrest,e.kidsWalletinfo.percentsavingintrest,e.otherSavingsinfo.percentsavingintrest]}],o=Object(n.useState)(0),c=Object(l.a)(o,2),i=c[0],u=c[1];return r.a.createElement("div",{className:"savings_tab"},r.a.createElement("p",{className:"title"},"Savings Wallet Data"),r.a.createElement("div",{className:"nav"},t.map((function(e,t){return r.a.createElement("div",{key:t,onClick:function(){return u(t)},className:"".concat(i===t?"active_nav":"")},r.a.createElement("p",null,e))}))),r.a.createElement(z.a,{activeTab:i},t.map((function(e,t){return r.a.createElement(P.a,{tabId:t},r.a.createElement("div",{className:"transaction_body tab_body",key:t},a.map((function(e,a){return r.a.createElement(s.a,{key:a,name:e.name[t],total_amount:e.total_amount[t],percentage:e.percentage[t]})}))))}))))},U=a(1495),M=a.n(U),q=a(1596),B=function(){var e=f(),t=e.walletData,a=e.filterText,s=e.updateDays,c=e.refresh,i=Object(n.useState)(!1),u=Object(l.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)({}),v=Object(l.a)(p,2),b=v[0],E=v[1];return r.a.createElement("div",null,r.a.createElement(o.a,{logo:M.a,name:"Savings Analytics",calendar:!0,filterText:a,updateDays:s,refresh:c}),0!==t.length?r.a.createElement(r.a.Fragment,null,m?r.a.createElement(q.default,{setShowCustomerDetails:d,details:b}):r.a.createElement(r.a.Fragment,null,r.a.createElement(g,null),r.a.createElement(V,null),r.a.createElement(_,{setShowCustomerDetails:d,setDetails:E}))):r.a.createElement(L.a,null))};t.default=function(){return r.a.createElement(p,null,r.a.createElement(B,null))}}}]);
//# sourceMappingURL=11.737eb9b2.chunk.js.map