{"ast":null,"code":"import _regeneratorRuntime from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Row,Col}from\"reactstrap\";import{Link}from\"react-router-dom\";import sent from\"./../../assets/img/icons/sent.svg\";import delivered from\"./../../assets/img/icons/delivered.svg\";import notDelivered from\"./../../assets/img/icons/not-delivered.svg\";import MessageDetailsTable from\"./MessageDetailsTable\";import messageRequest from\"../../requests/message\";export default function MessageDetails(_ref){var setShowMessageDetails=_ref.setShowMessageDetails,details=_ref.details;var messageStructure=[{id:\"1\",name:\"Message Type\",value:/*#__PURE__*/React.createElement(\"p\",{className:\"message-value ml-4 pl-2\"},details.messageTypes)},{id:\"2\",name:\"Date Created\",value:/*#__PURE__*/React.createElement(\"p\",{className:\"message-value ml-4 pl-2\"},details.date)},{id:\"3\",name:\"Message\",value:/*#__PURE__*/React.createElement(\"div\",{className:\"message-value-wrapper ml-4\"},/*#__PURE__*/React.createElement(\"p\",{className:\"message-value\"},details.messageTitle))}];var messageType=details.messageTypes===\"SMS\"?2:1;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),tableData=_useState4[0],setTableData=_useState4[1];var _messageRequest=messageRequest(),getLogRecordsById=_messageRequest.getLogRecordsById;var getAllRecords=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getLogRecordsById(messageType,details.id);case 2:response=_context.sent;if(response.code===\"00\"){console.log(response.data);setData(response.data);setTableData(response.data.list);}case 4:case\"end\":return _context.stop();}}},_callee);}));return function getAllRecords(){return _ref2.apply(this,arguments);};}();useEffect(function(){getAllRecords();},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Link,{to:\"/messages\",className:\"back\",onClick:function onClick(){return setShowMessageDetails(function(prev){return!prev;});}},\"< Back\"),/*#__PURE__*/React.createElement(\"h6\",{className:\"campaign\"},details.messageTitle)),/*#__PURE__*/React.createElement(\"div\",{className:\"admin-header campaign-messages mt-4 py-2\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex px-5 py-3\",style:{borderRight:\"1px solid #ECF3FC\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"mr-4\"},/*#__PURE__*/React.createElement(\"img\",{src:sent,className:\"img-fluid\",alt:\"sent icon\"})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1\"},\"Sent Messages\"),/*#__PURE__*/React.createElement(\"h6\",{className:\"sent\"},data.sentMessages)))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex pl-4 pr-5 py-3\",style:{borderRight:\"1px solid #ECF3FC\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"mr-4\"},/*#__PURE__*/React.createElement(\"img\",{src:delivered,className:\"img-fluid\",alt:\"an icon\"})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1\"},\"Delivered\"),/*#__PURE__*/React.createElement(\"h6\",{className:\"delivered\"},data.deliveredMessages)))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex pl-4 pr-5 py-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mr-4\"},/*#__PURE__*/React.createElement(\"img\",{src:notDelivered,className:\"img-fluid\",alt:\"an icon\"})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1\"},\"Not Delivered\"),/*#__PURE__*/React.createElement(\"h6\",{className:\"not-delivered\"},data.undeliveredMessages)))))),/*#__PURE__*/React.createElement(\"div\",{className:\"admin-header message-structure mt-4 p-4\"},messageStructure.map(function(message){return/*#__PURE__*/React.createElement(Row,{key:message.id},/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"message-name\"},message.name))),/*#__PURE__*/React.createElement(Col,{md:8},message.value));})),/*#__PURE__*/React.createElement(MessageDetailsTable,{tableData:tableData}));}","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/src/pages/messaging/MessageDetails.js"],"names":["React","useState","useEffect","Row","Col","Link","MessageDetailsTable","messageRequest","MessageDetails","setShowMessageDetails","details","messageStructure","id","name","value","messageTypes","date","messageTitle","messageType","data","setData","tableData","setTableData","getLogRecordsById","getAllRecords","response","code","console","log","list","prev","borderRight","sent","sentMessages","delivered","deliveredMessages","notDelivered","undeliveredMessages","map","message"],"mappings":"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","sourcesContent":["import React, { useState, useEffect} from \"react\";\nimport { Row, Col } from \"reactstrap\";\nimport { Link } from \"react-router-dom\";\nimport sent from \"./../../assets/img/icons/sent.svg\";\nimport delivered from \"./../../assets/img/icons/delivered.svg\";\nimport notDelivered from \"./../../assets/img/icons/not-delivered.svg\";\nimport MessageDetailsTable from \"./MessageDetailsTable\";\nimport messageRequest from \"../../requests/message\";\n\nexport default function MessageDetails({setShowMessageDetails, details}) {\n    const messageStructure = [\n        {\n            id: \"1\",\n            name: \"Message Type\",\n            value: <p className=\"message-value ml-4 pl-2\">{details.messageTypes}</p>\n        },\n        {\n            id: \"2\",\n            name: \"Date Created\",\n            value: <p className=\"message-value ml-4 pl-2\">{details.date}</p>\n        },\n        {\n            id: \"3\",\n            name: \"Message\",\n            value: <div className=\"message-value-wrapper ml-4\">\n                <p className=\"message-value\">{details.messageTitle}</p>\n            </div>\n        }\n    ]\n\n    const messageType = details.messageTypes === \"SMS\" ? 2 : 1;\n\n    const [data, setData] = useState([]);\n    const [tableData, setTableData] = useState([]);\n    const { getLogRecordsById } = messageRequest();\n\n    const getAllRecords = async () => {\n        const response = await getLogRecordsById(messageType, details.id);\n        if(response.code === \"00\") {\n            console.log(response.data);\n            setData(response.data)\n            setTableData(response.data.list);\n        }\n    }\n\n    useEffect(() => {\n        getAllRecords();\n    }, [])\n\n    return(\n        <>\n            <div>\n                <Link \n                    to=\"/messages\"\n                    className=\"back\"\n                    onClick={() => setShowMessageDetails((prev) => !prev)}\n                >\n                    &lt; Back\n                </Link>\n                <h6 className=\"campaign\">{details.messageTitle}</h6>\n            </div>\n            <div className=\"admin-header campaign-messages mt-4 py-2\">\n                <Row>\n                    <Col md={4}>\n                        <div \n                            className=\"d-flex px-5 py-3\" \n                            style={{ borderRight: \"1px solid #ECF3FC\" }}\n                        >\n                            <div className=\"mr-4\">\n                                <img src={sent} className=\"img-fluid\" alt=\"sent icon\" />\n                            </div>\n                            <div>\n                                <p className=\"mb-1\">Sent Messages</p>\n                                <h6 className=\"sent\">{data.sentMessages}</h6>\n                            </div>\n                        </div>\n                    </Col>\n                    <Col md={4}>\n                        <div \n                            className=\"d-flex pl-4 pr-5 py-3\" \n                            style={{ borderRight: \"1px solid #ECF3FC\" }}\n                        >\n                            <div className=\"mr-4\">\n                                <img src={delivered} className=\"img-fluid\" alt=\"an icon\" />\n                            </div>\n                            <div>\n                                <p className=\"mb-1\">Delivered</p>\n                                <h6 className=\"delivered\">{data.deliveredMessages}</h6>\n                            </div>\n                        </div>\n                    </Col>\n                    <Col md={4}>\n                        <div className=\"d-flex pl-4 pr-5 py-3\">\n                            <div className=\"mr-4\">\n                                <img src={notDelivered} className=\"img-fluid\" alt=\"an icon\" />\n                            </div>\n                            <div>\n                                <p className=\"mb-1\">Not Delivered</p>\n                                <h6 className=\"not-delivered\">{data.undeliveredMessages}</h6>\n                            </div>\n                        </div>\n                    </Col>\n                </Row>\n            </div>\n            <div className=\"admin-header message-structure mt-4 p-4\">\n                {\n                    messageStructure.map((message) => (\n                        <Row key={message.id}>\n                            <Col md={4}>\n                                <div>\n                                    <p className=\"message-name\">{message.name}</p>\n                                </div>\n                            </Col>\n                            <Col md={8}>\n                                {message.value}\n                            </Col>\n                        </Row>\n                    ))\n                }\n            </div>\n            <MessageDetailsTable tableData={tableData} />\n        </>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}