{"ast":null,"code":"import _regeneratorRuntime from \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settladminfront-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settladminfront-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settladminfront-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settladminfront-end/src/pages/dashboards/Wallet Savings /Modal.js\";\n\nimport React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { ReactComponent as Close } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../../BgImages/close.svg\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { Input } from \"reactstrap\";\nimport walletRequest from \"../../../requests/wallet-savings\";\nimport SuccessDialog from \"../../SuccessDialog\";\n\nvar ReportsModal = function ReportsModal(_ref) {\n  var show = _ref.show,\n      setShow = _ref.setShow,\n      data = _ref.data,\n      transId = _ref.transId,\n      userName = _ref.userName,\n      email = _ref.email,\n      reload = _ref.reload;\n\n  var _useState = useState(\"Assurance Uwangue\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      reason = _useState4[0],\n      setReason = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var _useState7 = useState({\n    state: \"\",\n    message: \"\",\n    status: \"\"\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      error = _useState8[0],\n      setError = _useState8[1];\n\n  var closeError = function closeError() {\n    setError({\n      state: false,\n      message: \"\",\n      status: \"\"\n    });\n  };\n\n  var _walletRequest = walletRequest(),\n      refundAccount = _walletRequest.refundAccount,\n      reprocessTransaction = _walletRequest.reprocessTransaction;\n\n  var handleChange = function handleChange(e, set) {\n    var value = e.target.value;\n    set(value);\n  };\n\n  var handleClick = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var response, _response;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              setLoading(true);\n\n              if (!(data.title === \"Refund Customer\")) {\n                _context.next = 12;\n                break;\n              }\n\n              _context.next = 5;\n              return refundAccount({\n                adminFullName: userName.split(\" \")[0],\n                adminEmail: email,\n                reason: reason,\n                transId: transId\n              });\n\n            case 5:\n              response = _context.sent;\n\n              if (!(response.code === \"00\")) {\n                _context.next = 11;\n                break;\n              }\n\n              console.log(response.data);\n              setLoading(false);\n              setShow(false);\n              return _context.abrupt(\"return\", true);\n\n            case 11:\n              setError({\n                state: true,\n                status: response.status,\n                message: response.message\n              });\n\n            case 12:\n              if (!(data.title === \"Reprocess Transaction\")) {\n                _context.next = 21;\n                break;\n              }\n\n              _context.next = 15;\n              return reprocessTransaction({\n                fullName: userName.split(\" \")[0],\n                adminEmail: email,\n                reason: reason,\n                transId: transId\n              });\n\n            case 15:\n              _response = _context.sent;\n\n              if (!(_response.code === \"00\")) {\n                _context.next = 20;\n                break;\n              }\n\n              console.log(_response.data);\n              setShow(false);\n              return _context.abrupt(\"return\", true);\n\n            case 20:\n              setError({\n                state: true,\n                status: _response.status,\n                message: _response.message\n              });\n\n            case 21:\n              setLoading(false);\n              return _context.abrupt(\"return\", false);\n\n            case 23:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleClick(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Modal, {\n    show: show,\n    centered: true,\n    onHide: function onHide() {\n      return setShow(false);\n    },\n    className: \"transaction-modal\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"relative\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      textAlign: \"center\",\n      borderBottom: \"1px solid rgba(231, 231, 237, 0.6)\",\n      padding: \"1.5rem 0\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, data.title), /*#__PURE__*/React.createElement(Close, {\n    style: {\n      position: \"absolute\",\n      top: \"20px\",\n      right: \"20px\",\n      cursor: \"pointer\"\n    },\n    onClick: function onClick() {\n      return setShow(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      padding: \"3rem 2rem\",\n      height: \"100%\",\n      gap: \"30px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      textAlign: \"center\",\n      margin: \"0 auto\",\n      fontSize: \"16px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, \"Please confirm this is the right customer account before initiating this process\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      gap: \"20px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"fieldset\", {\n    className: \"float-label\",\n    style: {\n      margin: \"0\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    name: \"name\",\n    autoComplete: \"off\",\n    type: \"text\",\n    className: \"form-control shadow-none\",\n    value: name,\n    style: {\n      margin: \"0\"\n    },\n    onChange: function onChange(e) {\n      return handleChange(e, setName);\n    },\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"Full_Name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  }, \"Admin Full Name\")), /*#__PURE__*/React.createElement(Input, {\n    type: \"textarea\",\n    className: \"form-control shadow-none\",\n    style: {\n      backgroundColor: \"#FAFAFA\",\n      resize: \"none\",\n      height: \"200px\",\n      padding: \"20px\"\n    },\n    value: reason,\n    onChange: function onChange(e) {\n      return handleChange(e, setReason);\n    },\n    placeholder: data.reason,\n    required: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleClick,\n    style: {\n      backgroundColor: \"#4F1699\",\n      padding: \".6rem 1.5rem\",\n      marginTop: \"1rem\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 11\n    }\n  }, data.placeholder, loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"spinner-border spinner-border-sm spinner text-white ml-2\",\n    role: \"status\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 17\n    }\n  }, \"Loading...\")) : \"\"))), /*#__PURE__*/React.createElement(SuccessDialog, {\n    isOpen: error.state,\n    toggle: closeError,\n    title: error.message,\n    details: error.status,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }\n  }));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var _state$user, _state$user$details, _state$user$details$a, _state$user2, _state$user2$details, _state$user2$details$;\n\n  return {\n    userName: state === null || state === void 0 ? void 0 : (_state$user = state.user) === null || _state$user === void 0 ? void 0 : (_state$user$details = _state$user.details) === null || _state$user$details === void 0 ? void 0 : (_state$user$details$a = _state$user$details.admin) === null || _state$user$details$a === void 0 ? void 0 : _state$user$details$a.fullname,\n    email: state === null || state === void 0 ? void 0 : (_state$user2 = state.user) === null || _state$user2 === void 0 ? void 0 : (_state$user2$details = _state$user2.details) === null || _state$user2$details === void 0 ? void 0 : (_state$user2$details$ = _state$user2$details.admin) === null || _state$user2$details$ === void 0 ? void 0 : _state$user2$details$.email\n  };\n};\n\nexport default connect(mapStateToProps)(ReportsModal);","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settladminfront-end/src/pages/dashboards/Wallet Savings /Modal.js"],"names":["React","useState","connect","Modal","Button","Input","walletRequest","SuccessDialog","ReportsModal","show","setShow","data","transId","userName","email","reload","name","setName","reason","setReason","loading","setLoading","state","message","status","error","setError","closeError","refundAccount","reprocessTransaction","handleChange","e","set","value","target","handleClick","preventDefault","title","adminFullName","split","adminEmail","response","code","console","log","fullName","display","textAlign","borderBottom","padding","position","top","right","cursor","flexDirection","height","gap","margin","fontSize","backgroundColor","resize","marginTop","placeholder","mapStateToProps","user","details","admin","fullname"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { ReactComponent as Close } from \"../../../BgImages/close.svg\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { Input } from \"reactstrap\";\nimport walletRequest from \"../../../requests/wallet-savings\";\nimport SuccessDialog from \"../../SuccessDialog\";\nconst ReportsModal = ({ show, setShow, data, transId, userName, email, reload }) => {\n  const [name, setName] = useState(\"Assurance Uwangue\");\n  const [reason, setReason] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const [error, setError] = useState({\n    state: \"\",\n    message: \"\",\n    status: \"\"\n  });\n\n  const closeError = () => {\n    setError({\n      state: false,\n      message: \"\",\n      status: \"\",\n    });\n  };\n\n  const { refundAccount, reprocessTransaction } = walletRequest();\n  \n  const handleChange = (e, set) => {\n    const { value } = e.target;\n    set(value);\n  };\n\n  const handleClick = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    if (data.title === \"Refund Customer\") {\n      const response = await refundAccount({\n        adminFullName: userName.split(\" \")[0],\n        adminEmail: email,\n        reason: reason,\n        transId: transId\n      });\n      if(response.code === \"00\") {\n        console.log(response.data);\n        setLoading(false);\n        setShow(false);\n        return true;\n      }\n\n      setError({\n        state: true,\n        status: response.status,\n        message: response.message,\n      });\n    }\n\n    if (data.title === \"Reprocess Transaction\") {\n      const response = await reprocessTransaction({\n        fullName: userName.split(\" \")[0],\n        adminEmail: email,\n        reason: reason,\n        transId: transId\n      });\n      if(response.code === \"00\") {\n        console.log(response.data);\n        setShow(false);\n        return true;\n      }\n\n      setError({\n        state: true,\n        status: response.status,\n        message: response.message,\n      });\n    }\n\n    setLoading(false);\n    return false;\n  }\n\n  return (\n    <>\n      <Modal\n        show={show}\n        centered\n        onHide={() => setShow(false)}\n        className=\"transaction-modal\"\n      >\n        <div\n          style={{\n            display: \"relative\",\n          }}\n        >\n          <h3\n            style={{\n              textAlign: \"center\",\n              borderBottom: \"1px solid rgba(231, 231, 237, 0.6)\",\n              padding: \"1.5rem 0\",\n            }}\n          >\n            {data.title}\n          </h3>\n          <Close\n            style={{\n              position: \"absolute\",\n              top: \"20px\",\n              right: \"20px\",\n              cursor: \"pointer\",\n            }}\n            onClick={() => setShow(false)}\n          />\n        </div>\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            padding: \"3rem 2rem\",\n            height: \"100%\",\n            gap: \"30px\",\n          }}\n        >\n          <p\n            style={{\n              textAlign: \"center\",\n              margin: \"0 auto\",\n              fontSize: \"16px\",\n            }}\n          >\n            Please confirm this is the right customer account before initiating\n            this process\n          </p>\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              gap: \"20px\",\n            }}\n          >\n            <fieldset\n              className=\"float-label\"\n              style={{\n                margin: \"0\",\n              }}\n            >\n              <Input\n                name=\"name\"\n                autoComplete=\"off\"\n                type=\"text\"\n                className=\"form-control shadow-none\"\n                value={name}\n                style={{\n                  margin: \"0\",\n                }}\n                onChange={(e) => handleChange(e, setName)}\n                required\n              />\n              <label htmlFor=\"Full_Name\">Admin Full Name</label>\n            </fieldset>\n            <Input\n              type=\"textarea\"\n              className=\"form-control shadow-none\"\n              style={{\n                backgroundColor: \"#FAFAFA\",\n                resize: \"none\",\n                height: \"200px\",\n                padding: \"20px\",\n              }}\n              value={reason}\n              onChange={(e) => handleChange(e, setReason)}\n              placeholder={data.reason}\n              required\n            />\n          </div>\n\n          <Button\n            onClick={handleClick}\n            style={{\n              backgroundColor: \"#4F1699\",\n              padding: \".6rem 1.5rem\",\n              marginTop: \"1rem\",\n            }}\n          >\n            {data.placeholder}\n            {loading ? (\n              <div className=\"spinner-border spinner-border-sm spinner text-white ml-2\" role=\"status\">\n                <span className=\"sr-only\">Loading...</span>\n              </div>) : (\"\")\n            }\n          </Button>\n        </div>\n      </Modal>\n\n      <SuccessDialog \n        isOpen={error.state}\n        toggle={closeError}\n        title={error.message}\n        details={error.status}\n      /> \n    </>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  userName: state?.user?.details?.admin?.fullname,\n  email: state?.user?.details?.admin?.email\n});\nexport default connect(mapStateToProps)(ReportsModal);\n"]},"metadata":{},"sourceType":"module"}