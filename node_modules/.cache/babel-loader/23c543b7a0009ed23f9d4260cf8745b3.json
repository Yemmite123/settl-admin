{"ast":null,"code":"import _regeneratorRuntime from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{TabContent,TabPane}from\"reactstrap\";import TabView from\"../TabView\";import TransactionDetail from\"../TransactionDetail\";import data from\"./data\";import Request from\"../request\";import Loader from\"../../../../components/Loader\";var AgentsReport=function AgentsReport(){var _Request=Request(),getData=_Request.getData;var text=[\"Today   \",\"Last 7 Days\",\"Last 30 days\",\"Last 90 Days\"];var _useState=useState(0),_useState2=_slicedToArray(_useState,2),activeTab=_useState2[0],setActiveTab=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showDetails=_useState4[0],setShowDetails=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),index=_useState6[0],setIndex=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),analysis=_useState8[0],setAnalysis=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),transRef=_useState10[0],setTransRef=_useState10[1];var _useState11=useState(30),_useState12=_slicedToArray(_useState11,2),days=_useState12[0],setDays=_useState12[1];var _useState13=useState(text[2]),_useState14=_slicedToArray(_useState13,2),filterText=_useState14[0],setFilterText=_useState14[1];var tabs=[\"All\",\"Peer-to-Peer\",\"Transfers\",\"Bill Payments\",\"POS Withdrawals\",\"USSD Withdrawals\",\"Wallet top-up\",\"Voucher Withdrawals\"];var title=[\"All\",\"P2P\",\"Transfers\",\"Bills\",\"POS Withdrawals\",\"USSD Withdrawals\",\"Wallet top-up\",\"Voucher Withdrawals\"];var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,_response$data,allTransactionRecord,p2PTransactionRecord,transfersTransactionRecord,billPaymentTransactionRecord,posTransactionRecord,ussdTransactionRecord,walletTopUpTransactionRecord,voucherTransactionRecord;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getData(2,days);case 2:response=_context.sent;if(response.code===\"00\"){_response$data=response.data,allTransactionRecord=_response$data.allTransactionRecord,p2PTransactionRecord=_response$data.p2PTransactionRecord,transfersTransactionRecord=_response$data.transfersTransactionRecord,billPaymentTransactionRecord=_response$data.billPaymentTransactionRecord,posTransactionRecord=_response$data.posTransactionRecord,ussdTransactionRecord=_response$data.ussdTransactionRecord,walletTopUpTransactionRecord=_response$data.walletTopUpTransactionRecord,voucherTransactionRecord=_response$data.voucherTransactionRecord;setAnalysis([allTransactionRecord,p2PTransactionRecord,transfersTransactionRecord,billPaymentTransactionRecord,posTransactionRecord,ussdTransactionRecord,walletTopUpTransactionRecord,voucherTransactionRecord]);}case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();var refresh=function refresh(){setAnalysis(null);fetchData();};var updateDays=function updateDays(day,index){if(filterText!==text[index]){setAnalysis(null);setDays(day);setFilterText(text[index]);}};useEffect(function(){window.scrollTo(0,0);fetchData();},[days]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"bg_absolute\"},/*#__PURE__*/React.createElement(\"div\",{className:\"nav\"},tabs.map(function(tab,i){return/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){setActiveTab(i);setShowDetails(false);},className:\"\".concat(activeTab===i?\"active_nav\":\"\")},/*#__PURE__*/React.createElement(\"p\",null,tab));}))),!analysis?/*#__PURE__*/React.createElement(Loader,null):/*#__PURE__*/React.createElement(React.Fragment,null,!showDetails?/*#__PURE__*/React.createElement(TabContent,{activeTab:activeTab},tabs.map(function(tab,i){return/*#__PURE__*/React.createElement(TabPane,{tabId:i,key:i},/*#__PURE__*/React.createElement(TabView,{title:title[i],clicked:setShowDetails,index:i,setIndex:setIndex,number:\"Agent\",analysis:analysis[i],setTransRef:setTransRef,updateDays:updateDays,filterText:filterText,refresh:refresh}));})):/*#__PURE__*/React.createElement(TransactionDetail,{setShowDetails:setShowDetails,title:tabs[index],data:data[index],type:\"Agent\",transRef:transRef}))));};export default AgentsReport;","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/src/pages/dashboards/Reports/Agents/index.js"],"names":["React","useState","useEffect","TabContent","TabPane","TabView","TransactionDetail","data","Request","Loader","AgentsReport","getData","text","activeTab","setActiveTab","showDetails","setShowDetails","index","setIndex","analysis","setAnalysis","transRef","setTransRef","days","setDays","filterText","setFilterText","tabs","title","fetchData","response","code","allTransactionRecord","p2PTransactionRecord","transfersTransactionRecord","billPaymentTransactionRecord","posTransactionRecord","ussdTransactionRecord","walletTopUpTransactionRecord","voucherTransactionRecord","refresh","updateDays","day","window","scrollTo","map","tab","i"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { TabContent, TabPane } from \"reactstrap\";\nimport TabView from \"../TabView\";\nimport TransactionDetail from \"../TransactionDetail\";\nimport data from \"./data\";\nimport Request from \"../request\";\nimport Loader from \"../../../../components/Loader\";\n\nconst AgentsReport = () => {\n  const { getData } = Request();\n  const text = [\"Today   \", \"Last 7 Days\", \"Last 30 days\", \"Last 90 Days\"];\n  const [activeTab, setActiveTab] = useState(0);\n  const [showDetails, setShowDetails] = useState(false);\n  const [index, setIndex] = useState(null);\n  const [analysis, setAnalysis] = useState(null);\n  const [transRef, setTransRef] = useState(\"\");\n\n  const [days, setDays] = useState(30);\n  const [filterText, setFilterText] = useState(text[2]);\n  const tabs = [\n    \"All\",\n    \"Peer-to-Peer\",\n    \"Transfers\",\n    \"Bill Payments\",\n    \"POS Withdrawals\",\n    \"USSD Withdrawals\",\n    \"Wallet top-up\",\n    \"Voucher Withdrawals\",\n  ];\n  const title = [\n    \"All\",\n    \"P2P\",\n    \"Transfers\",\n    \"Bills\",\n    \"POS Withdrawals\",\n    \"USSD Withdrawals\",\n    \"Wallet top-up\",\n    \"Voucher Withdrawals\",\n  ];\n  const fetchData = async () => {\n    const response = await getData(2, days);\n    if (response.code === \"00\") {\n      const {\n        allTransactionRecord,\n        p2PTransactionRecord,\n        transfersTransactionRecord,\n        billPaymentTransactionRecord,\n        posTransactionRecord,\n        ussdTransactionRecord,\n        walletTopUpTransactionRecord,\n        voucherTransactionRecord,\n      } = response.data;\n      setAnalysis([\n        allTransactionRecord,\n        p2PTransactionRecord,\n        transfersTransactionRecord,\n        billPaymentTransactionRecord,\n        posTransactionRecord,\n        ussdTransactionRecord,\n        walletTopUpTransactionRecord,\n        voucherTransactionRecord,\n      ]);\n    }\n  };\n\n  const refresh = () => {\n    setAnalysis(null);\n    fetchData();\n  };\n  const updateDays = (day, index) => {\n    if (filterText !== text[index]) {\n      setAnalysis(null);\n      setDays(day);\n      setFilterText(text[index]);\n    }\n  };\n  useEffect(() => {\n    window.scrollTo(0, 0);\n    fetchData();\n  }, [days]);\n  return (\n    <>\n      <>\n        <div className=\"bg_absolute\">\n          <div className=\"nav\">\n            {tabs.map((tab, i) => (\n              <div\n                onClick={() => {\n                  setActiveTab(i);\n                  setShowDetails(false);\n                }}\n                className={`${activeTab === i ? \"active_nav\" : \"\"}`}\n              >\n                <p>{tab}</p>\n              </div>\n            ))}\n          </div>\n        </div>\n        {!analysis ? (\n          <Loader />\n        ) : (\n          <>\n            {!showDetails ? (\n              <TabContent activeTab={activeTab}>\n                {tabs.map((tab, i) => (\n                  <TabPane tabId={i} key={i}>\n                    <TabView\n                      title={title[i]}\n                      clicked={setShowDetails}\n                      index={i}\n                      setIndex={setIndex}\n                      number=\"Agent\"\n                      analysis={analysis[i]}\n                      setTransRef={setTransRef}\n                      updateDays={updateDays}\n                      filterText={filterText}\n                      refresh={refresh}\n                    />\n                  </TabPane>\n                ))}\n              </TabContent>\n            ) : (\n              <TransactionDetail\n                setShowDetails={setShowDetails}\n                title={tabs[index]}\n                data={data[index]}\n                type=\"Agent\"\n                transRef={transRef}\n              />\n            )}\n          </>\n        )}\n      </>\n    </>\n  );\n};\n\nexport default AgentsReport;\n"]},"metadata":{},"sourceType":"module"}