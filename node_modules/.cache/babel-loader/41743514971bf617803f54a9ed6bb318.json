{"ast":null,"code":"import _regeneratorRuntime from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{connect}from\"react-redux\";import{ReactComponent as Close}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../BgImages/close.svg\";import{Modal,Button}from\"react-bootstrap\";import{Input}from\"reactstrap\";import walletRequest from\"../../../requests/wallet-savings\";import SuccessDialog from\"../../SuccessDialog\";var ReportsModal=function ReportsModal(_ref){var show=_ref.show,setShow=_ref.setShow,data=_ref.data,transId=_ref.transId,userName=_ref.userName,email=_ref.email,reload=_ref.reload;var _useState=useState(\"Assurance Uwangue\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),reason=_useState4[0],setReason=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState({state:\"\",message:\"\",status:\"\"}),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var closeError=function closeError(){setError({state:false,message:\"\",status:\"\"});};var _walletRequest=walletRequest(),refundAccount=_walletRequest.refundAccount,reprocessTransaction=_walletRequest.reprocessTransaction;var handleChange=function handleChange(e,set){var value=e.target.value;set(value);};var handleClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var response,_response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();setLoading(true);if(!(data.title===\"Refund Customer\")){_context.next=12;break;}_context.next=5;return refundAccount({adminFullName:userName.split(\" \")[0],adminEmail:email,reason:reason,transId:transId});case 5:response=_context.sent;if(!(response.code===\"00\")){_context.next=11;break;}console.log(response.data);setLoading(false);setShow(false);return _context.abrupt(\"return\",true);case 11:setError({state:true,status:response.status,message:response.message});case 12:if(!(data.title===\"Reprocess Transaction\")){_context.next=21;break;}_context.next=15;return reprocessTransaction({fullName:userName.split(\" \")[0],adminEmail:email,reason:reason,transId:transId});case 15:_response=_context.sent;if(!(_response.code===\"00\")){_context.next=20;break;}console.log(_response.data);setShow(false);return _context.abrupt(\"return\",true);case 20:setError({state:true,status:_response.status,message:_response.message});case 21:setLoading(false);return _context.abrupt(\"return\",false);case 23:case\"end\":return _context.stop();}}},_callee);}));return function handleClick(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Modal,{show:show,centered:true,onHide:function onHide(){return setShow(false);},className:\"transaction-modal\"},/*#__PURE__*/React.createElement(\"div\",{style:{display:\"relative\"}},/*#__PURE__*/React.createElement(\"h3\",{style:{textAlign:\"center\",borderBottom:\"1px solid rgba(231, 231, 237, 0.6)\",padding:\"1.5rem 0\"}},data.title),/*#__PURE__*/React.createElement(Close,{style:{position:\"absolute\",top:\"20px\",right:\"20px\",cursor:\"pointer\"},onClick:function onClick(){return setShow(false);}})),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",flexDirection:\"column\",padding:\"3rem 2rem\",height:\"100%\",gap:\"30px\"}},/*#__PURE__*/React.createElement(\"p\",{style:{textAlign:\"center\",margin:\"0 auto\",fontSize:\"16px\"}},\"Please confirm this is the right customer account before initiating this process\"),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",flexDirection:\"column\",gap:\"20px\"}},/*#__PURE__*/React.createElement(\"fieldset\",{className:\"float-label\",style:{margin:\"0\"}},/*#__PURE__*/React.createElement(Input,{name:\"name\",autoComplete:\"off\",type:\"text\",className:\"form-control shadow-none\",value:name,style:{margin:\"0\"},onChange:function onChange(e){return handleChange(e,setName);},required:true}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"Full_Name\"},\"Admin Full Name\")),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",className:\"form-control shadow-none\",style:{backgroundColor:\"#FAFAFA\",resize:\"none\",height:\"200px\",padding:\"20px\"},value:reason,onChange:function onChange(e){return handleChange(e,setReason);},placeholder:data.reason,required:true})),/*#__PURE__*/React.createElement(Button,{onClick:handleClick,style:{backgroundColor:\"#4F1699\",padding:\".6rem 1.5rem\",marginTop:\"1rem\"}},data.placeholder,loading?/*#__PURE__*/React.createElement(\"div\",{className:\"spinner-border spinner-border-sm spinner text-white ml-2\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{className:\"sr-only\"},\"Loading...\")):\"\"))),/*#__PURE__*/React.createElement(SuccessDialog,{isOpen:error.state,toggle:closeError,title:error.message,details:error.status}));};var mapStateToProps=function mapStateToProps(state){var _state$user,_state$user$details,_state$user$details$a,_state$user2,_state$user2$details,_state$user2$details$;return{userName:state===null||state===void 0?void 0:(_state$user=state.user)===null||_state$user===void 0?void 0:(_state$user$details=_state$user.details)===null||_state$user$details===void 0?void 0:(_state$user$details$a=_state$user$details.admin)===null||_state$user$details$a===void 0?void 0:_state$user$details$a.fullname,email:state===null||state===void 0?void 0:(_state$user2=state.user)===null||_state$user2===void 0?void 0:(_state$user2$details=_state$user2.details)===null||_state$user2$details===void 0?void 0:(_state$user2$details$=_state$user2$details.admin)===null||_state$user2$details$===void 0?void 0:_state$user2$details$.email};};export default connect(mapStateToProps)(ReportsModal);","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/src/pages/dashboards/Wallet Savings /Modal.js"],"names":["React","useState","connect","Modal","Button","Input","walletRequest","SuccessDialog","ReportsModal","show","setShow","data","transId","userName","email","reload","name","setName","reason","setReason","loading","setLoading","state","message","status","error","setError","closeError","refundAccount","reprocessTransaction","handleChange","e","set","value","target","handleClick","preventDefault","title","adminFullName","split","adminEmail","response","code","console","log","fullName","display","textAlign","borderBottom","padding","position","top","right","cursor","flexDirection","height","gap","margin","fontSize","backgroundColor","resize","marginTop","placeholder","mapStateToProps","user","details","admin","fullname"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { ReactComponent as Close } from \"../../../BgImages/close.svg\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { Input } from \"reactstrap\";\nimport walletRequest from \"../../../requests/wallet-savings\";\nimport SuccessDialog from \"../../SuccessDialog\";\nconst ReportsModal = ({ show, setShow, data, transId, userName, email, reload }) => {\n  const [name, setName] = useState(\"Assurance Uwangue\");\n  const [reason, setReason] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const [error, setError] = useState({\n    state: \"\",\n    message: \"\",\n    status: \"\"\n  });\n\n  const closeError = () => {\n    setError({\n      state: false,\n      message: \"\",\n      status: \"\",\n    });\n  };\n\n  const { refundAccount, reprocessTransaction } = walletRequest();\n  \n  const handleChange = (e, set) => {\n    const { value } = e.target;\n    set(value);\n  };\n\n  const handleClick = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    if (data.title === \"Refund Customer\") {\n      const response = await refundAccount({\n        adminFullName: userName.split(\" \")[0],\n        adminEmail: email,\n        reason: reason,\n        transId: transId\n      });\n      if(response.code === \"00\") {\n        console.log(response.data);\n        setLoading(false);\n        setShow(false);\n        return true;\n      }\n\n      setError({\n        state: true,\n        status: response.status,\n        message: response.message,\n      });\n    }\n\n    if (data.title === \"Reprocess Transaction\") {\n      const response = await reprocessTransaction({\n        fullName: userName.split(\" \")[0],\n        adminEmail: email,\n        reason: reason,\n        transId: transId\n      });\n      if(response.code === \"00\") {\n        console.log(response.data);\n        setShow(false);\n        return true;\n      }\n\n      setError({\n        state: true,\n        status: response.status,\n        message: response.message,\n      });\n    }\n\n    setLoading(false);\n    return false;\n  }\n\n  return (\n    <>\n      <Modal\n        show={show}\n        centered\n        onHide={() => setShow(false)}\n        className=\"transaction-modal\"\n      >\n        <div\n          style={{\n            display: \"relative\",\n          }}\n        >\n          <h3\n            style={{\n              textAlign: \"center\",\n              borderBottom: \"1px solid rgba(231, 231, 237, 0.6)\",\n              padding: \"1.5rem 0\",\n            }}\n          >\n            {data.title}\n          </h3>\n          <Close\n            style={{\n              position: \"absolute\",\n              top: \"20px\",\n              right: \"20px\",\n              cursor: \"pointer\",\n            }}\n            onClick={() => setShow(false)}\n          />\n        </div>\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            padding: \"3rem 2rem\",\n            height: \"100%\",\n            gap: \"30px\",\n          }}\n        >\n          <p\n            style={{\n              textAlign: \"center\",\n              margin: \"0 auto\",\n              fontSize: \"16px\",\n            }}\n          >\n            Please confirm this is the right customer account before initiating\n            this process\n          </p>\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              gap: \"20px\",\n            }}\n          >\n            <fieldset\n              className=\"float-label\"\n              style={{\n                margin: \"0\",\n              }}\n            >\n              <Input\n                name=\"name\"\n                autoComplete=\"off\"\n                type=\"text\"\n                className=\"form-control shadow-none\"\n                value={name}\n                style={{\n                  margin: \"0\",\n                }}\n                onChange={(e) => handleChange(e, setName)}\n                required\n              />\n              <label htmlFor=\"Full_Name\">Admin Full Name</label>\n            </fieldset>\n            <Input\n              type=\"textarea\"\n              className=\"form-control shadow-none\"\n              style={{\n                backgroundColor: \"#FAFAFA\",\n                resize: \"none\",\n                height: \"200px\",\n                padding: \"20px\",\n              }}\n              value={reason}\n              onChange={(e) => handleChange(e, setReason)}\n              placeholder={data.reason}\n              required\n            />\n          </div>\n\n          <Button\n            onClick={handleClick}\n            style={{\n              backgroundColor: \"#4F1699\",\n              padding: \".6rem 1.5rem\",\n              marginTop: \"1rem\",\n            }}\n          >\n            {data.placeholder}\n            {loading ? (\n              <div className=\"spinner-border spinner-border-sm spinner text-white ml-2\" role=\"status\">\n                <span className=\"sr-only\">Loading...</span>\n              </div>) : (\"\")\n            }\n          </Button>\n        </div>\n      </Modal>\n\n      <SuccessDialog \n        isOpen={error.state}\n        toggle={closeError}\n        title={error.message}\n        details={error.status}\n      /> \n    </>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  userName: state?.user?.details?.admin?.fullname,\n  email: state?.user?.details?.admin?.email\n});\nexport default connect(mapStateToProps)(ReportsModal);\n"]},"metadata":{},"sourceType":"module"}