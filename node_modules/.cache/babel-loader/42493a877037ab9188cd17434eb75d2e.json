{"ast":null,"code":"import _regeneratorRuntime from \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /OLUYEMI SETTL TESTING FOR ADMIN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /OLUYEMI SETTL TESTING FOR ADMIN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /OLUYEMI SETTL TESTING FOR ADMIN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /OLUYEMI SETTL TESTING FOR ADMIN/src/pages/admin-management/AddAdminModal.js\";\nimport React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Button, Form, FormGroup, Label, Modal, ModalBody, ModalHeader } from \"reactstrap\";\nimport { Plus } from \"react-feather\";\nimport InputBox from \"../../components/InputBox\";\nimport { Multiselect } from \"multiselect-react-dropdown\";\nimport adminRequest from \"../../requests/admin\";\nimport SuccessDialog from \"../SuccessDialog\";\nimport FailureDialog from \"../FailureDialog\";\nimport { useAPI } from \"../../contexts/AdminContext\";\nvar options = [{\n  id: 1,\n  name: \"Admin\"\n}, {\n  id: 2,\n  name: \"Super Admin\"\n}, {\n  id: 3,\n  name: \"Support\"\n}];\nvar style = {\n  border: \"1px solid #4F1699\",\n  background: \"#4F1699\",\n  fontSize: \"15px\",\n  lineHeight: \"18px\",\n  letterSpacing: \"0.3px\",\n  width: \"100%\",\n  padding: \"15px\"\n};\n\nfunction AddNewAdmin(_ref) {\n  var userName = _ref.userName;\n\n  var _useAPI = useAPI(),\n      changeUpdateStatus = _useAPI.changeUpdateStatus;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      addAdminModal = _useState2[0],\n      setAddAdminModal = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      completeModal = _useState4[0],\n      setCompleteModal = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      employeeName = _useState6[0],\n      setEmployeeName = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      employeeEmailAddress = _useState8[0],\n      setEmployeeEmailAddress = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      employeePhoneNumber = _useState10[0],\n      setEmployeePhoneNumber = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      employeeDepartment = _useState12[0],\n      setEmployeeDepartment = _useState12[1];\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      adminRole = _useState14[0],\n      setAdminRole = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      loading = _useState16[0],\n      setLoading = _useState16[1];\n\n  var _useState17 = useState({\n    message: \"\",\n    data: \"\"\n  }),\n      _useState18 = _slicedToArray(_useState17, 2),\n      error = _useState18[0],\n      setError = _useState18[1];\n\n  var _adminRequest = adminRequest(),\n      addAdmin = _adminRequest.addAdmin;\n\n  var toggleModal = function toggleModal() {\n    return setAddAdminModal(!addAdminModal);\n  };\n\n  var toggleCompleteModal = function toggleCompleteModal() {\n    return setCompleteModal(!completeModal);\n  };\n\n  var checkInputValue = function checkInputValue() {\n    if (employeeEmailAddress === \"\" || employeeDepartment === \"\" || employeePhoneNumber === \"\" || employeeName === \"\" || adminRole === \"\") return true;\n    return false;\n  };\n\n  var reset = function reset() {\n    setEmployeeEmailAddress(\"\");\n    setEmployeeDepartment(\"\");\n    setEmployeePhoneNumber(\"\");\n    setEmployeeName(\"\");\n    setAdminRole(\"\");\n  };\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              setLoading(true);\n              _context.next = 4;\n              return addAdmin(employeeName, employeeEmailAddress, employeePhoneNumber, adminRole, employeeDepartment, userName.split(\" \")[0]);\n\n            case 4:\n              response = _context.sent;\n\n              if (!(response.code === \"00\")) {\n                _context.next = 13;\n                break;\n              }\n\n              setLoading(false);\n              setError(response);\n              setAddAdminModal(false);\n              setCompleteModal(true);\n              changeUpdateStatus();\n              reset();\n              return _context.abrupt(\"return\", true);\n\n            case 13:\n              setError(response);\n              setCompleteModal(true);\n              setLoading(false);\n              return _context.abrupt(\"return\", false);\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    className: \"btn-add\",\n    onClick: toggleModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Plus, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }), \"New Admin\")), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: addAdminModal,\n    toggle: toggleModal,\n    className: \"admin-modal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    toggle: toggleModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, \"Create New Admin\"), /*#__PURE__*/React.createElement(ModalBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    method: \"post\",\n    onSubmit: handleSubmit,\n    className: \"new-admin-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputBox, {\n    type: \"text\",\n    name: \"employeeName\",\n    id: \"employeeName\",\n    value: employeeName,\n    onChange: function onChange(e) {\n      return setEmployeeName(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    for: \"employeeName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 15\n    }\n  }, \"Employee Name\")), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputBox, {\n    type: \"email\",\n    name: \"employeeEmailAddress\",\n    id: \"employeeEmailAddress\",\n    value: employeeEmailAddress,\n    onChange: function onChange(e) {\n      return setEmployeeEmailAddress(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    for: \"employeeEmailAddress\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 15\n    }\n  }, \"Email Address\")), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputBox, {\n    type: \"text\",\n    name: \"employeePhoneNumber\",\n    id: \"employeePhoneNumber\",\n    value: employeePhoneNumber,\n    onChange: function onChange(e) {\n      return setEmployeePhoneNumber(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    for: \"employeePhoneNumber\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 15\n    }\n  }, \"Phone number\")), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputBox, {\n    type: \"text\",\n    name: \"employeeDepartment\",\n    id: \"employeeDepartment\",\n    value: employeeDepartment,\n    onChange: function onChange(e) {\n      return setEmployeeDepartment(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    for: \"employeeDepartment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 15\n    }\n  }, \"Department\")), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Multiselect, {\n    className: \"forget_pass_select\",\n    options: options,\n    showCheckbox: true,\n    showArrow: true // style={ { border: \"3px solid red\", \"border-bottom\": \"1px solid blue\", \"border-radius\": \"0px\" } }\n    ,\n    placeholder: adminRole === \"\" ? \"Admin Role\" : adminRole,\n    displayValue: \"name\",\n    onSelect: function onSelect(e) {\n      return setAdminRole(e[0].id);\n    },\n    singleSelect: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    className: \"btn-add\",\n    type: \"submit\",\n    disabled: checkInputValue(),\n    style: style,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }\n  }, \"Create Admin\", loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"spinner-border spinner-border-sm spinner text-white ml-2\",\n    role: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 19\n    }\n  }, \"Loading...\")) : \"\")))), /*#__PURE__*/React.createElement(SuccessDialog, {\n    isOpen: completeModal,\n    toggle: toggleCompleteModal,\n    title: error.message,\n    details: error.data,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(FailureDialog, {\n    isOpen: completeModal,\n    toggle: toggleCompleteModal,\n    title: error.message,\n    details: error.data,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }\n  }));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var _state$user, _state$user$details, _state$user$details$a;\n\n  return {\n    userName: state === null || state === void 0 ? void 0 : (_state$user = state.user) === null || _state$user === void 0 ? void 0 : (_state$user$details = _state$user.details) === null || _state$user$details === void 0 ? void 0 : (_state$user$details$a = _state$user$details.admin) === null || _state$user$details$a === void 0 ? void 0 : _state$user$details$a.fullname\n  };\n};\n\nexport default connect(mapStateToProps)(AddNewAdmin);","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /OLUYEMI SETTL TESTING FOR ADMIN/src/pages/admin-management/AddAdminModal.js"],"names":["React","useState","connect","Button","Form","FormGroup","Label","Modal","ModalBody","ModalHeader","Plus","InputBox","Multiselect","adminRequest","SuccessDialog","FailureDialog","useAPI","options","id","name","style","border","background","fontSize","lineHeight","letterSpacing","width","padding","AddNewAdmin","userName","changeUpdateStatus","addAdminModal","setAddAdminModal","completeModal","setCompleteModal","employeeName","setEmployeeName","employeeEmailAddress","setEmployeeEmailAddress","employeePhoneNumber","setEmployeePhoneNumber","employeeDepartment","setEmployeeDepartment","adminRole","setAdminRole","loading","setLoading","message","data","error","setError","addAdmin","toggleModal","toggleCompleteModal","checkInputValue","reset","handleSubmit","e","preventDefault","split","response","code","target","value","mapStateToProps","state","user","details","admin","fullname"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  Button,\n  Form,\n  FormGroup,\n  Label,\n  Modal,\n  ModalBody,\n  ModalHeader,\n} from \"reactstrap\";\nimport { Plus } from \"react-feather\";\nimport InputBox from \"../../components/InputBox\";\nimport { Multiselect } from \"multiselect-react-dropdown\";\nimport adminRequest from \"../../requests/admin\";\nimport SuccessDialog from \"../SuccessDialog\";\nimport FailureDialog from \"../FailureDialog\";\nimport { useAPI } from \"../../contexts/AdminContext\";\n\nconst options = [\n  {\n    id: 1,\n    name: \"Admin\"\n  },\n  {\n    id: 2,\n    name: \"Super Admin\"\n  },\n  {\n    id: 3,\n    name: \"Support\"\n  },\n];\n\nconst style = {\n  border: \"1px solid #4F1699\",\n  background: \"#4F1699\",\n  fontSize: \"15px\",\n  lineHeight: \"18px\",\n  letterSpacing: \"0.3px\",\n  width: \"100%\",\n  padding: \"15px\",\n};\n\nfunction AddNewAdmin({ userName }) {\n  const { changeUpdateStatus } = useAPI();\n  const [addAdminModal, setAddAdminModal] = useState(false);\n  const [completeModal, setCompleteModal] = useState(false);\n  const [employeeName, setEmployeeName] = useState(\"\");\n  const [employeeEmailAddress, setEmployeeEmailAddress] = useState(\"\");\n  const [employeePhoneNumber, setEmployeePhoneNumber] = useState(\"\");\n  const [employeeDepartment, setEmployeeDepartment] = useState(\"\");\n  const [adminRole, setAdminRole] = useState(\"\");\n\n  const [loading, setLoading] = useState(false);\n\n  const [error, setError] = useState({\n    message: \"\",\n    data: \"\",\n  });\n\n  const { addAdmin } = adminRequest();\n\n  const toggleModal = () => setAddAdminModal(!addAdminModal);\n  const toggleCompleteModal = () => setCompleteModal(!completeModal);\n\n  const checkInputValue = () => {\n    if (\n      employeeEmailAddress === \"\" ||\n      employeeDepartment === \"\" ||\n      employeePhoneNumber === \"\" ||\n      employeeName === \"\" ||\n      adminRole === \"\"\n    )\n      return true;\n    return false;\n  };\n\n  const reset = () => {\n    setEmployeeEmailAddress(\"\");\n    setEmployeeDepartment(\"\");\n    setEmployeePhoneNumber(\"\");\n    setEmployeeName(\"\");\n    setAdminRole(\"\");\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    const response = await addAdmin(\n      employeeName,\n      employeeEmailAddress,\n      employeePhoneNumber,\n      adminRole,\n      employeeDepartment,\n      userName.split(\" \")[0]\n    );\n    if (response.code === \"00\") {\n      setLoading(false);\n      setError(response);\n      setAddAdminModal(false);\n      setCompleteModal(true);\n      changeUpdateStatus();\n      reset();\n      return true;\n    }\n\n    setError(response);\n    setCompleteModal(true);\n    setLoading(false);\n    return false;\n  };\n\n  return (\n    <>\n      <div className=\"text-right\">\n        <Button color=\"primary\" className=\"btn-add\" onClick={toggleModal}>\n          <Plus />\n          New Admin\n        </Button>\n      </div>\n      <Modal\n        isOpen={addAdminModal}\n        toggle={toggleModal}\n        className=\"admin-modal\"\n      >\n        <ModalHeader toggle={toggleModal}>Create New Admin</ModalHeader>\n        <ModalBody>\n          <Form\n            method=\"post\"\n            onSubmit={handleSubmit}\n            className=\"new-admin-form\"\n          >\n            <FormGroup>\n              <InputBox\n                type=\"text\"\n                name=\"employeeName\"\n                id=\"employeeName\"\n                value={employeeName}\n                onChange={(e) => setEmployeeName(e.target.value)}\n              />\n              <Label for=\"employeeName\">Employee Name</Label>\n            </FormGroup>\n            <FormGroup>\n              <InputBox\n                type=\"email\"\n                name=\"employeeEmailAddress\"\n                id=\"employeeEmailAddress\"\n                value={employeeEmailAddress}\n                onChange={(e) => setEmployeeEmailAddress(e.target.value)}\n              />\n              <Label for=\"employeeEmailAddress\">Email Address</Label>\n            </FormGroup>\n            <FormGroup>\n              <InputBox\n                type=\"text\"\n                name=\"employeePhoneNumber\"\n                id=\"employeePhoneNumber\"\n                value={employeePhoneNumber}\n                onChange={(e) => setEmployeePhoneNumber(e.target.value)}\n              />\n              <Label for=\"employeePhoneNumber\">Phone number</Label>\n            </FormGroup>\n            <FormGroup>\n              <InputBox\n                type=\"text\"\n                name=\"employeeDepartment\"\n                id=\"employeeDepartment\"\n                value={employeeDepartment}\n                onChange={(e) => setEmployeeDepartment(e.target.value)}\n              />\n              <Label for=\"employeeDepartment\">Department</Label>\n            </FormGroup>\n            <FormGroup>\n              <Multiselect\n                className=\"forget_pass_select\"\n                options={options}\n                showCheckbox={true}\n                showArrow={true}\n                // style={ { border: \"3px solid red\", \"border-bottom\": \"1px solid blue\", \"border-radius\": \"0px\" } }\n                placeholder={adminRole === \"\" ? \"Admin Role\" : adminRole}\n                displayValue=\"name\"\n                onSelect={(e) => setAdminRole(e[0].id)}\n                singleSelect={true}\n              />\n            </FormGroup>\n            <hr />\n            <Button\n              color=\"primary\"\n              className=\"btn-add\"\n              type=\"submit\"\n              disabled={checkInputValue()}\n              style={style}\n            >\n              Create Admin\n              {loading ? (\n                <div\n                  className=\"spinner-border spinner-border-sm spinner text-white ml-2\"\n                  role=\"status\"\n                >\n                  <span className=\"sr-only\">Loading...</span>\n                </div>\n              ) : (\n                \"\"\n              )}\n            </Button>\n          </Form>\n        </ModalBody>\n      </Modal>\n\n      <SuccessDialog\n        isOpen={completeModal}\n        toggle={toggleCompleteModal}\n        title={error.message}\n        details={error.data}\n      />\n\n      <FailureDialog\n        isOpen={completeModal}\n        toggle={toggleCompleteModal}\n        title={error.message}\n        details={error.data}\n      />\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  userName: state?.user?.details?.admin?.fullname,\n});\nexport default connect(mapStateToProps)(AddNewAdmin);\n"]},"metadata":{},"sourceType":"module"}