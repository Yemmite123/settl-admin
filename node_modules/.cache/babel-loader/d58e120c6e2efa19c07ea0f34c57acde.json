{"ast":null,"code":"import _regeneratorRuntime from \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/src/pages/customers/settl-customers/TransactionHistoryDetails.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Badge, Breadcrumb, BreadcrumbItem, Button, Card, Row, Col } from \"reactstrap\";\nimport { Link } from \"react-router-dom\";\nimport ResetButton from \"./../settl-customers/ResetButton\";\nimport TransactionMoreDropDown from \"./TransactionMoreDropdown\";\nimport funds from \"./../../../assets/img/icons/funds.svg\";\nimport RefundDialog from \"../RefundDialog\";\nimport ReprocessTransactionDialog from \"../ReprocessTransactionDialog\";\nimport Loader from \"../../../components/Loader\";\nimport TransactionDetails from \"../../../requests/transactions\";\nimport Moment from \"react-moment\";\nexport default function TransactionHistoryDetails(_ref) {\n  var _data$transAmount,\n      _this = this;\n\n  var setShowTransactionDetails = _ref.setShowTransactionDetails,\n      transRef = _ref.transRef;\n\n  var _TransactionDetails = TransactionDetails(),\n      getTransactionDetails = _TransactionDetails.getTransactionDetails;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      refundCustomer = _useState2[0],\n      setRefundCustomer = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      reprocessTransaction = _useState4[0],\n      setReprocessTransaction = _useState4[1];\n\n  var _useState5 = useState({}),\n      _useState6 = _slicedToArray(_useState5, 2),\n      data = _useState6[0],\n      setData = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      loading = _useState8[0],\n      setLoading = _useState8[1];\n\n  var toggleRefundCustomerDialog = function toggleRefundCustomerDialog() {\n    return setRefundCustomer(!refundCustomer);\n  };\n\n  var toggleReprocessTransactionDialog = function toggleReprocessTransactionDialog() {\n    return setReprocessTransaction(!reprocessTransaction);\n  };\n\n  var fetchData = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              _context.next = 3;\n              return getTransactionDetails(transRef);\n\n            case 3:\n              response = _context.sent;\n\n              if (response.code === \"00\") {\n                setData(response.data);\n                console.log(response.data);\n              }\n\n              setLoading(false);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function fetchData() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var dataTemplate = [{\n    id: \"1\",\n    title: \"Transaction Name\",\n    value: data.payMethod\n  }, {\n    id: \"2\",\n    title: \"Transaction Type\",\n    value: data.transType\n  }, {\n    id: \"3\",\n    title: \"Transaction Reference\",\n    value: data.transId\n  }, {\n    id: \"4\",\n    title: \"Paid at\",\n    value: /*#__PURE__*/React.createElement(Moment, {\n      format: \"DD-MM-YYYY hh:mm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 14\n      }\n    }, data.transDate)\n  }, {\n    id: \"5\",\n    title: \"Recipient Account Number\",\n    value: /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"mb-0 mr-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }, data.toCustomerAcctNo)), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(ResetButton, {\n      title: \"Blacklist biller ID\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    })))\n  }, {\n    id: \"6\",\n    title: \"Recipient Name\",\n    value: data.toCustomerName\n  }, {\n    id: \"7\",\n    title: \"Recipient Bank\",\n    value: \"Wema Bank\"\n  }, {\n    id: \"8\",\n    title: \"Settl fee\",\n    value: \"â‚¦0.00\"\n  }, {\n    id: \"9\",\n    title: \"Transaction source\",\n    value: data.fundSource\n  }, {\n    id: \"10\",\n    title: \"Billing reference\",\n    value: data.referenceNo\n  }, {\n    id: \"11\",\n    title: \"Biller\",\n    value: \"Interswitch\"\n  }, {\n    id: \"12\",\n    title: \"Description\",\n    value: data.transDescription\n  }];\n\n  var Classes = function Classes(option) {\n    if ((option === null || option === void 0 ? void 0 : option.toLowerCase()) === \"pending\") return \"status pending\";\n    if ((option === null || option === void 0 ? void 0 : option.toLowerCase()) === \"success\") return \"status success\";\n    if ((option === null || option === void 0 ? void 0 : option.toLowerCase()) === \"failed\") return \"status failed\";\n    return \"\";\n  };\n\n  useEffect(function () {\n    fetchData();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Breadcrumb, {\n    className: \"align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(BreadcrumbItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/customers/settl-customers\",\n    onClick: function onClick() {\n      return setShowTransactionDetails(function (prev) {\n        return !prev;\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }, \"Customer Profile\")), /*#__PURE__*/React.createElement(BreadcrumbItem, {\n    active: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, \"Transaction Details\")), loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(Card, {\n    className: \"p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: funds,\n    className: \"mr-2\",\n    alt: \"an icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mb-0 fund-transfer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 19\n    }\n  }, \"Funds Transfer Transaction Detail\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex transaction-amount mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 19\n    }\n  }, \"\\u20A6\", data === null || data === void 0 ? void 0 : (_data$transAmount = data.transAmount) === null || _data$transAmount === void 0 ? void 0 : _data$transAmount.toLocaleString()), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 19\n    }\n  }, \"Incl. 0.00\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: Classes(data.transStatus),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 19\n    }\n  }, data.transStatus)))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TransactionMoreDropDown, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(ResetButton, {\n    title: \"Refund Customer\",\n    className: \"mr-3\",\n    onClick: function onClick() {\n      return setRefundCustomer(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    className: \"btn-add\",\n    onClick: function onClick() {\n      return setReprocessTransaction(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 17\n    }\n  }, \"Reprocess Transaction\")))), /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"transaction-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transaction-details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 11\n    }\n  }, dataTemplate.map(function (transaction) {\n    return /*#__PURE__*/React.createElement(Row, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 5,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"title\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 19\n      }\n    }, transaction.title)), /*#__PURE__*/React.createElement(Col, {\n      md: 7,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"value\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 19\n      }\n    }, transaction.value)));\n  }))), /*#__PURE__*/React.createElement(RefundDialog, {\n    title: \"customer\",\n    isOpen: refundCustomer,\n    toggle: toggleRefundCustomerDialog,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(ReprocessTransactionDialog, {\n    title: \"customer\",\n    isOpen: reprocessTransaction,\n    toggle: toggleReprocessTransactionDialog,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/src/pages/customers/settl-customers/TransactionHistoryDetails.js"],"names":["React","useState","useEffect","Badge","Breadcrumb","BreadcrumbItem","Button","Card","Row","Col","Link","ResetButton","TransactionMoreDropDown","RefundDialog","ReprocessTransactionDialog","Loader","TransactionDetails","Moment","TransactionHistoryDetails","setShowTransactionDetails","transRef","getTransactionDetails","refundCustomer","setRefundCustomer","reprocessTransaction","setReprocessTransaction","data","setData","loading","setLoading","toggleRefundCustomerDialog","toggleReprocessTransactionDialog","fetchData","response","code","console","log","dataTemplate","id","title","value","payMethod","transType","transId","transDate","toCustomerAcctNo","toCustomerName","fundSource","referenceNo","transDescription","Classes","option","toLowerCase","prev","funds","transAmount","toLocaleString","transStatus","map","transaction"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Badge,\n  Breadcrumb,\n  BreadcrumbItem,\n  Button,\n  Card,\n  Row,\n  Col,\n} from \"reactstrap\";\nimport { Link } from \"react-router-dom\";\nimport ResetButton from \"./../settl-customers/ResetButton\";\nimport TransactionMoreDropDown from \"./TransactionMoreDropdown\";\nimport funds from \"./../../../assets/img/icons/funds.svg\";\nimport RefundDialog from \"../RefundDialog\";\nimport ReprocessTransactionDialog from \"../ReprocessTransactionDialog\";\nimport Loader from \"../../../components/Loader\";\nimport TransactionDetails from \"../../../requests/transactions\";\nimport Moment from \"react-moment\";\n\nexport default function TransactionHistoryDetails({\n  setShowTransactionDetails,\n  transRef,\n}) {\n  const { getTransactionDetails } = TransactionDetails();\n  const [refundCustomer, setRefundCustomer] = useState(false);\n  const [reprocessTransaction, setReprocessTransaction] = useState(false);\n  const [data, setData] = useState({});\n  const [loading, setLoading] = useState(false);\n\n  const toggleRefundCustomerDialog = () => setRefundCustomer(!refundCustomer);\n  const toggleReprocessTransactionDialog = () =>\n    setReprocessTransaction(!reprocessTransaction);\n\n  const fetchData = async () => {\n    setLoading(true);\n    const response = await getTransactionDetails(transRef);\n    if (response.code === \"00\") {\n      setData(response.data);\n      console.log(response.data);\n    }\n    setLoading(false);\n  };\n\n  const dataTemplate = [\n    {\n      id: \"1\",\n      title: \"Transaction Name\",\n      value: data.payMethod,\n    },\n    {\n      id: \"2\",\n      title: \"Transaction Type\",\n      value: data.transType,\n    },\n    {\n      id: \"3\",\n      title: \"Transaction Reference\",\n      value: data.transId,\n    },\n    {\n      id: \"4\",\n      title: \"Paid at\",\n      value: <Moment format=\"DD-MM-YYYY hh:mm\">{data.transDate}</Moment>,\n    },\n    {\n      id: \"5\",\n      title: \"Recipient Account Number\",\n      value: (\n        <div className=\"d-flex align-items-center\">\n          <div>\n            <p className=\"mb-0 mr-3\">{data.toCustomerAcctNo}</p>\n          </div>\n          <div>\n            <ResetButton title=\"Blacklist biller ID\" />\n          </div>\n        </div>\n      ),\n    },\n    {\n      id: \"6\",\n      title: \"Recipient Name\",\n      value: data.toCustomerName,\n    },\n    {\n      id: \"7\",\n      title: \"Recipient Bank\",\n      value: \"Wema Bank\",\n    },\n    {\n      id: \"8\",\n      title: \"Settl fee\",\n      value: \"â‚¦0.00\",\n    },\n    {\n      id: \"9\",\n      title: \"Transaction source\",\n      value: data.fundSource,\n    },\n    {\n      id: \"10\",\n      title: \"Billing reference\",\n      value: data.referenceNo,\n    },\n    {\n      id: \"11\",\n      title: \"Biller\",\n      value: \"Interswitch\",\n    },\n    {\n      id: \"12\",\n      title: \"Description\",\n      value: data.transDescription,\n    },\n  ];\n  const Classes = (option) => {\n    if (option?.toLowerCase() === \"pending\") return \"status pending\";\n    if (option?.toLowerCase() === \"success\") return \"status success\";\n    if (option?.toLowerCase() === \"failed\") return \"status failed\";\n    return \"\";\n  };\n  useEffect(() => {\n    fetchData();\n  }, []);\n  return (\n    <>\n      <Breadcrumb className=\"align-items-center\">\n        <BreadcrumbItem>\n          <Link\n            to=\"/customers/settl-customers\"\n            onClick={() => setShowTransactionDetails((prev) => !prev)}\n          >\n            Customer Profile\n          </Link>\n        </BreadcrumbItem>\n        <BreadcrumbItem active>Transaction Details</BreadcrumbItem>\n      </Breadcrumb>\n      {loading ? (\n        <Loader />\n      ) : (\n        <Card className=\"p-4\">\n          <div className=\"d-flex align-items-center justify-content-between\">\n            <div>\n              <div className=\"d-flex align-items-center\">\n                <div>\n                  <img src={funds} className=\"mr-2\" alt=\"an icon\" />\n                </div>\n                <div>\n                  <p className=\"mb-0 fund-transfer\">\n                    Funds Transfer Transaction Detail\n                  </p>\n                </div>\n              </div>\n              <div className=\"d-flex transaction-amount mt-3\">\n                <div>\n                  <h6 className=\"mb-0\">\n                    â‚¦{data?.transAmount?.toLocaleString()}\n                  </h6>\n                  <p className=\"mb-0\">Incl. 0.00</p>\n                </div>\n                <div>\n                  <p className={Classes(data.transStatus)}>\n                    {data.transStatus}\n                  </p>\n                </div>\n              </div>\n            </div>\n            <div>\n              <div className=\"d-flex\">\n                <TransactionMoreDropDown />\n                <ResetButton\n                  title=\"Refund Customer\"\n                  className=\"mr-3\"\n                  onClick={() => setRefundCustomer(true)}\n                />\n                <Button\n                  color=\"primary\"\n                  className=\"btn-add\"\n                  onClick={() => setReprocessTransaction(true)}\n                >\n                  Reprocess Transaction\n                </Button>\n              </div>\n            </div>\n          </div>\n          <hr className=\"transaction-line\" />\n          <div className=\"transaction-details\">\n            {dataTemplate.map((transaction) => (\n              <Row>\n                <Col md={5}>\n                  <p className=\"title\">{transaction.title}</p>\n                </Col>\n                <Col md={7}>\n                  <p className=\"value\">{transaction.value}</p>\n                </Col>\n              </Row>\n            ))}\n          </div>\n        </Card>\n      )}\n      <RefundDialog\n        title=\"customer\"\n        isOpen={refundCustomer}\n        toggle={toggleRefundCustomerDialog}\n      />\n\n      <ReprocessTransactionDialog\n        title=\"customer\"\n        isOpen={reprocessTransaction}\n        toggle={toggleReprocessTransactionDialog}\n      />\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}