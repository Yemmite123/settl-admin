{"ast":null,"code":"import _defineProperty from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{ReactComponent as Close}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../BgImages/close.svg\";import{Modal,Button}from\"react-bootstrap\";import{Input,UncontrolledDropdown,DropdownToggle,DropdownMenu,DropdownItem,Modal as ImageModal}from\"reactstrap\";import Loading from\"../../../components/Loading\";import issueimg from\"../../../assets/img/photos/issueimage.png\";import viewTransaction from\"../../../assets/img/photos/View transaction.png\";import Request from\"./request\";var IssuesModal=function IssuesModal(_ref){var _data$status,_React$createElement;var show=_ref.show,setShow=_ref.setShow,data=_ref.data,setData=_ref.setData;var _Request=Request(),statusUpdate=_Request.statusUpdate;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),imageShow=_useState2[0],setImageShow=_useState2[1];var _useState3=useState(data===null||data===void 0?void 0:(_data$status=data.status)===null||_data$status===void 0?void 0:_data$status.toLowerCase()),_useState4=_slicedToArray(_useState3,2),status=_useState4[0],setStatus=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var optionStatus=[\"pending\",\"resolved\",\"unresolved\"].filter(function(option){return option!==(status===null||status===void 0?void 0:status.toLowerCase());});var imageClose=/*#__PURE__*/React.createElement(Close,{onClick:function onClick(){return setImageShow(false);},className:\"close\",style:{position:\"absolute\",top:\"70px\",right:\"150px\",cursor:\"pointer\"}});useEffect(function(){setStatus(data===null||data===void 0?void 0:data.status);optionStatus=[\"pending\",\"resolved\",\"unresolved\"].filter(function(option){return option!==(status===null||status===void 0?void 0:status.toLowerCase());});},[data]);var Classes=function Classes(option){if((option===null||option===void 0?void 0:option.toLowerCase())===\"pending\")return\"status pending\";if((option===null||option===void 0?void 0:option.toLowerCase())===\"resolved\")return\"status success\";if((option===null||option===void 0?void 0:option.toLowerCase())===\"unresolved\")return\"status failed\";return\"\";};var updateStatus=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(update){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);if(update.status===\"pending\"){update.status=3;}if(update.status===\"resolved\"){update.status=1;}if(update.status===\"unresolved\"){update.status=2;}console.log(update);_context.next=7;return statusUpdate(update);case 7:response=_context.sent;if(response.code===\"00\"){console.log(response);}setLoading(false);case 10:case\"end\":return _context.stop();}}},_callee);}));return function updateStatus(_x){return _ref2.apply(this,arguments);};}();var information=[{\"Issue created by\":/*#__PURE__*/React.createElement(\"p\",{style:{color:\" #451B7D\",borderBottom:\"1px solid  #451B7D\",width:\"fit-content\"}},data===null||data===void 0?void 0:data.createdBy)},{\"Transaction ID\":/*#__PURE__*/React.createElement(\"p\",{style:{color:\" #451B7D\",borderBottom:\"1px solid  #451B7D\",width:\"fit-content\"}},data===null||data===void 0?void 0:data.transactionId)},{\"Transaction type\":data===null||data===void 0?void 0:data.transactionType},{Status:/*#__PURE__*/React.createElement(UncontrolledDropdown,{className:\"d-inline filter-dropdown\"},/*#__PURE__*/React.createElement(DropdownToggle,{color:\"light\",className:Classes(status),style:{border:\"none\"}},status===null||status===void 0?void 0:status.toUpperCase()),/*#__PURE__*/React.createElement(DropdownMenu,{right:true,style:{top:\"25px\",padding:\"0.5rem\"}},optionStatus.map(function(option,i){return/*#__PURE__*/React.createElement(DropdownItem,{key:i,className:Classes(option),style:{width:\"fit-content\",margin:\"0.5rem\",borderRadius:\"4px\"},onClick:function onClick(){return setStatus(option);}},option.toUpperCase());})))},{Description:/*#__PURE__*/React.createElement(\"p\",{style:{opacity:\"0.5\",fontSize:\"14px\"}},data===null||data===void 0?void 0:data.description)},{Image:/*#__PURE__*/React.createElement(\"img\",{styl:{cursor:\"pointer\"},src:issueimg,alt:\"ssueimage\",onClick:function onClick(){return setImageShow(true);}})}];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Modal,{show:show,centered:true,onHide:function onHide(){return setShow(false);},className:\"issue-modal\",size:\"lg\",style:{color:\"#171725\"}},/*#__PURE__*/React.createElement(\"div\",{style:{display:\"relative\"}},/*#__PURE__*/React.createElement(\"h3\",{style:{textAlign:\"center\",borderBottom:\"1px solid rgba(231, 231, 237, 0.6)\",padding:\"1.5rem 0\"}},\"Issue Details\"),/*#__PURE__*/React.createElement(Close,{style:{position:\"absolute\",top:\"20px\",right:\"20px\",cursor:\"pointer\"},onClick:function onClick(){return setShow(false);}})),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",margin:\"0 1.5rem\",padding:\".6rem 0\",borderBottom:\"1px solid rgba(231, 231, 237, 0.6)\",fontSize:\"13px\"}},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"span\",{style:{fontWeight:\"600\",color:\"\"}},\"Issue ID \"),\" \",/*#__PURE__*/React.createElement(\"span\",{style:{opacity:\"0.5\"}},data===null||data===void 0?void 0:data.issueId)),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"span\",{style:{fontWeight:\"600\"}},\"Date Created \"),\" \",/*#__PURE__*/React.createElement(\"span\",{style:{opacity:\"0.5\"}},data===null||data===void 0?void 0:data.createdDate)),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"span\",{style:{fontWeight:\"600\"}},\"Time Created \"),\" \",/*#__PURE__*/React.createElement(\"span\",{style:{opacity:\"0.5\"}},data===null||data===void 0?void 0:data.createdTime))),/*#__PURE__*/React.createElement(\"div\",{style:{margin:\"0 1.5rem\",padding:\"1rem 0\"}},information.map(function(info){return/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\"}},/*#__PURE__*/React.createElement(\"p\",{style:{width:\"50%\",fontWeight:\"600\"}},Object.keys(info)),/*#__PURE__*/React.createElement(\"p\",{style:{width:\"50%\"}},Object.values(info)));})),/*#__PURE__*/React.createElement(\"div\",{style:{position:\"absolute\",bottom:\"25px\",borderTop:\"1px solid rgba(231, 231, 237, 0.6)\",width:\"100%\",display:\"flex\",justifyContent:\"flex-end\"}},/*#__PURE__*/React.createElement(Button,{onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return updateStatus({Id:data.id,status:status});case 2:setShow(false);setData(null);case 4:case\"end\":return _context2.stop();}}},_callee2);})),style:{backgroundColor:\"#4F1699\",padding:\".6rem 1.5rem\",marginRight:\"1rem\",marginTop:\"1rem\",width:\"150px\",display:\"flex\",justifyContent:\"center\"}},loading?/*#__PURE__*/React.createElement(Loading,null):\"Update Status\"))),/*#__PURE__*/React.createElement(ImageModal,(_React$createElement={centered:true,isOpen:imageShow,className:\"image-modal\"},_defineProperty(_React$createElement,\"centered\",true),_defineProperty(_React$createElement,\"external\",imageClose),_React$createElement),/*#__PURE__*/React.createElement(\"img\",{src:viewTransaction})));};export default IssuesModal;","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/src/pages/dashboards/Issue Resolution/Modal.js"],"names":["React","useState","useEffect","Modal","Button","Input","UncontrolledDropdown","DropdownToggle","DropdownMenu","DropdownItem","ImageModal","Loading","issueimg","viewTransaction","Request","IssuesModal","show","setShow","data","setData","statusUpdate","imageShow","setImageShow","status","toLowerCase","setStatus","loading","setLoading","optionStatus","filter","option","imageClose","position","top","right","cursor","Classes","updateStatus","update","console","log","response","code","information","color","borderBottom","width","createdBy","transactionId","transactionType","Status","border","toUpperCase","padding","map","i","margin","borderRadius","Description","opacity","fontSize","description","Image","display","textAlign","justifyContent","fontWeight","issueId","createdDate","createdTime","info","Object","keys","values","bottom","borderTop","Id","id","backgroundColor","marginRight","marginTop"],"mappings":"+zBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,C,qGAEA,OAASC,KAAT,CAAgBC,MAAhB,KAA8B,iBAA9B,CACA,OACEC,KADF,CAEEC,oBAFF,CAGEC,cAHF,CAIEC,YAJF,CAKEC,YALF,CAMEN,KAAK,GAAIO,CAAAA,UANX,KAOO,YAPP,CAQA,MAAOC,CAAAA,OAAP,KAAoB,6BAApB,CACA,MAAOC,CAAAA,QAAP,KAAqB,2CAArB,CACA,MAAOC,CAAAA,eAAP,KAA4B,iDAA5B,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAAsC,0CAAnCC,CAAAA,IAAmC,MAAnCA,IAAmC,CAA7BC,OAA6B,MAA7BA,OAA6B,CAApBC,IAAoB,MAApBA,IAAoB,CAAdC,OAAc,MAAdA,OAAc,CACxD,aAAyBL,OAAO,EAAhC,CAAQM,YAAR,UAAQA,YAAR,CACA,cAAkCnB,QAAQ,CAAC,KAAD,CAA1C,wCAAOoB,SAAP,eAAkBC,YAAlB,eACA,eAA4BrB,QAAQ,CAACiB,IAAD,SAACA,IAAD,+BAACA,IAAI,CAAEK,MAAP,uCAAC,aAAcC,WAAd,EAAD,CAApC,yCAAOD,MAAP,eAAeE,SAAf,eACA,eAA8BxB,QAAQ,CAAC,KAAD,CAAtC,yCAAOyB,OAAP,eAAgBC,UAAhB,eACA,GAAIC,CAAAA,YAAY,CAAG,CAAC,SAAD,CAAY,UAAZ,CAAwB,YAAxB,EAAsCC,MAAtC,CACjB,SAACC,MAAD,QAAYA,CAAAA,MAAM,IAAKP,MAAL,SAAKA,MAAL,iBAAKA,MAAM,CAAEC,WAAR,EAAL,CAAlB,EADiB,CAAnB,CAGA,GAAMO,CAAAA,UAAU,cACd,oBAAC,KAAD,EACE,OAAO,CAAE,yBAAMT,CAAAA,YAAY,CAAC,KAAD,CAAlB,EADX,CAEE,SAAS,CAAC,OAFZ,CAGE,KAAK,CAAE,CACLU,QAAQ,CAAE,UADL,CAELC,GAAG,CAAE,MAFA,CAGLC,KAAK,CAAE,OAHF,CAILC,MAAM,CAAE,SAJH,CAHT,EADF,CAYAjC,SAAS,CAAC,UAAM,CACduB,SAAS,CAACP,IAAD,SAACA,IAAD,iBAACA,IAAI,CAAEK,MAAP,CAAT,CACAK,YAAY,CAAG,CAAC,SAAD,CAAY,UAAZ,CAAwB,YAAxB,EAAsCC,MAAtC,CACb,SAACC,MAAD,QAAYA,CAAAA,MAAM,IAAKP,MAAL,SAAKA,MAAL,iBAAKA,MAAM,CAAEC,WAAR,EAAL,CAAlB,EADa,CAAf,CAGD,CALQ,CAKN,CAACN,IAAD,CALM,CAAT,CAMA,GAAMkB,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACN,MAAD,CAAY,CAC1B,GAAI,CAAAA,MAAM,OAAN,EAAAA,MAAM,SAAN,QAAAA,MAAM,CAAEN,WAAR,MAA0B,SAA9B,CAAyC,MAAO,gBAAP,CACzC,GAAI,CAAAM,MAAM,OAAN,EAAAA,MAAM,SAAN,QAAAA,MAAM,CAAEN,WAAR,MAA0B,UAA9B,CAA0C,MAAO,gBAAP,CAC1C,GAAI,CAAAM,MAAM,OAAN,EAAAA,MAAM,SAAN,QAAAA,MAAM,CAAEN,WAAR,MAA0B,YAA9B,CAA4C,MAAO,eAAP,CAC5C,MAAO,EAAP,CACD,CALD,CAOA,GAAMa,CAAAA,YAAY,2FAAG,iBAAOC,MAAP,+HACnBX,UAAU,CAAC,IAAD,CAAV,CACA,GAAIW,MAAM,CAACf,MAAP,GAAkB,SAAtB,CAAiC,CAC/Be,MAAM,CAACf,MAAP,CAAgB,CAAhB,CACD,CACD,GAAIe,MAAM,CAACf,MAAP,GAAkB,UAAtB,CAAkC,CAChCe,MAAM,CAACf,MAAP,CAAgB,CAAhB,CACD,CACD,GAAIe,MAAM,CAACf,MAAP,GAAkB,YAAtB,CAAoC,CAClCe,MAAM,CAACf,MAAP,CAAgB,CAAhB,CACD,CACDgB,OAAO,CAACC,GAAR,CAAYF,MAAZ,EAXmB,sBAYIlB,CAAAA,YAAY,CAACkB,MAAD,CAZhB,QAYbG,QAZa,eAanB,GAAIA,QAAQ,CAACC,IAAT,GAAkB,IAAtB,CAA4B,CAC1BH,OAAO,CAACC,GAAR,CAAYC,QAAZ,EACD,CACDd,UAAU,CAAC,KAAD,CAAV,CAhBmB,uDAAH,kBAAZU,CAAAA,YAAY,6CAAlB,CAkBA,GAAMM,CAAAA,WAAW,CAAG,CAClB,CACE,gCACE,yBACE,KAAK,CAAE,CACLC,KAAK,CAAE,UADF,CAELC,YAAY,CAAE,oBAFT,CAGLC,KAAK,CAAE,aAHF,CADT,EAOG5B,IAPH,SAOGA,IAPH,iBAOGA,IAAI,CAAE6B,SAPT,CAFJ,CADkB,CAclB,CACE,8BACE,yBACE,KAAK,CAAE,CACLH,KAAK,CAAE,UADF,CAELC,YAAY,CAAE,oBAFT,CAGLC,KAAK,CAAE,aAHF,CADT,EAOG5B,IAPH,SAOGA,IAPH,iBAOGA,IAAI,CAAE8B,aAPT,CAFJ,CAdkB,CA2BlB,CAAE,mBAAoB9B,IAApB,SAAoBA,IAApB,iBAAoBA,IAAI,CAAE+B,eAA5B,CA3BkB,CA4BlB,CACEC,MAAM,cACJ,oBAAC,oBAAD,EAAsB,SAAS,CAAC,0BAAhC,eACE,oBAAC,cAAD,EACE,KAAK,CAAC,OADR,CAEE,SAAS,CAAEd,OAAO,CAACb,MAAD,CAFpB,CAGE,KAAK,CAAE,CACL4B,MAAM,CAAE,MADH,CAHT,EAOG5B,MAPH,SAOGA,MAPH,iBAOGA,MAAM,CAAE6B,WAAR,EAPH,CADF,cAUE,oBAAC,YAAD,EACE,KAAK,KADP,CAEE,KAAK,CAAE,CACLnB,GAAG,CAAE,MADA,CAELoB,OAAO,CAAE,QAFJ,CAFT,EAOGzB,YAAY,CAAC0B,GAAb,CAAiB,SAACxB,MAAD,CAASyB,CAAT,qBAChB,oBAAC,YAAD,EACE,GAAG,CAAEA,CADP,CAEE,SAAS,CAAEnB,OAAO,CAACN,MAAD,CAFpB,CAGE,KAAK,CAAE,CACLgB,KAAK,CAAE,aADF,CAELU,MAAM,CAAE,QAFH,CAGLC,YAAY,CAAE,KAHT,CAHT,CAQE,OAAO,CAAE,yBAAMhC,CAAAA,SAAS,CAACK,MAAD,CAAf,EARX,EAUGA,MAAM,CAACsB,WAAP,EAVH,CADgB,EAAjB,CAPH,CAVF,CAFJ,CA5BkB,CAoFlB,CACEM,WAAW,cACT,yBACE,KAAK,CAAE,CACLC,OAAO,CAAE,KADJ,CAELC,QAAQ,CAAE,MAFL,CADT,EAMG1C,IANH,SAMGA,IANH,iBAMGA,IAAI,CAAE2C,WANT,CAFJ,CApFkB,CAgGlB,CACEC,KAAK,cACH,2BACE,IAAI,CAAE,CACJ3B,MAAM,CAAE,SADJ,CADR,CAIE,GAAG,CAAEvB,QAJP,CAKE,GAAG,CAAC,WALN,CAME,OAAO,CAAE,yBAAMU,CAAAA,YAAY,CAAC,IAAD,CAAlB,EANX,EAFJ,CAhGkB,CAApB,CA6GA,mBACE,qDACE,oBAAC,KAAD,EACE,IAAI,CAAEN,IADR,CAEE,QAAQ,KAFV,CAGE,MAAM,CAAE,wBAAMC,CAAAA,OAAO,CAAC,KAAD,CAAb,EAHV,CAIE,SAAS,CAAC,aAJZ,CAKE,IAAI,CAAC,IALP,CAME,KAAK,CAAE,CACL2B,KAAK,CAAE,SADF,CANT,eAUE,2BACE,KAAK,CAAE,CACLmB,OAAO,CAAE,UADJ,CADT,eAKE,0BACE,KAAK,CAAE,CACLC,SAAS,CAAE,QADN,CAELnB,YAAY,CAAE,oCAFT,CAGLQ,OAAO,CAAE,UAHJ,CADT,kBALF,cAcE,oBAAC,KAAD,EACE,KAAK,CAAE,CACLrB,QAAQ,CAAE,UADL,CAELC,GAAG,CAAE,MAFA,CAGLC,KAAK,CAAE,MAHF,CAILC,MAAM,CAAE,SAJH,CADT,CAOE,OAAO,CAAE,yBAAMlB,CAAAA,OAAO,CAAC,KAAD,CAAb,EAPX,EAdF,CAVF,cAkCE,2BACE,KAAK,CAAE,CACL8C,OAAO,CAAE,MADJ,CAELE,cAAc,CAAE,eAFX,CAGLT,MAAM,CAAE,UAHH,CAILH,OAAO,CAAE,SAJJ,CAKLR,YAAY,CAAE,oCALT,CAMLe,QAAQ,CAAE,MANL,CADT,eAUE,0CACE,4BAAM,KAAK,CAAE,CAAEM,UAAU,CAAE,KAAd,CAAqBtB,KAAK,CAAE,EAA5B,CAAb,cADF,CACkE,GADlE,cAEE,4BACE,KAAK,CAAE,CACLe,OAAO,CAAE,KADJ,CADT,EAKGzC,IALH,SAKGA,IALH,iBAKGA,IAAI,CAAEiD,OALT,CAFF,CAVF,cAoBE,0CACE,4BAAM,KAAK,CAAE,CAAED,UAAU,CAAE,KAAd,CAAb,kBADF,CAC2D,GAD3D,cAEE,4BACE,KAAK,CAAE,CACLP,OAAO,CAAE,KADJ,CADT,EAKGzC,IALH,SAKGA,IALH,iBAKGA,IAAI,CAAEkD,WALT,CAFF,CApBF,cA8BE,0CACE,4BAAM,KAAK,CAAE,CAAEF,UAAU,CAAE,KAAd,CAAb,kBADF,CAC2D,GAD3D,cAEE,4BACE,KAAK,CAAE,CACLP,OAAO,CAAE,KADJ,CADT,EAKGzC,IALH,SAKGA,IALH,iBAKGA,IAAI,CAAEmD,WALT,CAFF,CA9BF,CAlCF,cA2EE,2BACE,KAAK,CAAE,CACLb,MAAM,CAAE,UADH,CAELH,OAAO,CAAE,QAFJ,CADT,EAMGV,WAAW,CAACW,GAAZ,CAAgB,SAACgB,IAAD,qBACf,2BACE,KAAK,CAAE,CACLP,OAAO,CAAE,MADJ,CADT,eAKE,yBACE,KAAK,CAAE,CACLjB,KAAK,CAAE,KADF,CAELoB,UAAU,CAAE,KAFP,CADT,EAMGK,MAAM,CAACC,IAAP,CAAYF,IAAZ,CANH,CALF,cAaE,yBACE,KAAK,CAAE,CACLxB,KAAK,CAAE,KADF,CADT,EAKGyB,MAAM,CAACE,MAAP,CAAcH,IAAd,CALH,CAbF,CADe,EAAhB,CANH,CA3EF,cAyGE,2BACE,KAAK,CAAE,CACLtC,QAAQ,CAAE,UADL,CAEL0C,MAAM,CAAE,MAFH,CAGLC,SAAS,CAAE,oCAHN,CAIL7B,KAAK,CAAE,MAJF,CAKLiB,OAAO,CAAE,MALJ,CAMLE,cAAc,CAAE,UANX,CADT,eAUE,oBAAC,MAAD,EACE,OAAO,sEAAE,+JACD5B,CAAAA,YAAY,CAAC,CAAEuC,EAAE,CAAE1D,IAAI,CAAC2D,EAAX,CAAetD,MAAM,CAANA,MAAf,CAAD,CADX,QAEPN,OAAO,CAAC,KAAD,CAAP,CACAE,OAAO,CAAC,IAAD,CAAP,CAHO,wDAAF,EADT,CAME,KAAK,CAAE,CACL2D,eAAe,CAAE,SADZ,CAELzB,OAAO,CAAE,cAFJ,CAGL0B,WAAW,CAAE,MAHR,CAILC,SAAS,CAAE,MAJN,CAKLlC,KAAK,CAAE,OALF,CAMLiB,OAAO,CAAE,MANJ,CAOLE,cAAc,CAAE,QAPX,CANT,EAgBGvC,OAAO,cAAG,oBAAC,OAAD,MAAH,CAAiB,eAhB3B,CAVF,CAzGF,CADF,cAwIE,oBAAC,UAAD,wBACE,QAAQ,KADV,CAEE,MAAM,CAAEL,SAFV,CAGE,SAAS,CAAC,aAHZ,wGAKYU,UALZ,qCAOE,2BAAK,GAAG,CAAElB,eAAV,EAPF,CAxIF,CADF,CAoJD,CApTD,CAqTA,cAAeE,CAAAA,WAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { ReactComponent as Close } from \"../../../BgImages/close.svg\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport {\n  Input,\n  UncontrolledDropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem,\n  Modal as ImageModal,\n} from \"reactstrap\";\nimport Loading from \"../../../components/Loading\";\nimport issueimg from \"../../../assets/img/photos/issueimage.png\";\nimport viewTransaction from \"../../../assets/img/photos/View transaction.png\";\nimport Request from \"./request\";\n\nconst IssuesModal = ({ show, setShow, data, setData }) => {\n  const { statusUpdate } = Request();\n  const [imageShow, setImageShow] = useState(false);\n  const [status, setStatus] = useState(data?.status?.toLowerCase());\n  const [loading, setLoading] = useState(false);\n  let optionStatus = [\"pending\", \"resolved\", \"unresolved\"].filter(\n    (option) => option !== status?.toLowerCase()\n  );\n  const imageClose = (\n    <Close\n      onClick={() => setImageShow(false)}\n      className=\"close\"\n      style={{\n        position: \"absolute\",\n        top: \"70px\",\n        right: \"150px\",\n        cursor: \"pointer\",\n      }}\n    />\n  );\n  useEffect(() => {\n    setStatus(data?.status);\n    optionStatus = [\"pending\", \"resolved\", \"unresolved\"].filter(\n      (option) => option !== status?.toLowerCase()\n    );\n  }, [data]);\n  const Classes = (option) => {\n    if (option?.toLowerCase() === \"pending\") return \"status pending\";\n    if (option?.toLowerCase() === \"resolved\") return \"status success\";\n    if (option?.toLowerCase() === \"unresolved\") return \"status failed\";\n    return \"\";\n  };\n\n  const updateStatus = async (update) => {\n    setLoading(true);\n    if (update.status === \"pending\") {\n      update.status = 3;\n    }\n    if (update.status === \"resolved\") {\n      update.status = 1;\n    }\n    if (update.status === \"unresolved\") {\n      update.status = 2;\n    }\n    console.log(update);\n    const response = await statusUpdate(update);\n    if (response.code === \"00\") {\n      console.log(response);\n    }\n    setLoading(false);\n  };\n  const information = [\n    {\n      \"Issue created by\": (\n        <p\n          style={{\n            color: \" #451B7D\",\n            borderBottom: \"1px solid  #451B7D\",\n            width: \"fit-content\",\n          }}\n        >\n          {data?.createdBy}\n        </p>\n      ),\n    },\n    {\n      \"Transaction ID\": (\n        <p\n          style={{\n            color: \" #451B7D\",\n            borderBottom: \"1px solid  #451B7D\",\n            width: \"fit-content\",\n          }}\n        >\n          {data?.transactionId}\n        </p>\n      ),\n    },\n    { \"Transaction type\": data?.transactionType },\n    {\n      Status: (\n        <UncontrolledDropdown className=\"d-inline filter-dropdown\">\n          <DropdownToggle\n            color=\"light\"\n            className={Classes(status)}\n            style={{\n              border: \"none\",\n            }}\n          >\n            {status?.toUpperCase()}\n          </DropdownToggle>\n          <DropdownMenu\n            right\n            style={{\n              top: \"25px\",\n              padding: \"0.5rem\",\n            }}\n          >\n            {optionStatus.map((option, i) => (\n              <DropdownItem\n                key={i}\n                className={Classes(option)}\n                style={{\n                  width: \"fit-content\",\n                  margin: \"0.5rem\",\n                  borderRadius: \"4px\",\n                }}\n                onClick={() => setStatus(option)}\n              >\n                {option.toUpperCase()}\n              </DropdownItem>\n            ))}\n            {/* <DropdownItem\n              className=\" success\"\n              style={{\n                width: \"fit-content\",\n                margin: \"0.5rem\",\n                borderRadius: \"4px\",\n              }}\n            >\n              Resolved\n            </DropdownItem>\n            <DropdownItem\n              className=\" pending\"\n              style={{\n                width: \"fit-content\",\n                borderRadius: \"4px\",\n              }}\n            >\n              Pending\n            </DropdownItem> */}\n          </DropdownMenu>\n        </UncontrolledDropdown>\n      ),\n    },\n    {\n      Description: (\n        <p\n          style={{\n            opacity: \"0.5\",\n            fontSize: \"14px\",\n          }}\n        >\n          {data?.description}\n        </p>\n      ),\n    },\n    {\n      Image: (\n        <img\n          styl={{\n            cursor: \"pointer\",\n          }}\n          src={issueimg}\n          alt=\"ssueimage\"\n          onClick={() => setImageShow(true)}\n        />\n      ),\n    },\n  ];\n  return (\n    <>\n      <Modal\n        show={show}\n        centered\n        onHide={() => setShow(false)}\n        className=\"issue-modal\"\n        size=\"lg\"\n        style={{\n          color: \"#171725\",\n        }}\n      >\n        <div\n          style={{\n            display: \"relative\",\n          }}\n        >\n          <h3\n            style={{\n              textAlign: \"center\",\n              borderBottom: \"1px solid rgba(231, 231, 237, 0.6)\",\n              padding: \"1.5rem 0\",\n            }}\n          >\n            Issue Details\n          </h3>\n          <Close\n            style={{\n              position: \"absolute\",\n              top: \"20px\",\n              right: \"20px\",\n              cursor: \"pointer\",\n            }}\n            onClick={() => setShow(false)}\n          />\n        </div>\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            margin: \"0 1.5rem\",\n            padding: \".6rem 0\",\n            borderBottom: \"1px solid rgba(231, 231, 237, 0.6)\",\n            fontSize: \"13px\",\n          }}\n        >\n          <p>\n            <span style={{ fontWeight: \"600\", color: \"\" }}>Issue ID </span>{\" \"}\n            <span\n              style={{\n                opacity: \"0.5\",\n              }}\n            >\n              {data?.issueId}\n            </span>\n          </p>\n          <p>\n            <span style={{ fontWeight: \"600\" }}>Date Created </span>{\" \"}\n            <span\n              style={{\n                opacity: \"0.5\",\n              }}\n            >\n              {data?.createdDate}\n            </span>\n          </p>\n          <p>\n            <span style={{ fontWeight: \"600\" }}>Time Created </span>{\" \"}\n            <span\n              style={{\n                opacity: \"0.5\",\n              }}\n            >\n              {data?.createdTime}\n            </span>\n          </p>\n        </div>\n        <div\n          style={{\n            margin: \"0 1.5rem\",\n            padding: \"1rem 0\",\n          }}\n        >\n          {information.map((info) => (\n            <div\n              style={{\n                display: \"flex\",\n              }}\n            >\n              <p\n                style={{\n                  width: \"50%\",\n                  fontWeight: \"600\",\n                }}\n              >\n                {Object.keys(info)}\n              </p>\n              <p\n                style={{\n                  width: \"50%\",\n                }}\n              >\n                {Object.values(info)}\n              </p>\n            </div>\n          ))}\n        </div>\n        <div\n          style={{\n            position: \"absolute\",\n            bottom: \"25px\",\n            borderTop: \"1px solid rgba(231, 231, 237, 0.6)\",\n            width: \"100%\",\n            display: \"flex\",\n            justifyContent: \"flex-end\",\n          }}\n        >\n          <Button \n            onClick={async () => {\n              await updateStatus({ Id: data.id, status });\n              setShow(false);\n              setData(null);\n            }}\n            style={{\n              backgroundColor: \"#4F1699\",\n              padding: \".6rem 1.5rem\",\n              marginRight: \"1rem\",\n              marginTop: \"1rem\",\n              width: \"150px\",\n              display: \"flex\",\n              justifyContent: \"center\",\n            }}\n          >\n            {loading ? <Loading /> : \"Update Status\"}\n          </Button>\n        </div>\n      </Modal>\n      <ImageModal\n        centered\n        isOpen={imageShow}\n        className=\"image-modal\"\n        centered\n        external={imageClose}\n      >\n        <img src={viewTransaction} />\n      </ImageModal>\n    </>\n  );\n};\nexport default IssuesModal;\n"]},"metadata":{},"sourceType":"module"}