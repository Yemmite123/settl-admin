{"ast":null,"code":"import _slicedToArray from \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /OLUYEMI SETTL TESTING FOR ADMIN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /OLUYEMI SETTL TESTING FOR ADMIN/src/pages/customers/settl-customers/ReferralTable.js\";\n\nimport React, { useState } from \"react\";\nimport { Badge } from \"reactstrap\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport ToolkitProvider from \"react-bootstrap-table2-toolkit\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport Loader from \"../../../components/Loader\";\nimport ReferralTableHeader from \"./ReferralTableHeader\";\nvar tableColumns = [{\n  dataField: \"referralName\",\n  text: \"Referral Name\"\n}, {\n  dataField: \"date\",\n  text: \"Date\"\n}, {\n  dataField: \"bonusStatus\",\n  text: \"Bonus Status\",\n  headerClasses: \"text-center\",\n  formatter: function formatter(cell, row, rowIndex) {\n    if ((cell === null || cell === void 0 ? void 0 : cell.toLowerCase()) === \"paid\") {\n      return /*#__PURE__*/React.createElement(Badge, {\n        color: \"secondary\",\n        className: \"badge-active\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 11\n        }\n      }, cell);\n    }\n\n    if ((cell === null || cell === void 0 ? void 0 : cell.toLowerCase()) === \"pending\") {\n      return /*#__PURE__*/React.createElement(Badge, {\n        color: \"secondary\",\n        className: \"badge-pending\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 11\n        }\n      }, cell);\n    }\n  }\n}, {\n  dataField: \"bonus\",\n  text: \"Bonus\"\n}, {\n  dataField: \"referralStatus\",\n  text: \"Referral Status\",\n  headerClasses: \"text-center\",\n  formatter: function formatter(cell, row, rowIndex) {\n    if (!cell) {\n      return /*#__PURE__*/React.createElement(Badge, {\n        color: \"secondary\",\n        className: \"badge-inactive\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }\n      }, \"Inactive\");\n    }\n\n    if (cell) {\n      return /*#__PURE__*/React.createElement(Badge, {\n        color: \"secondary\",\n        className: \"badge-active\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }\n      }, \"Active\");\n    }\n  }\n}];\nexport default function ReferralTable(_ref) {\n  var _this2 = this;\n\n  var tableData = _ref.tableData;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isfiltered = _useState2[0],\n      setIsFiltered = _useState2[1];\n\n  var _useState3 = useState(tableData),\n      _useState4 = _slicedToArray(_useState3, 2),\n      data = _useState4[0],\n      setData = _useState4[1];\n\n  var currentDate = new Date();\n  var currentDateFormat = currentDate.setHours(0, 0, 0, 0);\n\n  var Filter = function Filter(data) {\n    setData(\"\");\n    var check = data.status.length > 0 || data.endDate !== currentDateFormat || data.startDate !== currentDateFormat;\n    setTimeout(function () {\n      var filtered = tableData.filter(function (product) {\n        if (check) {\n          setIsFiltered(true);\n          var splitDate = product.date.slice(0, -6).split(\"/\");\n          var dataDate = new Date(+splitDate[2], splitDate[1] - 1, +splitDate[0]).setHours(0, 0, 0, 0);\n          var status = product.referralStatus ? \"active\" : \"inactive\";\n          return data.status.includes(status) || dataDate >= data.startDate && dataDate <= data.endDate;\n        } else {\n          setIsFiltered(false);\n          return product;\n        }\n      });\n      setData(filtered);\n    }, 500);\n  };\n\n  var customTotal = function customTotal(from, to, size) {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"react-bootstrap-table-pagination-total\",\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 5\n      }\n    }, \"Showing \", from, \" to \", to, \" of \", size, \" Results\");\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"all-admins\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }, \"Referred Customers\"), /*#__PURE__*/React.createElement(ToolkitProvider, {\n    responsive: true,\n    keyField: \"id\",\n    data: data,\n    columns: tableColumns,\n    search: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }, function (props) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(ReferralTableHeader, {\n      filter: Filter,\n      filtered: isfiltered,\n      dataLength: data.length,\n      search: props.searchProps,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }\n    }), !data ? /*#__PURE__*/React.createElement(Loader, {\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 19\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"admin-table\",\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(BootstrapTable, Object.assign({\n      bootstrap4: true,\n      bordered: false,\n      wrapperClasses: \"table-responsive\",\n      pagination: paginationFactory({\n        sizePerPage: 9,\n        hideSizePerPage: true,\n        showTotal: true,\n        paginationTotalRenderer: customTotal\n      })\n    }, props.baseProps, {\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 21\n      }\n    }))));\n  }))));\n}","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /OLUYEMI SETTL TESTING FOR ADMIN/src/pages/customers/settl-customers/ReferralTable.js"],"names":["React","useState","Badge","BootstrapTable","ToolkitProvider","paginationFactory","Loader","ReferralTableHeader","tableColumns","dataField","text","headerClasses","formatter","cell","row","rowIndex","toLowerCase","ReferralTable","tableData","isfiltered","setIsFiltered","data","setData","currentDate","Date","currentDateFormat","setHours","Filter","check","status","length","endDate","startDate","setTimeout","filtered","filter","product","splitDate","date","slice","split","dataDate","referralStatus","includes","customTotal","from","to","size","props","searchProps","sizePerPage","hideSizePerPage","showTotal","paginationTotalRenderer","baseProps"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Badge } from \"reactstrap\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport ToolkitProvider from \"react-bootstrap-table2-toolkit\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport Loader from \"../../../components/Loader\";\nimport ReferralTableHeader from \"./ReferralTableHeader\";\n\nconst tableColumns = [\n  {\n    dataField: \"referralName\",\n    text: \"Referral Name\",\n  },\n  {\n    dataField: \"date\",\n    text: \"Date\",\n  },\n  {\n    dataField: \"bonusStatus\",\n    text: \"Bonus Status\",\n    headerClasses: \"text-center\",\n    formatter: (cell, row, rowIndex) => {\n      if (cell?.toLowerCase() === \"paid\") {\n        return (\n          <Badge color=\"secondary\" className=\"badge-active\">\n            {cell}\n          </Badge>\n        );\n      }\n      if (cell?.toLowerCase() === \"pending\") {\n        return (\n          <Badge color=\"secondary\" className=\"badge-pending\">\n            {cell}\n          </Badge>\n        );\n      }\n    },\n  },\n  {\n    dataField: \"bonus\",\n    text: \"Bonus\",\n  },\n  {\n    dataField: \"referralStatus\",\n    text: \"Referral Status\",\n    headerClasses: \"text-center\",\n    formatter: (cell, row, rowIndex) => {\n      if (!cell) {\n        return (\n          <Badge color=\"secondary\" className=\"badge-inactive\">\n            Inactive\n          </Badge>\n        );\n      }\n      if (cell) {\n        return (\n          <Badge color=\"secondary\" className=\"badge-active\">\n            Active\n          </Badge>\n        );\n      }\n    },\n  },\n];\n\nexport default function ReferralTable({ tableData }) {\n  const [isfiltered, setIsFiltered] = useState(false);\n  const [data, setData] = useState(tableData);\n  const currentDate = new Date();\n  const currentDateFormat = currentDate.setHours(0, 0, 0, 0);\n\n  const Filter = (data) => {\n    setData(\"\");\n    const check =\n      data.status.length > 0 ||\n      data.endDate !== currentDateFormat ||\n      data.startDate !== currentDateFormat;\n    setTimeout(() => {\n      const filtered = tableData.filter((product) => {\n        if (check) {\n          setIsFiltered(true);\n          const splitDate = product.date.slice(0, -6).split(\"/\");\n          const dataDate = new Date(\n            +splitDate[2],\n            splitDate[1] - 1,\n            +splitDate[0]\n          ).setHours(0, 0, 0, 0);\n          const status = product.referralStatus ? \"active\" : \"inactive\";\n          return (\n            data.status.includes(status) ||\n            (dataDate >= data.startDate && dataDate <= data.endDate)\n          );\n        } else {\n          setIsFiltered(false);\n          return product;\n        }\n      });\n      setData(filtered);\n    }, 500);\n  };\n\n  const customTotal = (from, to, size) => (\n    <span className=\"react-bootstrap-table-pagination-total\">\n      Showing {from} to {to} of {size} Results\n    </span>\n  );\n\n  return (\n    <>\n      <div className=\"admin-body\">\n        <div className=\"all-admins\">\n          <h6>Referred Customers</h6>\n          <ToolkitProvider\n            responsive\n            keyField=\"id\"\n            data={data}\n            columns={tableColumns}\n            search\n          >\n            {(props) => (\n              <div>\n                <ReferralTableHeader\n                  filter={Filter}\n                  filtered={isfiltered}\n                  dataLength={data.length}\n                  search={props.searchProps}\n                />\n                {!data ? (\n                  <Loader />\n                ) : (\n                  <div className=\"admin-table\">\n                    <BootstrapTable\n                      bootstrap4\n                      bordered={false}\n                      wrapperClasses=\"table-responsive\"\n                      pagination={paginationFactory({\n                        sizePerPage: 9,\n                        hideSizePerPage: true,\n                        showTotal: true,\n                        paginationTotalRenderer: customTotal,\n                      })}\n                      {...props.baseProps}\n                    />\n                  </div>\n                )}\n              </div>\n            )}\n          </ToolkitProvider>\n        </div>\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}