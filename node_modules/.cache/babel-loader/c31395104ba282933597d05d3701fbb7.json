{"ast":null,"code":"import _regeneratorRuntime from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{ReactComponent as Close}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../BgImages/close.svg\";import{Button,Modal,ModalBody,ModalHeader,Form,FormGroup,Label}from\"reactstrap\";import InputBox from\"../../../components/InputBox\";import Loading from\"../../../components/Loading\";import Request from\"../../../requests/customer\";import{useHistory}from\"react-router-dom\";export default function UpdateNextOfKinDialog(props){var _props$data,_props$data2,_props$data3;var history=useHistory();var _Request=Request(),updateNextOfKin=_Request.updateNextOfKin;var _useState=useState((_props$data=props.data)===null||_props$data===void 0?void 0:_props$data.nokName),_useState2=_slicedToArray(_useState,2),fullName=_useState2[0],setFullName=_useState2[1];var _useState3=useState((_props$data2=props.data)===null||_props$data2===void 0?void 0:_props$data2.nokEmail),_useState4=_slicedToArray(_useState3,2),emailAddress=_useState4[0],setEmailAddress=_useState4[1];var _useState5=useState((_props$data3=props.data)===null||_props$data3===void 0?void 0:_props$data3.nokPhoneNo),_useState6=_slicedToArray(_useState5,2),phoneNumber=_useState6[0],setPhoneNumber=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var updateInfo=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _props$data4;var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return updateNextOfKin({consumerPhoneNumber:(_props$data4=props.data)===null||_props$data4===void 0?void 0:_props$data4.phoneno,nextOfKinFullName:fullName,nextOfKinEmail:emailAddress,nextOfKinPhoneNumber:phoneNumber});case 3:response=_context.sent;if(response.code===\"00\"){props.toggle();history.push(\"/customers/details/\".concat(props.data.phoneno));}setLoading(false);case 6:case\"end\":return _context.stop();}}},_callee);}));return function updateInfo(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Modal,{isOpen:props.isOpen,toggle:props.toggle,className:\"admin-modal suspended-modal\"},/*#__PURE__*/React.createElement(ModalHeader,null,\"Update Next of Kin Information\",/*#__PURE__*/React.createElement(Close,{className:\"close-modal\",onClick:props.toggle})),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(InputBox,{type:\"text\",name:\"fullName\",id:\"fullName\",value:fullName,onChange:function onChange(e){return setFullName(e.target.value);}}),/*#__PURE__*/React.createElement(Label,{for:\"fulltName\"},\"Full Name\")),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(InputBox,{type:\"text\",name:\"emailAddress\",id:\"emailAddress\",value:emailAddress,onChange:function onChange(e){return setEmailAddress(e.target.value);}}),/*#__PURE__*/React.createElement(Label,{for:\"emailAddress\"},\"Email address\")),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(InputBox,{type:\"text\",name:\"phoneNumber\",id:\"phoneNumber\",value:phoneNumber,onChange:function onChange(e){return setPhoneNumber(e.target.value);}}),/*#__PURE__*/React.createElement(Label,{for:\"adminFullName\"},\"Phone number\"))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between\"},/*#__PURE__*/React.createElement(Button,{color:\"info\",className:\"btn-cancel\",onClick:props.toggle},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{color:\"primary\",className:\"btn-add\",onClick:updateInfo,disabled:true},loading?/*#__PURE__*/React.createElement(Loading,null):\"Update\")))));}","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/src/pages/customers/settl-customers/UpdateNextOfKinDialog.js"],"names":["React","useState","Button","Modal","ModalBody","ModalHeader","Form","FormGroup","Label","InputBox","Loading","Request","useHistory","UpdateNextOfKinDialog","props","history","updateNextOfKin","data","nokName","fullName","setFullName","nokEmail","emailAddress","setEmailAddress","nokPhoneNo","phoneNumber","setPhoneNumber","loading","setLoading","updateInfo","consumerPhoneNumber","phoneno","nextOfKinFullName","nextOfKinEmail","nextOfKinPhoneNumber","response","code","toggle","push","isOpen","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { ReactComponent as Close } from \"../../../BgImages/close.svg\";\nimport {\n  Button,\n  Modal,\n  ModalBody,\n  ModalHeader,\n  Form,\n  FormGroup,\n  Label,\n} from \"reactstrap\";\nimport InputBox from \"../../../components/InputBox\";\nimport Loading from \"../../../components/Loading\";\nimport Request from \"../../../requests/customer\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function UpdateNextOfKinDialog(props) {\n  const history = useHistory();\n  const { updateNextOfKin } = Request();\n  const [fullName, setFullName] = useState(props.data?.nokName);\n  const [emailAddress, setEmailAddress] = useState(props.data?.nokEmail);\n  const [phoneNumber, setPhoneNumber] = useState(props.data?.nokPhoneNo);\n  const [loading, setLoading] = useState(false);\n  const updateInfo = async () => {\n    setLoading(true);\n    const response = await updateNextOfKin({\n      consumerPhoneNumber: props.data?.phoneno,\n      nextOfKinFullName: fullName,\n      nextOfKinEmail: emailAddress,\n      nextOfKinPhoneNumber: phoneNumber,\n    });\n    if (response.code === \"00\") {\n      props.toggle();\n      history.push(`/customers/details/${props.data.phoneno}`);\n    }\n    setLoading(false);\n  };\n  return (\n    <>\n      <Modal\n        isOpen={props.isOpen}\n        toggle={props.toggle}\n        className=\"admin-modal suspended-modal\"\n      >\n        <ModalHeader>\n          Update Next of Kin Information\n          <Close className=\"close-modal\" onClick={props.toggle} />\n        </ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <InputBox\n                type=\"text\"\n                name=\"fullName\"\n                id=\"fullName\"\n                value={fullName}\n                onChange={(e) => setFullName(e.target.value)}\n              />\n              <Label for=\"fulltName\">Full Name</Label>\n            </FormGroup>\n            <FormGroup>\n              <InputBox\n                type=\"text\"\n                name=\"emailAddress\"\n                id=\"emailAddress\"\n                value={emailAddress}\n                onChange={(e) => setEmailAddress(e.target.value)}\n              />\n              <Label for=\"emailAddress\">Email address</Label>\n            </FormGroup>\n            <FormGroup>\n              <InputBox\n                type=\"text\"\n                name=\"phoneNumber\"\n                id=\"phoneNumber\"\n                value={phoneNumber}\n                onChange={(e) => setPhoneNumber(e.target.value)}\n              />\n              <Label for=\"adminFullName\">Phone number</Label>\n            </FormGroup>\n          </Form>\n          <br />\n          <br />\n          <br />\n          <br />\n          <hr />\n          <div className=\"d-flex justify-content-between\">\n            <Button color=\"info\" className=\"btn-cancel\" onClick={props.toggle}>\n              Cancel\n            </Button>\n            <Button\n              color=\"primary\"\n              className=\"btn-add\"\n              onClick={updateInfo}\n              disabled\n            >\n              {loading ? <Loading /> : \"Update\"}\n            </Button>\n          </div>\n        </ModalBody>\n      </Modal>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}