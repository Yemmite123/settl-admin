{"ast":null,"code":"import _regeneratorRuntime from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import{useSelector}from\"react-redux\";var baseURL=\"https://api.settl.me/backoffice/\";function create_UUID(){var dt=new Date().getTime();var uuid=\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,function(c){var r=(dt+Math.random()*16)%16|0;dt=Math.floor(dt/16);return(c===\"x\"?r:r&0x3|0x8).toString(16);});return uuid;}var Request=function Request(){var _useSelector=useSelector(function(state){return state.user.details;}),token=_useSelector.token,tokenType=_useSelector.tokenType;var issueLogs=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var requestId,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:requestId=create_UUID();_context.prev=1;_context.next=4;return axios.get(baseURL+\"IssuesLog\",{headers:{\"X-RequestId\":\"\".concat(requestId),Authorization:\"\".concat(tokenType,\" \").concat(token),'content-type':'application/json'}});case 4:response=_context.sent;return _context.abrupt(\"return\",response.data);case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);return _context.abrupt(\"return\",_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function issueLogs(){return _ref.apply(this,arguments);};}();var issueAnalytics=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(days){var requestId,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:requestId=create_UUID();_context2.prev=1;_context2.next=4;return axios.get(baseURL+\"IssuesLog/LogAnalysisReport?days=\".concat(days),{headers:{\"X-RequestId\":\"\".concat(requestId),Authorization:\"\".concat(tokenType,\" \").concat(token),'content-type':'application/json'}});case 4:response=_context2.sent;return _context2.abrupt(\"return\",response.data);case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);return _context2.abrupt(\"return\",_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function issueAnalytics(_x){return _ref2.apply(this,arguments);};}();var performance=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(days){var requestId,response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:requestId=create_UUID();_context3.prev=1;_context3.next=4;return axios.get(baseURL+\"IssuesLog/ResolutionPerformance?days=\".concat(days),{headers:{\"X-RequestId\":\"\".concat(requestId),Authorization:\"\".concat(tokenType,\" \").concat(token)}});case 4:response=_context3.sent;return _context3.abrupt(\"return\",response.data);case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](1);return _context3.abrupt(\"return\",_context3.t0);case 11:case\"end\":return _context3.stop();}}},_callee3,null,[[1,8]]);}));return function performance(_x2){return _ref3.apply(this,arguments);};}();var statusUpdate=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(data){var requestId,response;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:requestId=create_UUID();console.log(data);_context4.prev=2;_context4.next=5;return axios.patch(baseURL+\"IssuesLog/UpdateStatus?Id=\".concat(data.Id,\"&status=\").concat(data.status),null,{headers:{\"X-RequestId\":\"\".concat(requestId),Authorization:\"\".concat(tokenType,\" \").concat(token)}});case 5:response=_context4.sent;return _context4.abrupt(\"return\",response.data);case 9:_context4.prev=9;_context4.t0=_context4[\"catch\"](2);return _context4.abrupt(\"return\",_context4.t0);case 12:case\"end\":return _context4.stop();}}},_callee4,null,[[2,9]]);}));return function statusUpdate(_x3){return _ref4.apply(this,arguments);};}();return{performance:performance,issueAnalytics:issueAnalytics,issueLogs:issueLogs,statusUpdate:statusUpdate};};export default Request;","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/src/pages/dashboards/Issue Resolution/request.js"],"names":["axios","useSelector","baseURL","create_UUID","dt","Date","getTime","uuid","replace","c","r","Math","random","floor","toString","Request","state","user","details","token","tokenType","issueLogs","requestId","get","headers","Authorization","response","data","issueAnalytics","days","performance","statusUpdate","console","log","patch","Id","status"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { useSelector } from \"react-redux\";\nconst baseURL = \"https://api.settl.me/backoffice/\";\n\nfunction create_UUID() {\n  var dt = new Date().getTime();\n  var uuid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(\n    /[xy]/g,\n    function (c) {\n      var r = (dt + Math.random() * 16) % 16 | 0;\n      dt = Math.floor(dt / 16);\n      return (c === \"x\" ? r : (r & 0x3) | 0x8).toString(16);\n    }\n  );\n  return uuid;\n}\nconst Request = () => {\n  const { token, tokenType } = useSelector((state) => state.user.details);\n  const issueLogs = async () => {\n    let requestId = create_UUID();\n    try {\n      const response = await axios.get(baseURL + \"IssuesLog\", {\n        headers: {\n          \"X-RequestId\": `${requestId}`,\n          Authorization: `${tokenType} ${token}`,\n          'content-type':  'application/json'\n        },\n      });\n      return response.data;\n    } catch (error) {\n      return error;\n    }\n  };\n\n  const issueAnalytics = async (days) => {\n    let requestId = create_UUID();\n    try {\n      const response = await axios.get(\n        baseURL + `IssuesLog/LogAnalysisReport?days=${days}`,\n        {\n          headers: {\n            \"X-RequestId\": `${requestId}`,\n            Authorization: `${tokenType} ${token}`,\n            'content-type':  'application/json'\n          },\n        }\n      );\n      return response.data;\n    } catch (error) {\n      return error;\n    }\n  };\n\n  const performance = async (days) => {\n    let requestId = create_UUID();\n    try {\n      const response = await axios.get(\n        baseURL + `IssuesLog/ResolutionPerformance?days=${days}`,\n        {\n          headers: {\n            \"X-RequestId\": `${requestId}`,\n            Authorization: `${tokenType} ${token}`,\n          },\n        }\n      );\n      return response.data;\n    } catch (error) {\n      return error;\n    }\n  };\n\n  const statusUpdate = async (data) => {\n    let requestId = create_UUID();\n    console.log(data);\n    try {\n      const response = await axios.patch(\n        baseURL + `IssuesLog/UpdateStatus?Id=${data.Id}&status=${data.status}`,\n        null,\n        {\n          headers: {\n            \"X-RequestId\": `${requestId}`,\n            Authorization: `${tokenType} ${token}`,\n          },\n        }\n      );\n      return response.data;\n    } catch (error) {\n      return error;\n    }\n  };\n  return {\n    performance,\n    issueAnalytics,\n    issueLogs,\n    statusUpdate,\n  };\n};\n\nexport default Request;\n"]},"metadata":{},"sourceType":"module"}