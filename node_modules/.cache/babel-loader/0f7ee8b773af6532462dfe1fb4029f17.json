{"ast":null,"code":"import _regeneratorRuntime from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import baseURL from\"./baseUrl\";import{useSelector}from\"react-redux\";function create_UUID(){var dt=new Date().getTime();var uuid=\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,function(c){var r=(dt+Math.random()*16)%16|0;dt=Math.floor(dt/16);return(c===\"x\"?r:r&0x3|0x8).toString(16);});return uuid;}var requestId=create_UUID();var MessageRequest=function MessageRequest(){var _useSelector=useSelector(function(state){return state.user.details;}),token=_useSelector.token,tokenType=_useSelector.tokenType;var getAllMessages=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:requestId=create_UUID();_context.prev=1;_context.next=4;return axios.get(baseURL+\"backoffice/Messaging\",{headers:{\"X-RequestId\":\"\".concat(requestId),Authorization:\"\".concat(tokenType,\" \").concat(token)}});case 4:response=_context.sent;return _context.abrupt(\"return\",response.data);case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);return _context.abrupt(\"return\",_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function getAllMessages(){return _ref.apply(this,arguments);};}();var getMessageById=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:requestId=create_UUID();_context2.prev=1;_context2.next=4;return axios.get(baseURL+\"backoffice/Messaging/\".concat(id),{headers:{\"X-RequestId\":\"\".concat(requestId)},Authorization:\"\".concat(tokenType,\" \").concat(token)});case 4:response=_context2.sent;return _context2.abrupt(\"return\",response.data);case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);return _context2.abrupt(\"return\",_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function getMessageById(_x){return _ref2.apply(this,arguments);};}();var getLogRecordsById=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(messageType,id){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:requestId=create_UUID();_context3.prev=1;_context3.next=4;return axios.get(baseURL+\"backoffice​/Messaging​/getlogbyid_v2\",{params:{Logtype:messageType,Id:id},headers:{\"X-RequestId\":\"\".concat(requestId),Authorization:\"\".concat(tokenType,\" \").concat(token)}});case 4:response=_context3.sent;return _context3.abrupt(\"return\",response.data);case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](1);return _context3.abrupt(\"return\",_context3.t0);case 11:case\"end\":return _context3.stop();}}},_callee3,null,[[1,8]]);}));return function getLogRecordsById(_x2,_x3){return _ref3.apply(this,arguments);};}();var newMessage=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(MessageTypes,Sender,MessageTitle,MessageDescription,Recipients,Customer,EmailCode){var response;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:requestId=create_UUID();_context4.prev=1;_context4.next=4;return axios.post(baseURL+\"backoffice/Messaging/CreateMessages_V2\",null,{params:{MessageTypes:MessageTypes,Sender:Sender,MessageTitle:MessageTitle,MessageDescription:MessageDescription,Recipients:Recipients,Customer:Customer,EmailCode:EmailCode},headers:{\"X-RequestId\":\"\".concat(requestId),Authorization:\"\".concat(tokenType,\" \").concat(token)}});case 4:response=_context4.sent;return _context4.abrupt(\"return\",response.data);case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](1);return _context4.abrupt(\"return\",_context4.t0);case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[1,8]]);}));return function newMessage(_x4,_x5,_x6,_x7,_x8,_x9,_x10){return _ref4.apply(this,arguments);};}();return{getAllMessages:getAllMessages,getMessageById:getMessageById,getLogRecordsById:getLogRecordsById,newMessage:newMessage};};export default MessageRequest;","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/src/requests/message.js"],"names":["axios","baseURL","useSelector","create_UUID","dt","Date","getTime","uuid","replace","c","r","Math","random","floor","toString","requestId","MessageRequest","state","user","details","token","tokenType","getAllMessages","get","headers","Authorization","response","data","getMessageById","id","getLogRecordsById","messageType","params","Logtype","Id","newMessage","MessageTypes","Sender","MessageTitle","MessageDescription","Recipients","Customer","EmailCode","post"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport baseURL from \"./baseUrl\";\nimport { useSelector } from \"react-redux\";\n\nfunction create_UUID() {\n  var dt = new Date().getTime();\n  var uuid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(\n    /[xy]/g,\n    function (c) {\n      var r = (dt + Math.random() * 16) % 16 | 0;\n      dt = Math.floor(dt / 16);\n      return (c === \"x\" ? r : (r & 0x3) | 0x8).toString(16);\n    }\n  );\n  return uuid;\n}\n\nlet requestId = create_UUID();\n\nconst MessageRequest = () => {\n  const { token, tokenType } = useSelector((state) => state.user.details);\n  const getAllMessages = async () => {\n    requestId = create_UUID();\n\n    try {\n      const response = await axios.get(baseURL + \"backoffice/Messaging\", {\n        headers: {\n          \"X-RequestId\": `${requestId}`,\n          Authorization: `${tokenType} ${token}`,\n        },\n      });\n      return response.data;\n    } catch (error) {\n      return error;\n    }\n  };\n\n  const getMessageById = async (id) => {\n    requestId = create_UUID();\n\n    try {\n      const response = await axios.get(baseURL + `backoffice/Messaging/${id}`, {\n        headers: { \"X-RequestId\": `${requestId}` },\n        Authorization: `${tokenType} ${token}`,\n      });\n      return response.data;\n    } catch (error) {\n      return error;\n    }\n  };\n\n  const getLogRecordsById = async (messageType, id) => {\n    requestId = create_UUID();\n\n    try {\n      const response = await axios.get(\n        baseURL + \"backoffice​/Messaging​/getlogbyid_v2\",\n        {\n          params: {\n            Logtype: messageType,\n            Id: id,\n          },\n          headers: {\n            \"X-RequestId\": `${requestId}`,\n            Authorization: `${tokenType} ${token}`,\n          },\n        }\n      );\n      return response.data;\n    } catch (error) {\n      return error;\n    }\n  };\n\n  const newMessage = async (\n    MessageTypes,\n    Sender,\n    MessageTitle,\n    MessageDescription,\n    Recipients,\n    Customer,\n    EmailCode\n  ) => {\n    requestId = create_UUID();\n\n    try {\n      const response = await axios.post(\n        baseURL + \"backoffice/Messaging/CreateMessages_V2\",\n        null,\n        {\n          params: {\n            MessageTypes,\n            Sender,\n            MessageTitle,\n            MessageDescription,\n            Recipients,\n            Customer,\n            EmailCode\n          },\n          headers: {\n            \"X-RequestId\": `${requestId}`,\n            Authorization: `${tokenType} ${token}`,\n          },\n        }\n      );\n      return response.data;\n    } catch (error) {\n      return error;\n    }\n  };\n\n  return {\n    getAllMessages,\n    getMessageById,\n    getLogRecordsById,\n    newMessage,\n  };\n};\n\nexport default MessageRequest;\n"]},"metadata":{},"sourceType":"module"}