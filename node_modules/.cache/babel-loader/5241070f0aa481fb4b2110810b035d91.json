{"ast":null,"code":"import _slicedToArray from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Badge}from\"reactstrap\";import BootstrapTable from\"react-bootstrap-table-next\";import ToolkitProvider from\"react-bootstrap-table2-toolkit\";import paginationFactory from\"react-bootstrap-table2-paginator\";import Loader from\"../../../components/Loader\";import ReferralTableHeader from\"./ReferralTableHeader\";var tableColumns=[{dataField:\"referralName\",text:\"Referral Name\"},{dataField:\"date\",text:\"Date\"},{dataField:\"bonusStatus\",text:\"Bonus Status\",headerClasses:\"text-center\",formatter:function formatter(cell,row,rowIndex){if((cell===null||cell===void 0?void 0:cell.toLowerCase())===\"paid\"){return/*#__PURE__*/React.createElement(Badge,{color:\"secondary\",className:\"badge-active\"},cell);}if((cell===null||cell===void 0?void 0:cell.toLowerCase())===\"pending\"){return/*#__PURE__*/React.createElement(Badge,{color:\"secondary\",className:\"badge-pending\"},cell);}}},{dataField:\"bonus\",text:\"Bonus\"},{dataField:\"referralStatus\",text:\"Referral Status\",headerClasses:\"text-center\",formatter:function formatter(cell,row,rowIndex){if(!cell){return/*#__PURE__*/React.createElement(Badge,{color:\"secondary\",className:\"badge-inactive\"},\"Inactive\");}if(cell){return/*#__PURE__*/React.createElement(Badge,{color:\"secondary\",className:\"badge-active\"},\"Active\");}}}];export default function ReferralTable(_ref){var tableData=_ref.tableData;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isfiltered=_useState2[0],setIsFiltered=_useState2[1];var _useState3=useState(tableData),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var currentDate=new Date();var currentDateFormat=currentDate.setHours(0,0,0,0);var Filter=function Filter(data){setData(\"\");var check=data.status.length>0||data.endDate!==currentDateFormat||data.startDate!==currentDateFormat;setTimeout(function(){var filtered=tableData.filter(function(product){if(check){setIsFiltered(true);var splitDate=product.date.slice(0,-6).split(\"/\");var dataDate=new Date(+splitDate[2],splitDate[1]-1,+splitDate[0]).setHours(0,0,0,0);var status=product.referralStatus?\"active\":\"inactive\";return data.status.includes(status)||dataDate>=data.startDate&&dataDate<=data.endDate;}else{setIsFiltered(false);return product;}});setData(filtered);},500);};var customTotal=function customTotal(from,to,size){return/*#__PURE__*/React.createElement(\"span\",{className:\"react-bootstrap-table-pagination-total\"},\"Showing \",from,\" to \",to,\" of \",size,\" Results\");};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"admin-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"all-admins\"},/*#__PURE__*/React.createElement(\"h6\",null,\"Referred Customers\"),/*#__PURE__*/React.createElement(ToolkitProvider,{responsive:true,keyField:\"id\",data:data,columns:tableColumns,search:true},function(props){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ReferralTableHeader,{filter:Filter,filtered:isfiltered,dataLength:data.length,search:props.searchProps}),!data?/*#__PURE__*/React.createElement(Loader,null):/*#__PURE__*/React.createElement(\"div\",{className:\"admin-table\"},/*#__PURE__*/React.createElement(BootstrapTable,Object.assign({bootstrap4:true,bordered:false,wrapperClasses:\"table-responsive\",pagination:paginationFactory({sizePerPage:9,hideSizePerPage:true,showTotal:true,paginationTotalRenderer:customTotal})},props.baseProps))));}))));}","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/src/pages/customers/settl-customers/ReferralTable.js"],"names":["React","useState","Badge","BootstrapTable","ToolkitProvider","paginationFactory","Loader","ReferralTableHeader","tableColumns","dataField","text","headerClasses","formatter","cell","row","rowIndex","toLowerCase","ReferralTable","tableData","isfiltered","setIsFiltered","data","setData","currentDate","Date","currentDateFormat","setHours","Filter","check","status","length","endDate","startDate","setTimeout","filtered","filter","product","splitDate","date","slice","split","dataDate","referralStatus","includes","customTotal","from","to","size","props","searchProps","sizePerPage","hideSizePerPage","showTotal","paginationTotalRenderer","baseProps"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Badge } from \"reactstrap\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport ToolkitProvider from \"react-bootstrap-table2-toolkit\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport Loader from \"../../../components/Loader\";\nimport ReferralTableHeader from \"./ReferralTableHeader\";\n\nconst tableColumns = [\n  {\n    dataField: \"referralName\",\n    text: \"Referral Name\",\n  },\n  {\n    dataField: \"date\",\n    text: \"Date\",\n  },\n  {\n    dataField: \"bonusStatus\",\n    text: \"Bonus Status\",\n    headerClasses: \"text-center\",\n    formatter: (cell, row, rowIndex) => {\n      if (cell?.toLowerCase() === \"paid\") {\n        return (\n          <Badge color=\"secondary\" className=\"badge-active\">\n            {cell}\n          </Badge>\n        );\n      }\n      if (cell?.toLowerCase() === \"pending\") {\n        return (\n          <Badge color=\"secondary\" className=\"badge-pending\">\n            {cell}\n          </Badge>\n        );\n      }\n    },\n  },\n  {\n    dataField: \"bonus\",\n    text: \"Bonus\",\n  },\n  {\n    dataField: \"referralStatus\",\n    text: \"Referral Status\",\n    headerClasses: \"text-center\",\n    formatter: (cell, row, rowIndex) => {\n      if (!cell) {\n        return (\n          <Badge color=\"secondary\" className=\"badge-inactive\">\n            Inactive\n          </Badge>\n        );\n      }\n      if (cell) {\n        return (\n          <Badge color=\"secondary\" className=\"badge-active\">\n            Active\n          </Badge>\n        );\n      }\n    },\n  },\n];\n\nexport default function ReferralTable({ tableData }) {\n  const [isfiltered, setIsFiltered] = useState(false);\n  const [data, setData] = useState(tableData);\n  const currentDate = new Date();\n  const currentDateFormat = currentDate.setHours(0, 0, 0, 0);\n\n  const Filter = (data) => {\n    setData(\"\");\n    const check =\n      data.status.length > 0 ||\n      data.endDate !== currentDateFormat ||\n      data.startDate !== currentDateFormat;\n    setTimeout(() => {\n      const filtered = tableData.filter((product) => {\n        if (check) {\n          setIsFiltered(true);\n          const splitDate = product.date.slice(0, -6).split(\"/\");\n          const dataDate = new Date(\n            +splitDate[2],\n            splitDate[1] - 1,\n            +splitDate[0]\n          ).setHours(0, 0, 0, 0);\n          const status = product.referralStatus ? \"active\" : \"inactive\";\n          return (\n            data.status.includes(status) ||\n            (dataDate >= data.startDate && dataDate <= data.endDate)\n          );\n        } else {\n          setIsFiltered(false);\n          return product;\n        }\n      });\n      setData(filtered);\n    }, 500);\n  };\n\n  const customTotal = (from, to, size) => (\n    <span className=\"react-bootstrap-table-pagination-total\">\n      Showing {from} to {to} of {size} Results\n    </span>\n  );\n\n  return (\n    <>\n      <div className=\"admin-body\">\n        <div className=\"all-admins\">\n          <h6>Referred Customers</h6>\n          <ToolkitProvider\n            responsive\n            keyField=\"id\"\n            data={data}\n            columns={tableColumns}\n            search\n          >\n            {(props) => (\n              <div>\n                <ReferralTableHeader\n                  filter={Filter}\n                  filtered={isfiltered}\n                  dataLength={data.length}\n                  search={props.searchProps}\n                />\n                {!data ? (\n                  <Loader />\n                ) : (\n                  <div className=\"admin-table\">\n                    <BootstrapTable\n                      bootstrap4\n                      bordered={false}\n                      wrapperClasses=\"table-responsive\"\n                      pagination={paginationFactory({\n                        sizePerPage: 9,\n                        hideSizePerPage: true,\n                        showTotal: true,\n                        paginationTotalRenderer: customTotal,\n                      })}\n                      {...props.baseProps}\n                    />\n                  </div>\n                )}\n              </div>\n            )}\n          </ToolkitProvider>\n        </div>\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}