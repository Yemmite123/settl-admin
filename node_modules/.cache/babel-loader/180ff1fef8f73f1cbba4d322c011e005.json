{"ast":null,"code":"import _slicedToArray from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,createRef,useEffect}from\"react\";import ReactDOM from\"react-dom\";import BootstrapTable from\"react-bootstrap-table-next\";import paginationFactory from\"react-bootstrap-table2-paginator\";import ToolkitProvider from\"react-bootstrap-table2-toolkit\";import WalletTransactionHistoryTableHeader from\"./WalletTransactionHistoryTableHeader\";import Loader from\"../../../components/Loader\";import actionIcon from\"../../../assets/img/icons/threedots.svg\";import{DropdownMenu,DropdownToggle,Dropdown,DropdownItem}from\"reactstrap\";import CreditWalletDialog from\"../CreditWalletDialog\";import DebitWalletDialog from\"../DebitWalletDialog\";import Moment from\"react-moment\";export default function WalletTransactionHistoryTable(_ref){var tableData=_ref.tableData;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isfiltered=_useState2[0],setIsFiltered=_useState2[1];var _useState3=useState(tableData),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var currentDate=new Date();var currentDateFormat=currentDate.setHours(0,0,0,0);var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),currentTransId=_useState6[0],setCurrentTransId=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),currentAmount=_useState8[0],setCurrentAmount=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),index=_useState10[0],setIndex=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),debitModal=_useState12[0],setDebitModal=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),creditModal=_useState14[0],setCreditModal=_useState14[1];var toggleCreditModal=function toggleCreditModal(){return setCreditModal(!creditModal);};var toggleDebitModal=function toggleDebitModal(){return setDebitModal(!debitModal);};var itemOne=createRef();var itemTwo=createRef();useEffect(function(){var option1=ReactDOM.findDOMNode(itemOne===null||itemOne===void 0?void 0:itemOne.current);var option2=ReactDOM.findDOMNode(itemTwo===null||itemTwo===void 0?void 0:itemTwo.current);if(option1){option1.addEventListener(\"click\",function(){setCreditModal(true);});}if(option2){option2.addEventListener(\"click\",function(){setDebitModal(true);});}},[itemOne,itemTwo]);var customerTrans=data.map(function(dat){return dat.transId;});var customerAmount=data.map(function(amount){return amount.transAmount;});var fullName=data.map(function(customerDetail){return customerDetail.tocustomerName;});var customerPhone=data.map(function(customerDetail){return customerDetail.tocustomerId;});var Filter=function Filter(data){setData(\"\");var check=data.source.length>0||data.endDate!==currentDateFormat||data.startDate!==currentDateFormat;setTimeout(function(){var filtered=tableData.filter(function(product){if(check){setIsFiltered(true);var dataDate=new Date(product.transDate).setHours(0,0,0,0);return data.source.includes(product.fundSource.toLowerCase())||dataDate>=data.startDate&&dataDate<=data.endDate;}else{setIsFiltered(false);return product;}});setData(filtered);},500);};var tableColumns=[{dataField:\"transDate\",text:\"Date\",formatter:function formatter(cell,row,rowIndex){return/*#__PURE__*/React.createElement(Moment,{format:\"DD/MM/YYYY HH:mm\"},cell);}},{dataField:\"fundSource\",text:\"Wallet Type\"},{dataField:\"transId\",text:\"Tranx Ref.\"},{dataField:\"transType\",text:\"Tranx Type\"},{dataField:\"transAmount\",text:\"Amount\",classes:\"text-right\",headerClasses:\"text-right\",formatter:function formatter(cell,row,rowIndex){return/*#__PURE__*/React.createElement(\"span\",null,\"\\u20A6\",cell);}},{dataField:\"transChannel\",text:\"Payment Source\"},{dataField:\"!\",text:\"\",headerStyle:{backgroundColor:\"#fdfcff\",borderBottom:\"none\",width:\"20px\"},style:function style(){return{cursor:\"pointer\"};},formatter:function formatter(cell,row,rowIndex){return/*#__PURE__*/React.createElement(Dropdown,{isOpen:data[rowIndex].dropdown,toggle:function toggle(){return setIndex(null);}},/*#__PURE__*/React.createElement(DropdownToggle,null,/*#__PURE__*/React.createElement(\"img\",{src:actionIcon,alt:\"actionIcon\"})),rowIndex==index&&/*#__PURE__*/React.createElement(DropdownMenu,{style:{left:\"-100px\"}},/*#__PURE__*/React.createElement(DropdownItem,{className:\"item\",ref:itemOne},\"Credit Wallet\"),/*#__PURE__*/React.createElement(DropdownItem,{ref:itemTwo,className:\"item\"},\"Debit Wallet\")));},events:{onClick:function onClick(e,column,columnIndex,row,rowIndex){setIndex(rowIndex);setCurrentTransId(customerTrans[rowIndex]);setCurrentAmount(customerAmount[rowIndex]);data[rowIndex].dropdown=true;}}}];var customTotal=function customTotal(from,to,size){return/*#__PURE__*/React.createElement(\"span\",{className:\"react-bootstrap-table-pagination-total\"},\"Showing \",from,\" to \",to,\" of \",size,\" Results\");};var rowEvents={onClick:function onClick(e,row,rowIndex){console.log(rowIndex);}};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"admin-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"all-admins\"},/*#__PURE__*/React.createElement(\"h6\",null,\"Transaction History\"),/*#__PURE__*/React.createElement(\"div\",{className:\"admin-table\"},/*#__PURE__*/React.createElement(ToolkitProvider,{responsive:true,keyField:\"id\",data:data,columns:tableColumns,exportCSV:{fileName:\"wallet transaction history data.csv\"},search:true},function(props){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(WalletTransactionHistoryTableHeader,{csvData:props.csvProps,filter:Filter,filtered:isfiltered,dataLength:data.length,search:props.searchProps}),!data?/*#__PURE__*/React.createElement(Loader,null):/*#__PURE__*/React.createElement(BootstrapTable,Object.assign({bootstrap4:true,bordered:false,wrapperClasses:\"table-responsive\",rowEvents:rowEvents,pagination:paginationFactory({sizePerPage:9,hideSizePerPage:true,showTotal:true,paginationTotalRenderer:customTotal})},props.baseProps)));})))),/*#__PURE__*/React.createElement(CreditWalletDialog,{isOpen:creditModal,toggle:toggleCreditModal,transRef:currentTransId,amount:currentAmount,fullName:fullName[0],phoneNo:customerPhone[0]}),/*#__PURE__*/React.createElement(DebitWalletDialog,{transRef:currentTransId,amount:currentAmount,fullName:fullName[0],phoneNo:customerPhone[0],isOpen:debitModal,toggle:toggleDebitModal}));}","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/src/pages/customers/settl-customers/WalletTransactionHistoryTable.js"],"names":["React","useState","createRef","useEffect","ReactDOM","BootstrapTable","paginationFactory","ToolkitProvider","WalletTransactionHistoryTableHeader","Loader","DropdownMenu","DropdownToggle","Dropdown","DropdownItem","CreditWalletDialog","DebitWalletDialog","Moment","WalletTransactionHistoryTable","tableData","isfiltered","setIsFiltered","data","setData","currentDate","Date","currentDateFormat","setHours","currentTransId","setCurrentTransId","currentAmount","setCurrentAmount","index","setIndex","debitModal","setDebitModal","creditModal","setCreditModal","toggleCreditModal","toggleDebitModal","itemOne","itemTwo","option1","findDOMNode","current","option2","addEventListener","customerTrans","map","dat","transId","customerAmount","amount","transAmount","fullName","customerDetail","tocustomerName","customerPhone","tocustomerId","Filter","check","source","length","endDate","startDate","setTimeout","filtered","filter","product","dataDate","transDate","includes","fundSource","toLowerCase","tableColumns","dataField","text","formatter","cell","row","rowIndex","classes","headerClasses","headerStyle","backgroundColor","borderBottom","width","style","cursor","dropdown","actionIcon","left","events","onClick","e","column","columnIndex","customTotal","from","to","size","rowEvents","console","log","fileName","props","csvProps","searchProps","sizePerPage","hideSizePerPage","showTotal","paginationTotalRenderer","baseProps"],"mappings":"gNAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,SAArC,KAAsD,OAAtD,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CACA,MAAOC,CAAAA,cAAP,KAA2B,4BAA3B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,kCAA9B,CACA,MAAOC,CAAAA,eAAP,KAA4B,gCAA5B,CACA,MAAOC,CAAAA,mCAAP,KAAgD,uCAAhD,CACA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,C,gEAEA,OACEC,YADF,CAEEC,cAFF,CAGEC,QAHF,CAIEC,YAJF,KAKO,YALP,CAMA,MAAOC,CAAAA,kBAAP,KAA+B,uBAA/B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,sBAA9B,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CAEA,cAAe,SAASC,CAAAA,6BAAT,MAAsD,IAAbC,CAAAA,SAAa,MAAbA,SAAa,CACnE,cAAoCjB,QAAQ,CAAC,KAAD,CAA5C,wCAAOkB,UAAP,eAAmBC,aAAnB,eACA,eAAwBnB,QAAQ,CAACiB,SAAD,CAAhC,yCAAOG,IAAP,eAAaC,OAAb,eACA,GAAMC,CAAAA,WAAW,CAAG,GAAIC,CAAAA,IAAJ,EAApB,CACA,GAAMC,CAAAA,iBAAiB,CAAGF,WAAW,CAACG,QAAZ,CAAqB,CAArB,CAAwB,CAAxB,CAA2B,CAA3B,CAA8B,CAA9B,CAA1B,CAEA,eAA4CzB,QAAQ,CAAC,EAAD,CAApD,yCAAO0B,cAAP,eAAuBC,iBAAvB,eACA,eAA0C3B,QAAQ,CAAC,EAAD,CAAlD,yCAAO4B,aAAP,eAAsBC,gBAAtB,eACA,eAA0B7B,QAAQ,CAAC,IAAD,CAAlC,0CAAO8B,KAAP,gBAAcC,QAAd,gBACA,gBAAoC/B,QAAQ,CAAC,KAAD,CAA5C,2CAAOgC,UAAP,gBAAmBC,aAAnB,gBACA,gBAAsCjC,QAAQ,CAAC,KAAD,CAA9C,2CAAOkC,WAAP,gBAAoBC,cAApB,gBAEA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,SAAMD,CAAAA,cAAc,CAAC,CAACD,WAAF,CAApB,EAA1B,CACA,GAAMG,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,SAAMJ,CAAAA,aAAa,CAAC,CAACD,UAAF,CAAnB,EAAzB,CAEA,GAAMM,CAAAA,OAAO,CAAGrC,SAAS,EAAzB,CACA,GAAMsC,CAAAA,OAAO,CAAGtC,SAAS,EAAzB,CACAC,SAAS,CAAC,UAAM,CACd,GAAIsC,CAAAA,OAAO,CAAGrC,QAAQ,CAACsC,WAAT,CAAqBH,OAArB,SAAqBA,OAArB,iBAAqBA,OAAO,CAAEI,OAA9B,CAAd,CACA,GAAIC,CAAAA,OAAO,CAAGxC,QAAQ,CAACsC,WAAT,CAAqBF,OAArB,SAAqBA,OAArB,iBAAqBA,OAAO,CAAEG,OAA9B,CAAd,CACA,GAAIF,OAAJ,CAAa,CACXA,OAAO,CAACI,gBAAR,CAAyB,OAAzB,CAAkC,UAAM,CACtCT,cAAc,CAAC,IAAD,CAAd,CACD,CAFD,EAGD,CACD,GAAIQ,OAAJ,CAAa,CACXA,OAAO,CAACC,gBAAR,CAAyB,OAAzB,CAAkC,UAAM,CACtCX,aAAa,CAAC,IAAD,CAAb,CACD,CAFD,EAGD,CACF,CAbQ,CAaN,CAACK,OAAD,CAAUC,OAAV,CAbM,CAAT,CAeA,GAAMM,CAAAA,aAAa,CAAGzB,IAAI,CAAC0B,GAAL,CAAS,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,OAAR,EAAZ,CAAtB,CACA,GAAMC,CAAAA,cAAc,CAAG7B,IAAI,CAAC0B,GAAL,CAAS,SAAAI,MAAM,QAAIA,CAAAA,MAAM,CAACC,WAAX,EAAf,CAAvB,CAED,GAAMC,CAAAA,QAAQ,CAAIhC,IAAI,CAAC0B,GAAL,CAAS,SAAAO,cAAc,QAAIA,CAAAA,cAAc,CAACC,cAAnB,EAAvB,CAAlB,CACA,GAAOC,CAAAA,aAAa,CAAGnC,IAAI,CAAC0B,GAAL,CAAS,SAAAO,cAAc,QAAIA,CAAAA,cAAc,CAACG,YAAnB,EAAvB,CAAvB,CAIC,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACrC,IAAD,CAAU,CACvBC,OAAO,CAAC,EAAD,CAAP,CACA,GAAMqC,CAAAA,KAAK,CACTtC,IAAI,CAACuC,MAAL,CAAYC,MAAZ,CAAqB,CAArB,EACAxC,IAAI,CAACyC,OAAL,GAAiBrC,iBADjB,EAEAJ,IAAI,CAAC0C,SAAL,GAAmBtC,iBAHrB,CAKAuC,UAAU,CAAC,UAAM,CACf,GAAMC,CAAAA,QAAQ,CAAG/C,SAAS,CAACgD,MAAV,CAAiB,SAACC,OAAD,CAAa,CAC7C,GAAIR,KAAJ,CAAW,CACTvC,aAAa,CAAC,IAAD,CAAb,CACA,GAAMgD,CAAAA,QAAQ,CAAG,GAAI5C,CAAAA,IAAJ,CAAS2C,OAAO,CAACE,SAAjB,EAA4B3C,QAA5B,CAAqC,CAArC,CAAwC,CAAxC,CAA2C,CAA3C,CAA8C,CAA9C,CAAjB,CACA,MACEL,CAAAA,IAAI,CAACuC,MAAL,CAAYU,QAAZ,CAAqBH,OAAO,CAACI,UAAR,CAAmBC,WAAnB,EAArB,GACCJ,QAAQ,EAAI/C,IAAI,CAAC0C,SAAjB,EAA8BK,QAAQ,EAAI/C,IAAI,CAACyC,OAFlD,CAID,CAPD,IAOO,CACL1C,aAAa,CAAC,KAAD,CAAb,CACA,MAAO+C,CAAAA,OAAP,CACD,CACF,CAZgB,CAAjB,CAaA7C,OAAO,CAAC2C,QAAD,CAAP,CACD,CAfS,CAeP,GAfO,CAAV,CAgBD,CAvBD,CAwBA,GAAMQ,CAAAA,YAAY,CAAG,CACnB,CACEC,SAAS,CAAE,WADb,CAEEC,IAAI,CAAE,MAFR,CAGEC,SAAS,CAAE,mBAACC,IAAD,CAAOC,GAAP,CAAYC,QAAZ,qBAAyB,oBAAC,MAAD,EAAQ,MAAM,CAAC,kBAAf,EAAmCF,IAAnC,CAAzB,EAHb,CADmB,CAMnB,CACEH,SAAS,CAAE,YADb,CAEEC,IAAI,CAAE,aAFR,CANmB,CAUnB,CACED,SAAS,CAAE,SADb,CAEEC,IAAI,CAAE,YAFR,CAVmB,CAcnB,CACED,SAAS,CAAE,WADb,CAEEC,IAAI,CAAE,YAFR,CAdmB,CAkBnB,CACED,SAAS,CAAE,aADb,CAEEC,IAAI,CAAE,QAFR,CAGEK,OAAO,CAAE,YAHX,CAIEC,aAAa,CAAE,YAJjB,CAKEL,SAAS,CAAE,mBAACC,IAAD,CAAOC,GAAP,CAAYC,QAAZ,qBAAyB,yCAAQF,IAAR,CAAzB,EALb,CAlBmB,CAyBnB,CACEH,SAAS,CAAE,cADb,CAEEC,IAAI,CAAE,gBAFR,CAzBmB,CA6BnB,CACED,SAAS,CAAE,GADb,CAEEC,IAAI,CAAE,EAFR,CAGEO,WAAW,CAAE,CACXC,eAAe,CAAE,SADN,CAEXC,YAAY,CAAE,MAFH,CAGXC,KAAK,CAAE,MAHI,CAHf,CAQEC,KAAK,CAAE,uBAAO,CACZC,MAAM,CAAE,SADI,CAAP,EART,CAWEX,SAAS,CAAE,mBAACC,IAAD,CAAOC,GAAP,CAAYC,QAAZ,CAAyB,CAClC,mBACE,oBAAC,QAAD,EACE,MAAM,CAAE1D,IAAI,CAAC0D,QAAD,CAAJ,CAAeS,QADzB,CAEE,MAAM,CAAE,wBAAMxD,CAAAA,QAAQ,CAAC,IAAD,CAAd,EAFV,eAIE,oBAAC,cAAD,mBACE,2BAAK,GAAG,CAAEyD,UAAV,CAAsB,GAAG,CAAC,YAA1B,EADF,CAJF,CAOGV,QAAQ,EAAIhD,KAAZ,eACC,oBAAC,YAAD,EACE,KAAK,CAAE,CACL2D,IAAI,CAAE,QADD,CADT,eAKE,oBAAC,YAAD,EAAc,SAAS,CAAC,MAAxB,CAA+B,GAAG,CAAEnD,OAApC,kBALF,cAQE,oBAAC,YAAD,EAAc,GAAG,CAAEC,OAAnB,CAA4B,SAAS,CAAC,MAAtC,iBARF,CARJ,CADF,CAwBD,CApCH,CAqCEmD,MAAM,CAAE,CACNC,OAAO,CAAE,iBAACC,CAAD,CAAIC,MAAJ,CAAYC,WAAZ,CAAyBjB,GAAzB,CAA8BC,QAA9B,CAA2C,CAClD/C,QAAQ,CAAC+C,QAAD,CAAR,CACAnD,iBAAiB,CAACkB,aAAa,CAACiC,QAAD,CAAd,CAAjB,CACAjD,gBAAgB,CAACoB,cAAc,CAAC6B,QAAD,CAAf,CAAhB,CACA1D,IAAI,CAAC0D,QAAD,CAAJ,CAAeS,QAAf,CAA0B,IAA1B,CACD,CANK,CArCV,CA7BmB,CAArB,CA4EA,GAAMQ,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,IAAD,CAAOC,EAAP,CAAWC,IAAX,qBAClB,4BAAM,SAAS,CAAC,wCAAhB,aACWF,IADX,QACqBC,EADrB,QAC6BC,IAD7B,YADkB,EAApB,CAMA,GAAMC,CAAAA,SAAS,CAAG,CAChBR,OAAO,CAAE,iBAACC,CAAD,CAAIf,GAAJ,CAASC,QAAT,CAAsB,CAC7BsB,OAAO,CAACC,GAAR,CAAYvB,QAAZ,EACD,CAHe,CAAlB,CAMA,mBACE,qDACE,2BAAK,SAAS,CAAC,YAAf,eACE,2BAAK,SAAS,CAAC,YAAf,eACE,oDADF,cAEE,2BAAK,SAAS,CAAC,aAAf,eACE,oBAAC,eAAD,EACE,UAAU,KADZ,CAEE,QAAQ,CAAC,IAFX,CAGE,IAAI,CAAE1D,IAHR,CAIE,OAAO,CAAEoD,YAJX,CAKE,SAAS,CAAE,CACT8B,QAAQ,CAAE,qCADD,CALb,CAQE,MAAM,KARR,EAUG,SAACC,KAAD,qBACC,4CACE,oBAAC,mCAAD,EACE,OAAO,CAAEA,KAAK,CAACC,QADjB,CAEE,MAAM,CAAE/C,MAFV,CAGE,QAAQ,CAAEvC,UAHZ,CAIE,UAAU,CAAEE,IAAI,CAACwC,MAJnB,CAKE,MAAM,CAAE2C,KAAK,CAACE,WALhB,EADF,CAQG,CAACrF,IAAD,cACC,oBAAC,MAAD,MADD,cAGC,oBAAC,cAAD,gBACE,UAAU,KADZ,CAEE,QAAQ,CAAE,KAFZ,CAGE,cAAc,CAAC,kBAHjB,CAIE,SAAS,CAAE+E,SAJb,CAKE,UAAU,CAAE9F,iBAAiB,CAAC,CAC5BqG,WAAW,CAAE,CADe,CAE5BC,eAAe,CAAE,IAFW,CAG5BC,SAAS,CAAE,IAHiB,CAI5BC,uBAAuB,CAAEd,WAJG,CAAD,CAL/B,EAWMQ,KAAK,CAACO,SAXZ,EAXJ,CADD,EAVH,CADF,CAFF,CADF,CADF,cA+CE,oBAAC,kBAAD,EACE,MAAM,CAAE5E,WADV,CAEE,MAAM,CAAEE,iBAFV,CAGE,QAAQ,CAAEV,cAHZ,CAIE,MAAM,CAAEE,aAJV,CAKE,QAAQ,CAAEwB,QAAQ,CAAC,CAAD,CALpB,CAME,OAAO,CAAIG,aAAa,CAAC,CAAD,CAN1B,EA/CF,cAuDE,oBAAC,iBAAD,EACC,QAAQ,CAAE7B,cADX,CAEC,MAAM,CAAEE,aAFT,CAGC,QAAQ,CAAEwB,QAAQ,CAAC,CAAD,CAHnB,CAIC,OAAO,CAAIG,aAAa,CAAC,CAAD,CAJzB,CAKA,MAAM,CAAEvB,UALR,CAMA,MAAM,CAAEK,gBANR,EAvDF,CADF,CAiED","sourcesContent":["import React, { useState, createRef, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport ToolkitProvider from \"react-bootstrap-table2-toolkit\";\nimport WalletTransactionHistoryTableHeader from \"./WalletTransactionHistoryTableHeader\";\nimport Loader from \"../../../components/Loader\";\nimport actionIcon from \"../../../assets/img/icons/threedots.svg\";\nimport {\n  DropdownMenu,\n  DropdownToggle,\n  Dropdown,\n  DropdownItem,\n} from \"reactstrap\";\nimport CreditWalletDialog from \"../CreditWalletDialog\";\nimport DebitWalletDialog from \"../DebitWalletDialog\";\nimport Moment from \"react-moment\";\n\nexport default function WalletTransactionHistoryTable({ tableData }) {\n  const [isfiltered, setIsFiltered] = useState(false);\n  const [data, setData] = useState(tableData);\n  const currentDate = new Date();\n  const currentDateFormat = currentDate.setHours(0, 0, 0, 0);\n\n  const [currentTransId, setCurrentTransId] = useState(\"\");\n  const [currentAmount, setCurrentAmount] = useState(\"\");\n  const [index, setIndex] = useState(null);\n  const [debitModal, setDebitModal] = useState(false);\n  const [creditModal, setCreditModal] = useState(false);\n\n  const toggleCreditModal = () => setCreditModal(!creditModal);\n  const toggleDebitModal = () => setDebitModal(!debitModal);\n\n  const itemOne = createRef();\n  const itemTwo = createRef();\n  useEffect(() => {\n    let option1 = ReactDOM.findDOMNode(itemOne?.current);\n    let option2 = ReactDOM.findDOMNode(itemTwo?.current);\n    if (option1) {\n      option1.addEventListener(\"click\", () => {\n        setCreditModal(true);\n      });\n    }\n    if (option2) {\n      option2.addEventListener(\"click\", () => {\n        setDebitModal(true);\n      });\n    }\n  }, [itemOne, itemTwo]);\n\n  const customerTrans = data.map(dat => dat.transId);\n  const customerAmount = data.map(amount => amount.transAmount);\n\n const fullName =  data.map(customerDetail => customerDetail.tocustomerName)\n const  customerPhone=  data.map(customerDetail => customerDetail.tocustomerId)\n \n \n\n  const Filter = (data) => {\n    setData(\"\");\n    const check =\n      data.source.length > 0 ||\n      data.endDate !== currentDateFormat ||\n      data.startDate !== currentDateFormat;\n\n    setTimeout(() => {\n      const filtered = tableData.filter((product) => {\n        if (check) {\n          setIsFiltered(true);\n          const dataDate = new Date(product.transDate).setHours(0, 0, 0, 0);\n          return (\n            data.source.includes(product.fundSource.toLowerCase()) ||\n            (dataDate >= data.startDate && dataDate <= data.endDate)\n          );\n        } else {\n          setIsFiltered(false);\n          return product;\n        }\n      });\n      setData(filtered);\n    }, 500);\n  };\n  const tableColumns = [\n    {\n      dataField: \"transDate\",\n      text: \"Date\",\n      formatter: (cell, row, rowIndex) => <Moment format=\"DD/MM/YYYY HH:mm\">{cell}</Moment>\n    },\n    {\n      dataField: \"fundSource\",\n      text: \"Wallet Type\",\n    },\n    {\n      dataField: \"transId\",\n      text: \"Tranx Ref.\",\n    },\n    {\n      dataField: \"transType\",\n      text: \"Tranx Type\",\n    },\n    {\n      dataField: \"transAmount\",\n      text: \"Amount\",\n      classes: \"text-right\",\n      headerClasses: \"text-right\",\n      formatter: (cell, row, rowIndex) => <span>₦{cell}</span>,\n    },\n    {\n      dataField: \"transChannel\",\n      text: \"Payment Source\",\n    },\n    {\n      dataField: \"!\",\n      text: \"\",\n      headerStyle: {\n        backgroundColor: \"#fdfcff\",\n        borderBottom: \"none\",\n        width: \"20px\",\n      },\n      style: () => ({\n        cursor: \"pointer\",\n      }),\n      formatter: (cell, row, rowIndex) => {\n        return (\n          <Dropdown\n            isOpen={data[rowIndex].dropdown}\n            toggle={() => setIndex(null)}\n          >\n            <DropdownToggle>\n              <img src={actionIcon} alt=\"actionIcon\" />\n            </DropdownToggle>\n            {rowIndex == index && (\n              <DropdownMenu\n                style={{\n                  left: \"-100px\",\n                }}\n              >\n                <DropdownItem className=\"item\" ref={itemOne}>\n                  Credit Wallet\n                </DropdownItem>\n                <DropdownItem ref={itemTwo} className=\"item\">\n                  Debit Wallet\n                </DropdownItem>\n              </DropdownMenu>\n            )}\n          </Dropdown>\n        );\n      },\n      events: {\n        onClick: (e, column, columnIndex, row, rowIndex) => {\n          setIndex(rowIndex);\n          setCurrentTransId(customerTrans[rowIndex]);\n          setCurrentAmount(customerAmount[rowIndex]);\n          data[rowIndex].dropdown = true;\n        },\n      },\n    },\n  ];\n  const customTotal = (from, to, size) => (\n    <span className=\"react-bootstrap-table-pagination-total\">\n      Showing {from} to {to} of {size} Results\n    </span>\n  );\n\n  const rowEvents = {\n    onClick: (e, row, rowIndex) => {\n      console.log(rowIndex);\n    },\n  };\n\n  return (\n    <>\n      <div className=\"admin-body\">\n        <div className=\"all-admins\">\n          <h6>Transaction History</h6>\n          <div className=\"admin-table\">\n            <ToolkitProvider\n              responsive\n              keyField=\"id\"\n              data={data}\n              columns={tableColumns}\n              exportCSV={{\n                fileName: \"wallet transaction history data.csv\",\n              }}\n              search\n            >\n              {(props) => (\n                <div>\n                  <WalletTransactionHistoryTableHeader\n                    csvData={props.csvProps}\n                    filter={Filter}\n                    filtered={isfiltered}\n                    dataLength={data.length}\n                    search={props.searchProps}\n                  />\n                  {!data ? (\n                    <Loader />\n                  ) : (\n                    <BootstrapTable\n                      bootstrap4\n                      bordered={false}\n                      wrapperClasses=\"table-responsive\"\n                      rowEvents={rowEvents}\n                      pagination={paginationFactory({\n                        sizePerPage: 9,\n                        hideSizePerPage: true,\n                        showTotal: true,\n                        paginationTotalRenderer: customTotal,\n                      })}\n                      {...props.baseProps}\n                    />\n                  )}\n                </div>\n              )}\n            </ToolkitProvider>\n          </div>\n        </div>\n      </div>\n      <CreditWalletDialog\n        isOpen={creditModal}\n        toggle={toggleCreditModal}\n        transRef={currentTransId}\n        amount={currentAmount}\n        fullName={fullName[0]}\n        phoneNo = {customerPhone[0]}\n      />\n      <DebitWalletDialog\n       transRef={currentTransId}\n       amount={currentAmount}\n       fullName={fullName[0]}\n       phoneNo = {customerPhone[0]}\n      isOpen={debitModal} \n      toggle={toggleDebitModal} />\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}