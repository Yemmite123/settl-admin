{"ast":null,"code":"import _regeneratorRuntime from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import CustomerDetails from\"./CustomerDetails\";import CustomerTable from\"./CustomersTable\";import Header from\"./Header\";import Statistics from\"./Statistics\";import Loader from\"../../../components/Loader\";import Request from\"../../../requests/customer\";export default function SettlCustomers(){var _Request=Request(),customerAnalytics=_Request.customerAnalytics;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showDetails=_useState2[0],setShowDetails=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),tableData=_useState4[0],setTableData=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),stats=_useState6[0],setStats=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),phoneNumber=_useState8[0],setPhoneNumber=_useState8[1];var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,_response$data,volumeOfNewUser,percentVolOfNewUser,dormantUser,percentDormantUsers,volumeOfActiveUser,percentActiveUser,volumeOfInactiveUser,percentInactiveUser,listOfConsumers;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return customerAnalytics(1);case 2:response=_context.sent;console.log(response);if(response.code==\"00\"){_response$data=response.data,volumeOfNewUser=_response$data.volumeOfNewUser,percentVolOfNewUser=_response$data.percentVolOfNewUser,dormantUser=_response$data.dormantUser,percentDormantUsers=_response$data.percentDormantUsers,volumeOfActiveUser=_response$data.volumeOfActiveUser,percentActiveUser=_response$data.percentActiveUser,volumeOfInactiveUser=_response$data.volumeOfInactiveUser,percentInactiveUser=_response$data.percentInactiveUser,listOfConsumers=_response$data.listOfConsumers;setStats({volumeOfNewUser:volumeOfNewUser,percentVolOfNewUser:percentVolOfNewUser,dormantUser:dormantUser,percentDormantUsers:percentDormantUsers,volumeOfActiveUser:volumeOfActiveUser,percentActiveUser:percentActiveUser,volumeOfInactiveUser:volumeOfInactiveUser,percentInactiveUser:percentInactiveUser});setTableData(listOfConsumers);}case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();var refresh=function refresh(){setStats(null);setTableData(null);fetchData();};useEffect(function(){fetchData();},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"customers\"},!tableData&&!stats?/*#__PURE__*/React.createElement(Loader,null):/*#__PURE__*/React.createElement(React.Fragment,null,!showDetails?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Header,{title:\"Customer Data\",refresh:refresh}),/*#__PURE__*/React.createElement(Statistics,{stats:stats}),/*#__PURE__*/React.createElement(CustomerTable,{setShowDetails:setShowDetails,tableData:tableData,setPhoneNumber:setPhoneNumber})):/*#__PURE__*/React.createElement(CustomerDetails,{setShowDetails:setShowDetails,phoneNumber:phoneNumber,setTableData:setTableData}))));}","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/src/pages/customers/settl-customers/Index.js"],"names":["React","useState","useEffect","CustomerDetails","CustomerTable","Header","Statistics","Loader","Request","SettlCustomers","customerAnalytics","showDetails","setShowDetails","tableData","setTableData","stats","setStats","phoneNumber","setPhoneNumber","fetchData","response","console","log","code","data","volumeOfNewUser","percentVolOfNewUser","dormantUser","percentDormantUsers","volumeOfActiveUser","percentActiveUser","volumeOfInactiveUser","percentInactiveUser","listOfConsumers","refresh"],"mappings":"6mBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CACA,MAAOC,CAAAA,aAAP,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,4BAApB,CAEA,cAAe,SAASC,CAAAA,cAAT,EAA0B,CACvC,aAA8BD,OAAO,EAArC,CAAQE,iBAAR,UAAQA,iBAAR,CACA,cAAsCT,QAAQ,CAAC,KAAD,CAA9C,wCAAOU,WAAP,eAAoBC,cAApB,eACA,eAAkCX,QAAQ,CAAC,IAAD,CAA1C,yCAAOY,SAAP,eAAkBC,YAAlB,eACA,eAA0Bb,QAAQ,CAAC,IAAD,CAAlC,yCAAOc,KAAP,eAAcC,QAAd,eACA,eAAsCf,QAAQ,CAAC,IAAD,CAA9C,yCAAOgB,WAAP,eAAoBC,cAApB,eACA,GAAMC,CAAAA,SAAS,0FAAG,uVACOT,CAAAA,iBAAiB,CAAC,CAAD,CADxB,QACVU,QADU,eAEhBC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACA,GAAIA,QAAQ,CAACG,IAAT,EAAiB,IAArB,CAA2B,gBAWrBH,QAAQ,CAACI,IAXY,CAEvBC,eAFuB,gBAEvBA,eAFuB,CAGvBC,mBAHuB,gBAGvBA,mBAHuB,CAIvBC,WAJuB,gBAIvBA,WAJuB,CAKvBC,mBALuB,gBAKvBA,mBALuB,CAMvBC,kBANuB,gBAMvBA,kBANuB,CAOvBC,iBAPuB,gBAOvBA,iBAPuB,CAQvBC,oBARuB,gBAQvBA,oBARuB,CASvBC,mBATuB,gBASvBA,mBATuB,CAUvBC,eAVuB,gBAUvBA,eAVuB,CAYzBjB,QAAQ,CAAC,CACPS,eAAe,CAAfA,eADO,CAEPC,mBAAmB,CAAnBA,mBAFO,CAGPC,WAAW,CAAXA,WAHO,CAIPC,mBAAmB,CAAnBA,mBAJO,CAKPC,kBAAkB,CAAlBA,kBALO,CAMPC,iBAAiB,CAAjBA,iBANO,CAOPC,oBAAoB,CAApBA,oBAPO,CAQPC,mBAAmB,CAAnBA,mBARO,CAAD,CAAR,CAUAlB,YAAY,CAACmB,eAAD,CAAZ,CACD,CA1Be,sDAAH,kBAATd,CAAAA,SAAS,0CAAf,CA4BA,GAAMe,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpBlB,QAAQ,CAAC,IAAD,CAAR,CACAF,YAAY,CAAC,IAAD,CAAZ,CACAK,SAAS,GACV,CAJD,CAKAjB,SAAS,CAAC,UAAM,CACdiB,SAAS,GACV,CAFQ,CAEN,EAFM,CAAT,CAGA,mBACE,qDACE,2BAAK,SAAS,CAAC,WAAf,EACG,CAACN,SAAD,EAAc,CAACE,KAAf,cACC,oBAAC,MAAD,MADD,cAGC,wCACG,CAACJ,WAAD,cACC,qDACE,oBAAC,MAAD,EAAQ,KAAK,CAAC,eAAd,CAA8B,OAAO,CAAEuB,OAAvC,EADF,cAEE,oBAAC,UAAD,EAAY,KAAK,CAAEnB,KAAnB,EAFF,cAGE,oBAAC,aAAD,EACE,cAAc,CAAEH,cADlB,CAEE,SAAS,CAAEC,SAFb,CAGE,cAAc,CAAEK,cAHlB,EAHF,CADD,cAWC,oBAAC,eAAD,EACE,cAAc,CAAEN,cADlB,CAEE,WAAW,CAAEK,WAFf,CAGE,YAAY,CAAEH,YAHhB,EAZJ,CAJJ,CADF,CADF,CA6BD","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport CustomerDetails from \"./CustomerDetails\";\nimport CustomerTable from \"./CustomersTable\";\nimport Header from \"./Header\";\nimport Statistics from \"./Statistics\";\nimport Loader from \"../../../components/Loader\";\nimport Request from \"../../../requests/customer\";\n\nexport default function SettlCustomers() {\n  const { customerAnalytics } = Request();\n  const [showDetails, setShowDetails] = useState(false);\n  const [tableData, setTableData] = useState(null);\n  const [stats, setStats] = useState(null);\n  const [phoneNumber, setPhoneNumber] = useState(null);\n  const fetchData = async () => {\n    const response = await customerAnalytics(1);\n    console.log(response);\n    if (response.code == \"00\") {\n      const {\n        volumeOfNewUser,\n        percentVolOfNewUser,\n        dormantUser,\n        percentDormantUsers,\n        volumeOfActiveUser,\n        percentActiveUser,\n        volumeOfInactiveUser,\n        percentInactiveUser,\n        listOfConsumers,\n      } = response.data;\n      setStats({\n        volumeOfNewUser,\n        percentVolOfNewUser,\n        dormantUser,\n        percentDormantUsers,\n        volumeOfActiveUser,\n        percentActiveUser,\n        volumeOfInactiveUser,\n        percentInactiveUser,\n      });\n      setTableData(listOfConsumers);\n    }\n  };\n  const refresh = () => {\n    setStats(null);\n    setTableData(null);\n    fetchData();\n  };\n  useEffect(() => {\n    fetchData();\n  }, []);\n  return (\n    <>\n      <div className=\"customers\">\n        {!tableData && !stats ? (\n          <Loader />\n        ) : (\n          <>\n            {!showDetails ? (\n              <>\n                <Header title=\"Customer Data\" refresh={refresh} />\n                <Statistics stats={stats} />\n                <CustomerTable\n                  setShowDetails={setShowDetails}\n                  tableData={tableData}\n                  setPhoneNumber={setPhoneNumber}\n                />\n              </>\n            ) : (\n              <CustomerDetails\n                setShowDetails={setShowDetails}\n                phoneNumber={phoneNumber}\n                setTableData={setTableData}\n              />\n            )}\n          </>\n        )}\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}