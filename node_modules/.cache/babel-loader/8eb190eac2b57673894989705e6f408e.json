{"ast":null,"code":"import _regeneratorRuntime from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{connect}from\"react-redux\";import{Button,Modal,ModalBody,ModalHeader,Form,FormGroup,Label}from\"reactstrap\";import InputBox from\"../../components/InputBox\";import Loading from\"../../components/Loading\";import CustomersRequest from\"../../requests/customer\";import securityIcon from\"./../../assets/img/icons/security-warning.svg\";function BlacklistDeviceDialog(props){var _useState=useState(\"+2348030000000\"),_useState2=_slicedToArray(_useState,2),customerPhoneNumber=_useState2[0],setCustomerPhoneNumber=_useState2[1];var _useState3=useState(\"Fraud suspected\"),_useState4=_slicedToArray(_useState3,2),reasonForBlacklist=_useState4[0],setReasonForBlacklist=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _CustomersRequest=CustomersRequest(),blacklistDevice=_CustomersRequest.blacklistDevice;var handleBlacklistDevice=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();setLoading(true);_context.next=4;return blacklistDevice({adminName:props.fullName,adminEmail:props.email,customerPhone:customerPhoneNumber,reason:reasonForBlacklist,blacklist:true});case 4:response=_context.sent;if(!(response.code===\"00\")){_context.next=13;break;}console.log(response);alert(\"Blacklist Operation is successful\");setCustomerPhoneNumber(\"+2348030000000\");setReasonForBlacklist(\"Fraud suspected\");props.toggle();setLoading(false);return _context.abrupt(\"return\",true);case 13:setLoading(false);return _context.abrupt(\"return\",false);case 15:case\"end\":return _context.stop();}}},_callee);}));return function handleBlacklistDevice(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Modal,{isOpen:props.isOpen,toggle:props.toggle,className:\"admin-modal freeze-modal\"},/*#__PURE__*/React.createElement(ModalHeader,null,\"Blacklist Device\"),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(\"img\",{src:securityIcon,className:\"mb-3\",alt:\"security warning icon\"}),/*#__PURE__*/React.createElement(\"p\",null,\"Are you sure you want to blacklist the \",props.title,\" device connected to this account?\")),/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(InputBox,{type:\"text\",name:\"adminFullName\",id:\"adminFullName\",value:customerPhoneNumber,onChange:function onChange(e){return setCustomerPhoneNumber(e.target.value);}}),/*#__PURE__*/React.createElement(Label,{for:\"adminFullName\"},\"Admin Full Name\")),/*#__PURE__*/React.createElement(FormGroup,{className:\"pb-3\"},/*#__PURE__*/React.createElement(InputBox,{type:\"textarea\",name:\"reasonForBlacklist\",id:\"reasonForBlacklist\",value:reasonForBlacklist,rows:\"4\",onChange:function onChange(e){return setReasonForBlacklist(e.target.value);}}))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between\"},/*#__PURE__*/React.createElement(Button,{color:\"info\",className:\"btn-cancel\",onClick:props.toggle},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{color:\"danger\",className:\"btn-delete\",onClick:handleBlacklistDevice},loading?/*#__PURE__*/React.createElement(Loading,null):\"Yes, Blacklist\"))))));}var mapStateToProps=function mapStateToProps(state){var _state$user,_state$user$details,_state$user$details$a,_state$user2,_state$user2$details,_state$user2$details$;return{fullName:(_state$user=state.user)===null||_state$user===void 0?void 0:(_state$user$details=_state$user.details)===null||_state$user$details===void 0?void 0:(_state$user$details$a=_state$user$details.admin)===null||_state$user$details$a===void 0?void 0:_state$user$details$a.fullname,email:(_state$user2=state.user)===null||_state$user2===void 0?void 0:(_state$user2$details=_state$user2.details)===null||_state$user2$details===void 0?void 0:(_state$user2$details$=_state$user2$details.admin)===null||_state$user2$details$===void 0?void 0:_state$user2$details$.email};};export default connect(mapStateToProps)(BlacklistDeviceDialog);","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/src/pages/customers/BlacklistDeviceDialog.js"],"names":["React","useState","connect","Button","Modal","ModalBody","ModalHeader","Form","FormGroup","Label","InputBox","Loading","CustomersRequest","BlacklistDeviceDialog","props","customerPhoneNumber","setCustomerPhoneNumber","reasonForBlacklist","setReasonForBlacklist","loading","setLoading","blacklistDevice","handleBlacklistDevice","e","preventDefault","adminName","fullName","adminEmail","email","customerPhone","reason","blacklist","response","code","console","log","alert","toggle","isOpen","securityIcon","title","target","value","mapStateToProps","state","user","details","admin","fullname"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { \n    Button,\n    Modal, \n    ModalBody,\n    ModalHeader,\n    Form,\n    FormGroup,\n    Label \n} from \"reactstrap\";\nimport InputBox from \"../../components/InputBox\";\nimport Loading from \"../../components/Loading\";\nimport CustomersRequest from \"../../requests/customer\";\nimport securityIcon from \"./../../assets/img/icons/security-warning.svg\";\n\nfunction BlacklistDeviceDialog(props) {\n    const [customerPhoneNumber, setCustomerPhoneNumber] = useState(\"+2348030000000\");\n    const [reasonForBlacklist, setReasonForBlacklist] = useState(\"Fraud suspected\");\n\n    const [loading, setLoading] = useState(false);\n    const { blacklistDevice } = CustomersRequest();\n\n    const handleBlacklistDevice = async (e) => {\n        e.preventDefault();\n        setLoading(true);\n    \n        const response = await blacklistDevice({\n            adminName: props.fullName,\n            adminEmail: props.email,\n            customerPhone: customerPhoneNumber,\n            reason: reasonForBlacklist,\n            blacklist: true\n        });\n\n        if(response.code === \"00\") {\n            console.log(response);\n            alert(\"Blacklist Operation is successful\");\n            \n            setCustomerPhoneNumber(\"+2348030000000\");\n            setReasonForBlacklist(\"Fraud suspected\");\n            props.toggle();\n            setLoading(false);\n            return true;\n        } \n  \n        setLoading(false);\n        return false;\n    }\n    \n    return(\n        <>\n            <Modal isOpen={props.isOpen} toggle={props.toggle} className=\"admin-modal freeze-modal\">\n                <ModalHeader>Blacklist Device</ModalHeader>\n                <ModalBody>\n                    <div>\n                        <div className=\"text-center\">\n                            <img src={securityIcon} className=\"mb-3\" alt=\"security warning icon\" />\n                            <p>Are you sure you want to blacklist the {props.title} device connected to this account?</p>\n                        </div>\n                        <Form>\n                            <FormGroup>\n                                <InputBox\n                                    type=\"text\"\n                                    name=\"adminFullName\" \n                                    id=\"adminFullName\"\n                                    value={customerPhoneNumber}\n                                    onChange={(e) => setCustomerPhoneNumber(e.target.value)}\n                                />\n                                <Label for=\"adminFullName\">Admin Full Name</Label>\n                            </FormGroup>\n                            <FormGroup className=\"pb-3\">\n                                <InputBox\n                                    type=\"textarea\"\n                                    name=\"reasonForBlacklist\"\n                                    id=\"reasonForBlacklist\"\n                                    value={reasonForBlacklist}\n                                    rows=\"4\"\n                                    onChange={(e) => setReasonForBlacklist(e.target.value)}\n                                />\n                            </FormGroup>\n                        </Form>\n                        <hr/>\n                        <div className=\"d-flex justify-content-between\">\n                            <Button \n                                color=\"info\" \n                                className=\"btn-cancel\" \n                                onClick={props.toggle}\n                            >\n                                Cancel\n                            </Button>\n                            <Button \n                                color=\"danger\" \n                                className=\"btn-delete\" \n                                onClick={handleBlacklistDevice}\n                            >\n                                {loading ? <Loading /> : \"Yes, Blacklist\"}\n                            </Button>\n                        </div>\n                    </div>\n                </ModalBody>\n            </Modal>\n        </>\n    );\n}\n\nconst mapStateToProps = (state) => ({\n    fullName: state.user?.details?.admin?.fullname,\n    email: state.user?.details?.admin?.email,\n});\n\nexport default connect(mapStateToProps)(BlacklistDeviceDialog);"]},"metadata":{},"sourceType":"module"}