{"ast":null,"code":"import _regeneratorRuntime from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import BootstrapTable from\"react-bootstrap-table-next\";import paginationFactory from\"react-bootstrap-table2-paginator\";import ToolkitProvider from\"react-bootstrap-table2-toolkit\";import Header from\"./TableHeader\";import Loader from\"../../../components/Loader\";import Moment from'react-moment';var Table=function Table(_ref){var tableData=_ref.tableData,setShowCustomerDetails=_ref.setShowCustomerDetails,setDetails=_ref.setDetails;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isfiltered=_useState2[0],setIsFiltered=_useState2[1];var _useState3=useState(tableData),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var currentDate=new Date();var currentDateFormat=currentDate.setHours(0,0,0,0);useEffect(function(){setData(tableData);},[tableData]);var Filter=function Filter(data){setData(\"\");var check=data.type.length>0||data.startDate!==currentDateFormat||data.endDate!==currentDateFormat;setTimeout(function(){var filtered=tableData.filter(function(product){if(check){setIsFiltered(true);var productDate=new Date(product.dateCreated).setHours(0,0,0,0);return data.type.includes(product.cardtype.toLowerCase())||productDate>=data.startDate&&productDate<=data.endDate;}else{setIsFiltered(false);return product;}});setData(filtered);},500);};var Search=function Search(data){setData(tableData.filter(function(product){return product.phoneno.startsWith(data.trim());}));};var columns=[{dataField:\"id\",text:\"#\",headerStyle:{backgroundColor:\"#F8F9FA\",border:\"none\",fontSize:\"13px\",width:\"70px\",textAlign:\"center\"},formatter:function formatter(cell,row,rowIndex){return/*#__PURE__*/React.createElement(\"span\",{className:\"d-flex justify-content-center\"},rowIndex+1);}},{dataField:\"createdBy\",text:\"Created By\",headerStyle:{backgroundColor:\"#F8F9FA\",border:\"none\"}},{dataField:\"phoneno\",text:\"Phone Number\",headerStyle:{backgroundColor:\"#F8F9FA\",border:\"none\"}},{dataField:\"cardtype\",text:\"Card Type\",headerStyle:{backgroundColor:\"#F8F9FA\",border:\"none\"}},{dataField:\"requestedOn\",text:\"Requested On\",headerStyle:{backgroundColor:\"#F8F9FA\",border:\"none\"},formatter:function formatter(cell,row,rowIndex){return/*#__PURE__*/React.createElement(Moment,{format:\"YYYY/MM/DD\"},cell);}},{dataField:\"status\",text:\"Status\",headerStyle:{backgroundColor:\"#f8f9fa\",border:\"none\",fontSize:\"13px\",textAlign:\"center\"},style:function style(){return{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"};},formatter:function formatter(cell,row,rowIndex){if(cell.toLowerCase()===\"approved\"){return/*#__PURE__*/React.createElement(\"p\",{className:\"status success\"},cell);}else if(cell.toLowerCase()===\"pending\"){return/*#__PURE__*/React.createElement(\"p\",{className:\"status pending\"},cell);}else{return/*#__PURE__*/React.createElement(\"p\",{className:\"status registered\"},cell);}}}];var customTotal=function customTotal(from,to,size){return/*#__PURE__*/React.createElement(\"span\",{className:\"react-bootstrap-table-pagination-total\",style:{padding:\"1rem\"}},\"Showing \",from,\" to \",to,\" of \",size,\" Results\");};var rowStyle={border:\"none\",padding:\"21px\",cursor:\"pointer\"};var rowEvent={onClick:function(){var _onClick=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e,row,rowIndex){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setDetails(row);setShowCustomerDetails(function(prev){return!prev;});case 2:case\"end\":return _context.stop();}}},_callee);}));function onClick(_x,_x2,_x3){return _onClick.apply(this,arguments);}return onClick;}()};return/*#__PURE__*/React.createElement(ToolkitProvider,{responsive:true,keyField:\"id\",data:data,columns:columns,exportCSV:{fileName:\"all-card-request.csv\"},search:true},function(props){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"table\"},/*#__PURE__*/React.createElement(\"p\",{className:\"table_title\"},\"All Card Request\"),/*#__PURE__*/React.createElement(Header,{csvData:props.csvProps,search:props.searchProps,filter:Filter,filtered:isfiltered,dataLength:data.length,Search:Search}),!data?/*#__PURE__*/React.createElement(Loader,null):/*#__PURE__*/React.createElement(BootstrapTable,Object.assign({},props.baseProps,{bordered:false,rowEvents:rowEvent,rowStyle:rowStyle,pagination:paginationFactory({sizePerPage:9,hideSizePerPage:true,showTotal:true,paginationTotalRenderer:customTotal})}))));});};export default Table;","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/src/pages/dashboards/Card Management/Table.js"],"names":["React","useState","useEffect","BootstrapTable","paginationFactory","ToolkitProvider","Header","Loader","Moment","Table","tableData","setShowCustomerDetails","setDetails","isfiltered","setIsFiltered","data","setData","currentDate","Date","currentDateFormat","setHours","Filter","check","type","length","startDate","endDate","setTimeout","filtered","filter","product","productDate","dateCreated","includes","cardtype","toLowerCase","Search","phoneno","startsWith","trim","columns","dataField","text","headerStyle","backgroundColor","border","fontSize","width","textAlign","formatter","cell","row","rowIndex","style","display","justifyContent","alignItems","customTotal","from","to","size","padding","rowStyle","cursor","rowEvent","onClick","e","prev","fileName","props","csvProps","searchProps","baseProps","sizePerPage","hideSizePerPage","showTotal","paginationTotalRenderer"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport ToolkitProvider from \"react-bootstrap-table2-toolkit\";\nimport Header from \"./TableHeader\";\nimport Loader from \"../../../components/Loader\";\nimport Moment from 'react-moment';\n\nconst Table = ({tableData, setShowCustomerDetails, setDetails}) => {\n  const [isfiltered, setIsFiltered] = useState(false);\n  const [data, setData] = useState(tableData);\n  const currentDate = new Date();\n  const currentDateFormat = currentDate.setHours(0, 0, 0, 0);\n\n  useEffect(()=>{\n    setData(tableData)\n  },[tableData])\n\n  const Filter = (data) => {\n    setData(\"\");\n    const check =\n      data.type.length > 0 ||\n      data.startDate !== currentDateFormat ||\n      data.endDate !== currentDateFormat;\n\n    setTimeout(() => {\n      const filtered = tableData.filter((product) => {\n        if (check) {\n          setIsFiltered(true);\n          const productDate = new Date(product.dateCreated).setHours(\n            0,\n            0,\n            0,\n            0\n          );\n          return (\n            data.type.includes(product.cardtype.toLowerCase()) ||\n            (productDate >= data.startDate && productDate <= data.endDate)\n          );\n        } else {\n          setIsFiltered(false);\n          return product;\n        }\n      });\n      setData(filtered);\n    }, 500);\n  };\n  \n  const Search = (data) => {\n    setData(\n      tableData.filter((product) => product.phoneno.startsWith(data.trim()))\n    );\n  };\n\n  const columns = [\n    {\n      dataField: \"id\",\n      text: \"#\",\n      headerStyle: {\n        backgroundColor: \"#F8F9FA\",\n        border: \"none\",\n        fontSize: \"13px\",\n        width: \"70px\",\n        textAlign: \"center\",\n      },\n      formatter: (cell, row, rowIndex) => {\n        return (\n          <span className=\"d-flex justify-content-center\">{rowIndex + 1}</span>\n        );\n      },\n    },\n    {\n      dataField: \"createdBy\",\n      text: \"Created By\",\n      headerStyle: {\n        backgroundColor: \"#F8F9FA\",\n        border: \"none\",\n      },\n    },\n    {\n      dataField: \"phoneno\",\n      text: \"Phone Number\",\n      headerStyle: {\n        backgroundColor: \"#F8F9FA\",\n        border: \"none\",\n      },\n    },\n    {\n      dataField: \"cardtype\",\n      text: \"Card Type\",\n      headerStyle: {\n        backgroundColor: \"#F8F9FA\",\n        border: \"none\",\n      },\n    },\n    {\n      dataField: \"requestedOn\",\n      text: \"Requested On\",\n      headerStyle: {\n        backgroundColor: \"#F8F9FA\",\n        border: \"none\",\n      },\n      formatter: (cell, row, rowIndex) => {\n        return(\n          <Moment format=\"YYYY/MM/DD\">\n            {cell}\n          </Moment>\n        );\n      }\n    },\n    {\n      dataField: \"status\",\n      text: \"Status\",\n      headerStyle: {\n        backgroundColor: \"#f8f9fa\",\n        border: \"none\",\n        fontSize: \"13px\",\n        textAlign: \"center\",\n      },\n      style: () => {\n        return {\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n        };\n      },\n      formatter: (cell, row, rowIndex) => {\n        if (cell.toLowerCase() === \"approved\") {\n          return <p className=\"status success\">{cell}</p>;\n        }\n        else if (cell.toLowerCase() === \"pending\") {\n          return <p className=\"status pending\">{cell}</p>;\n        } else {\n          return <p className=\"status registered\">{cell}</p>;\n        }\n      },\n    },\n  ];\n\n  const customTotal = (from, to, size) => (\n    <span\n      className=\"react-bootstrap-table-pagination-total\"\n      style={{\n        padding: \"1rem\",\n      }}\n    >\n      Showing {from} to {to} of {size} Results\n    </span>\n  );\n  const rowStyle = {\n    border: \"none\",\n    padding: \"21px\",\n    cursor: \"pointer\",\n  };\n  const rowEvent = {\n    onClick: async (e, row, rowIndex) => {\n      setDetails(row);\n      setShowCustomerDetails((prev) => !prev);\n    },\n  };\n  return (\n    <ToolkitProvider\n      responsive\n      keyField=\"id\"\n      data={data}\n      columns={columns}\n      exportCSV={{\n        fileName: \"all-card-request.csv\",\n      }}\n      search\n    >\n      {(props) => (\n        <>\n          <div className=\"table\">\n            <p className=\"table_title\">All Card Request</p>\n            <Header\n              csvData={props.csvProps}\n              search={props.searchProps}\n              filter={Filter}\n              filtered={isfiltered}\n              dataLength={data.length}\n              Search={Search}\n            />\n            {!data ? (\n              <Loader />\n            ) : (\n              <BootstrapTable\n                {...props.baseProps}\n                bordered={false}\n                rowEvents={rowEvent}\n                rowStyle={rowStyle}\n                pagination={paginationFactory({\n                  sizePerPage: 9,\n                  hideSizePerPage: true,\n                  showTotal: true,\n                  paginationTotalRenderer: customTotal,\n                })}\n              />\n            )}\n          </div>\n        </>\n      )}\n    </ToolkitProvider>\n  );\n};\nexport default Table;\n"]},"metadata":{},"sourceType":"module"}