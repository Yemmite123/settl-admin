{"ast":null,"code":"import _regeneratorRuntime from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{ReactComponent as Close}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../BgImages/close.svg\";import{Button,Modal,ModalBody,ModalHeader,Form,FormGroup,Input,Label}from\"reactstrap\";import CustomersRequest from\"../../../requests/customer\";var options=[{label:\"International Passport\",value:\"International Passport\"},{label:\"National ID\",value:\"National ID\"},{label:\"Voter’s Card\",value:\"Voter’s Card\"},{label:\"Driver's License\",value:\"Driver's License\"}];export default function UpgradeAccountDialog(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),customerPassport=_useState2[0],setCustomerPassport=_useState2[1];var _useState3=useState(\"select\"),_useState4=_slicedToArray(_useState3,2),idType=_useState4[0],setIdType=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),idNumber=_useState6[0],setIdNumber=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var handleChange=function handleChange(e){var files=e.target.files;setCustomerPassport({customerPassport:files[0]},function(){console.log(customerPassport);});console.log(customerPassport);};var _CustomersRequest=CustomersRequest(),upgradeCustomer=_CustomersRequest.upgradeCustomer;var handleUpgradeCustomer=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var formData,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();setLoading(true);formData=new FormData();formData.append(\"PhoneNumber\",props.customerPhoneNumber);formData.append(\"CustomerPassport\",customerPassport);formData.append(\"IdType\",idType);formData.append(\"IdNumber\",idNumber);formData.append(\"IdDocument\",\"\");formData.append(\"IdExtension\",\"\");_context.next=11;return upgradeCustomer(formData);case 11:response=_context.sent;if(!(response.code===\"00\")){_context.next=21;break;}console.log(response);// setShowSuccess(true);\nalert(\"Upgrading Account Operation is successful\");// setfreeze(true);\nsetCustomerPassport([]);setIdNumber(\"\");props.toggle();setLoading(false);console.log(customerPassport);return _context.abrupt(\"return\",true);case 21:setLoading(false);console.log(customerPassport);// setShowFailure(true);\nreturn _context.abrupt(\"return\",false);case 24:case\"end\":return _context.stop();}}},_callee);}));return function handleUpgradeCustomer(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Modal,{isOpen:props.isOpen,toggle:props.toggle,className:\"admin-modal upgrade-modal\"},/*#__PURE__*/React.createElement(ModalHeader,null,\"Upgrade Customer  Account\",/*#__PURE__*/React.createElement(Close,{className:\"close-modal\",onClick:props.toggle})),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(\"p\",null,\"Please provide the customer passport and a verification document. Each file size shouldn\\u2019t exceed 50kb\")),/*#__PURE__*/React.createElement(Form,{className:\"px-3 mt-4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"customerPassport\"},\"Customer Passport\"),/*#__PURE__*/React.createElement(Input,{type:\"file\",name:\"customerPassport\",id:\"customerPassport\",onChange:handleChange})),/*#__PURE__*/React.createElement(FormGroup,{className:\"mt-4\"},/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"idType\",id:\"idType\",value:idType,onChange:function onChange(e){return setIdType(e.target.value);}},/*#__PURE__*/React.createElement(\"option\",{value:\"select\",defaultValue:true,disabled:true},\"Select Identification document\"),options.map(function(option){return/*#__PURE__*/React.createElement(\"option\",{value:option.value,key:option.label},option.label);}))),idType===\"International Passport\"?/*#__PURE__*/React.createElement(FormGroup,{className:\"mt-4\"},/*#__PURE__*/React.createElement(Label,{for:\"idDocument\"},\"International Passport\"),/*#__PURE__*/React.createElement(Input,{type:\"file\",id:\"idDocument\"})):\"\",idType===\"National ID\"?/*#__PURE__*/React.createElement(FormGroup,{className:\"mt-4\"},/*#__PURE__*/React.createElement(Label,{for:\"idDocument\"},\"National ID\"),/*#__PURE__*/React.createElement(Input,{type:\"file\",id:\"idDocument\"})):\"\",idType===\"Voter’s Card\"?/*#__PURE__*/React.createElement(FormGroup,{className:\"mt-4\"},/*#__PURE__*/React.createElement(Label,{for:\"Document\"},\"Voter\\u2019s Card\"),/*#__PURE__*/React.createElement(Input,{type:\"file\",id:\"idDocument\"})):\"\",idType===\"Driver's License\"?/*#__PURE__*/React.createElement(FormGroup,{className:\"mt-4\"},/*#__PURE__*/React.createElement(Label,{for:\"idDocument\"},\"Driver's License\"),/*#__PURE__*/React.createElement(Input,{type:\"file\",id:\"idDocument\"})):\"\",/*#__PURE__*/React.createElement(FormGroup,{className:\"mt-4\"},/*#__PURE__*/React.createElement(Label,{for:\"idNumber\"},\"ID Number\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"idNumber\",id:\"idNumber\",value:idNumber,onChange:function onChange(e){return setIdNumber(e.target.value);}}))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between\"},/*#__PURE__*/React.createElement(Button,{color:\"info\",className:\"btn-cancel\",onClick:props.toggle},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{color:\"primary\",className:\"btn-add\",onClick:handleUpgradeCustomer},\"Upgrade Account\")))));}","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/src/pages/customers/settl-customers/UpgradeAccountDialog.js"],"names":["React","useState","Button","Modal","ModalBody","ModalHeader","Form","FormGroup","Input","Label","CustomersRequest","options","label","value","UpgradeAccountDialog","props","customerPassport","setCustomerPassport","idType","setIdType","idNumber","setIdNumber","loading","setLoading","handleChange","e","files","target","console","log","upgradeCustomer","handleUpgradeCustomer","preventDefault","formData","FormData","append","customerPhoneNumber","response","code","alert","toggle","isOpen","map","option"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { ReactComponent as Close } from \"../../../BgImages/close.svg\";\nimport { \n    Button,\n    Modal, \n    ModalBody,\n    ModalHeader,\n    Form,\n    FormGroup,\n    Input,\n    Label\n} from \"reactstrap\";\nimport CustomersRequest from \"../../../requests/customer\";\n\nconst options = [\n    {\n        label: \"International Passport\",\n        value: \"International Passport\"\n    },\n    {\n        label: \"National ID\",\n        value: \"National ID\"\n    },\n    {\n        label: \"Voter’s Card\",\n        value: \"Voter’s Card\"\n    },\n    {\n        label: \"Driver's License\",\n        value: \"Driver's License\"\n    }\n] \n\nexport default function UpgradeAccountDialog(props) {\n    const [customerPassport, setCustomerPassport] = useState();\n    const [idType, setIdType] = useState(\"select\");\n    const [idNumber, setIdNumber] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n\n    const handleChange = (e) => {\n        let files = e.target.files;\n        setCustomerPassport({ customerPassport: files[0] }, () => { console.log(customerPassport) });\n        console.log(customerPassport);\n    }\n\n    const { upgradeCustomer } = CustomersRequest();\n\n    const handleUpgradeCustomer = async (e) => {\n        e.preventDefault();\n        setLoading(true);\n\n        var formData = new FormData();\n        formData.append(\"PhoneNumber\", props.customerPhoneNumber);\n        formData.append(\"CustomerPassport\", customerPassport);\n        formData.append(\"IdType\", idType);\n        formData.append(\"IdNumber\", idNumber);\n        formData.append(\"IdDocument\", \"\");\n        formData.append(\"IdExtension\", \"\");\n    \n        const response = await upgradeCustomer(formData);\n\n        if(response.code === \"00\") {\n            console.log(response);\n            // setShowSuccess(true);\n            alert(\"Upgrading Account Operation is successful\");\n            // setfreeze(true);\n            setCustomerPassport([]);\n            setIdNumber(\"\");\n            props.toggle();\n            setLoading(false);\n            console.log(customerPassport);\n            return true;\n        } \n  \n        setLoading(false);\n        console.log(customerPassport);\n        // setShowFailure(true);\n        return false;\n    }\n\n    return(\n        <>\n            <Modal isOpen={props.isOpen} toggle={props.toggle} className=\"admin-modal upgrade-modal\">\n                <ModalHeader>\n                    Upgrade Customer  Account\n                    <Close\n                        className=\"close-modal\"\n                        onClick={props.toggle}\n                    />\n                </ModalHeader>\n                <ModalBody>\n                    <div className=\"text-center\">\n                        <p>Please provide the customer passport and a verification document. Each file size shouldn’t exceed 50kb</p>\n                    </div>\n                    <Form className=\"px-3 mt-4\">\n                        <FormGroup>\n                            <Label for=\"customerPassport\">Customer Passport</Label>\n                            <Input \n                                type=\"file\" \n                                name=\"customerPassport\"\n                                id=\"customerPassport\" \n                                onChange={(handleChange)}\n                            />\n                        </FormGroup>\n                        <FormGroup className=\"mt-4\">\n                            <Input \n                                type=\"select\" \n                                name=\"idType\" \n                                id=\"idType\"\n                                value={ idType }\n                                onChange={(e) => setIdType(e.target.value)}\n                            >\n                                <option value=\"select\" defaultValue disabled>Select Identification document</option>\n                                {options.map((option) => (\n                                    <option value={option.value} key={option.label}>{option.label}</option>\n                                ))}\n                            </Input>\n                        </FormGroup>\n                        {\n                            idType === \"International Passport\" ? (\n                            <FormGroup className=\"mt-4\">\n                                <Label for=\"idDocument\">International Passport</Label>\n                                <Input type=\"file\" id=\"idDocument\" />\n                            </FormGroup>) : (\"\")\n                        }\n                        {\n                            idType === \"National ID\" ? (\n                                <FormGroup className=\"mt-4\">\n                                    <Label for=\"idDocument\">National ID</Label>\n                                    <Input type=\"file\" id=\"idDocument\" />\n                                </FormGroup>\n                            ) : (\"\")\n                        }\n                        {\n                            idType === \"Voter’s Card\" ? (\n                                <FormGroup className=\"mt-4\">\n                                    <Label for=\"Document\">Voter’s Card</Label>\n                                    <Input type=\"file\" id=\"idDocument\" />\n                                </FormGroup>\n                            ) : (\"\")\n                        }\n                        {\n                            idType === \"Driver's License\" ? (\n                                <FormGroup className=\"mt-4\">\n                                    <Label for=\"idDocument\">Driver's License</Label>\n                                    <Input type=\"file\" id=\"idDocument\" />\n                                </FormGroup>\n                            ) : (\"\")\n                        }\n                        <FormGroup className=\"mt-4\">\n                            <Label for=\"idNumber\">ID Number</Label>\n                            <Input \n                                type=\"text\"\n                                name=\"idNumber\"\n                                id=\"idNumber\"\n                                value={idNumber}\n                                onChange={(e) => setIdNumber(e.target.value)} \n                            />\n                        </FormGroup>\n                    </Form>\n                    <br/><br/><br/><br/>\n                    <hr/>\n                    <div className=\"d-flex justify-content-between\">\n                        <Button color=\"info\" className=\"btn-cancel\" onClick={props.toggle}>Cancel</Button>\n                        <Button \n                            color=\"primary\" \n                            className=\"btn-add\" \n                            onClick={handleUpgradeCustomer}\n                        >\n                            Upgrade Account\n                        </Button>\n                    </div>\n                </ModalBody>\n            </Modal>\n        </>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}