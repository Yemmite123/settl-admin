{"ast":null,"code":"import _regeneratorRuntime from \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settladminfront-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settladminfront-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settladminfront-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settladminfront-end/src/pages/dashboards/Issue Resolution/Analytics/index.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport Header from \"../../../../components/Header\";\nimport logo from \"../../../../assets/img/icons/issue logo.svg\";\nimport Statistics from \"../Statistic\";\nimport Chart from \"./Chart\";\nimport PerformanceChart from \"./PerformaceChart\";\nimport Loader from \"../../../../components/Loader\";\nimport Request from \"../request\";\n\nvar Analytics = function Analytics() {\n  var _Request = Request(),\n      performance = _Request.performance,\n      issueAnalytics = _Request.issueAnalytics;\n\n  var text = [\"Today   \", \"Last 7 Days\", \"Last 30 days\", \"Last 90 Days\"];\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      stats = _useState2[0],\n      setStats = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      charts = _useState4[0],\n      setChartsData = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      perfData = _useState6[0],\n      setPerfData = _useState6[1];\n\n  var _useState7 = useState(30),\n      _useState8 = _slicedToArray(_useState7, 2),\n      days = _useState8[0],\n      setDays = _useState8[1];\n\n  var _useState9 = useState(text[2]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      filterText = _useState10[0],\n      setFilterText = _useState10[1];\n\n  var fetchData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response, _response$data, totalIssueReport, percentTotalReport, totalIssueResolved, percentIssueResolved, totalPendingIssues, percentPendingIssues, totalInProgressIssues, percentInProgressIssues, billpaymentData, p2PData, savings, transfers;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return issueAnalytics(days);\n\n            case 2:\n              response = _context.sent;\n\n              if (response.code === \"00\") {\n                _response$data = response.data, totalIssueReport = _response$data.totalIssueReport, percentTotalReport = _response$data.percentTotalReport, totalIssueResolved = _response$data.totalIssueResolved, percentIssueResolved = _response$data.percentIssueResolved, totalPendingIssues = _response$data.totalPendingIssues, percentPendingIssues = _response$data.percentPendingIssues, totalInProgressIssues = _response$data.totalInProgressIssues, percentInProgressIssues = _response$data.percentInProgressIssues, billpaymentData = _response$data.billpaymentData, p2PData = _response$data.p2PData, savings = _response$data.savings, transfers = _response$data.transfers;\n                setStats({\n                  totalIssueReport: totalIssueReport,\n                  percentTotalReport: percentTotalReport,\n                  totalIssueResolved: totalIssueResolved,\n                  percentIssueResolved: percentIssueResolved,\n                  totalPendingIssues: totalPendingIssues,\n                  percentPendingIssues: percentPendingIssues,\n                  totalInProgressIssues: totalInProgressIssues,\n                  percentInProgressIssues: percentInProgressIssues\n                });\n                setChartsData({\n                  billpaymentData: billpaymentData,\n                  p2PData: p2PData,\n                  savings: savings,\n                  transfers: transfers\n                });\n              }\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function fetchData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var getPerformanceData = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return performance(days);\n\n            case 2:\n              response = _context2.sent;\n\n              if (response.code === \"00\") {\n                setPerfData(response.data);\n              }\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function getPerformanceData() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var getBothData = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return fetchData();\n\n            case 2:\n              _context3.next = 4;\n              return getPerformanceData();\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function getBothData() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var updateDays = function updateDays(day, index) {\n    if (filterText !== text[index]) {\n      setPerfData(null);\n      setChartsData(null);\n      setStats(null);\n      setDays(day);\n      setFilterText(text[index]);\n    }\n  };\n\n  useEffect(function () {\n    getBothData();\n  }, [days]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    logo: logo,\n    name: \"Issue Analytics\",\n    calendar: true,\n    updateDays: updateDays,\n    filterText: filterText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }), !stats && !charts ? /*#__PURE__*/React.createElement(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Statistics, {\n    data: stats,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Chart, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(PerformanceChart, {\n    data: perfData,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default Analytics;","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settladminfront-end/src/pages/dashboards/Issue Resolution/Analytics/index.js"],"names":["React","useState","useEffect","Header","Statistics","Chart","PerformanceChart","Loader","Request","Analytics","performance","issueAnalytics","text","stats","setStats","charts","setChartsData","perfData","setPerfData","days","setDays","filterText","setFilterText","fetchData","response","code","data","totalIssueReport","percentTotalReport","totalIssueResolved","percentIssueResolved","totalPendingIssues","percentPendingIssues","totalInProgressIssues","percentInProgressIssues","billpaymentData","p2PData","savings","transfers","getPerformanceData","getBothData","updateDays","day","index","logo"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,+BAAnB;;AAEA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,gBAAP,MAA6B,mBAA7B;AACA,OAAOC,MAAP,MAAmB,+BAAnB;AACA,OAAOC,OAAP,MAAoB,YAApB;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtB,iBAAwCD,OAAO,EAA/C;AAAA,MAAQE,WAAR,YAAQA,WAAR;AAAA,MAAqBC,cAArB,YAAqBA,cAArB;;AACA,MAAMC,IAAI,GAAG,CAAC,UAAD,EAAa,aAAb,EAA4B,cAA5B,EAA4C,cAA5C,CAAb;;AAEA,kBAA0BX,QAAQ,CAAC,IAAD,CAAlC;AAAA;AAAA,MAAOY,KAAP;AAAA,MAAcC,QAAd;;AACA,mBAAgCb,QAAQ,CAAC,IAAD,CAAxC;AAAA;AAAA,MAAOc,MAAP;AAAA,MAAeC,aAAf;;AACA,mBAAgCf,QAAQ,CAAC,IAAD,CAAxC;AAAA;AAAA,MAAOgB,QAAP;AAAA,MAAiBC,WAAjB;;AAEA,mBAAwBjB,QAAQ,CAAC,EAAD,CAAhC;AAAA;AAAA,MAAOkB,IAAP;AAAA,MAAaC,OAAb;;AACA,mBAAoCnB,QAAQ,CAACW,IAAI,CAAC,CAAD,CAAL,CAA5C;AAAA;AAAA,MAAOS,UAAP;AAAA,MAAmBC,aAAnB;;AAEA,MAAMC,SAAS;AAAA,wEAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACOZ,cAAc,CAACQ,IAAD,CADrB;;AAAA;AACVK,cAAAA,QADU;;AAEhB,kBAAIA,QAAQ,CAACC,IAAT,KAAkB,IAAtB,EAA4B;AAAA,iCActBD,QAAQ,CAACE,IAda,EAExBC,gBAFwB,kBAExBA,gBAFwB,EAGxBC,kBAHwB,kBAGxBA,kBAHwB,EAIxBC,kBAJwB,kBAIxBA,kBAJwB,EAKxBC,oBALwB,kBAKxBA,oBALwB,EAMxBC,kBANwB,kBAMxBA,kBANwB,EAOxBC,oBAPwB,kBAOxBA,oBAPwB,EAQxBC,qBARwB,kBAQxBA,qBARwB,EASxBC,uBATwB,kBASxBA,uBATwB,EAUxBC,eAVwB,kBAUxBA,eAVwB,EAWxBC,OAXwB,kBAWxBA,OAXwB,EAYxBC,OAZwB,kBAYxBA,OAZwB,EAaxBC,SAbwB,kBAaxBA,SAbwB;AAe1BxB,gBAAAA,QAAQ,CAAC;AACPa,kBAAAA,gBAAgB,EAAhBA,gBADO;AAEPC,kBAAAA,kBAAkB,EAAlBA,kBAFO;AAGPC,kBAAAA,kBAAkB,EAAlBA,kBAHO;AAIPC,kBAAAA,oBAAoB,EAApBA,oBAJO;AAKPC,kBAAAA,kBAAkB,EAAlBA,kBALO;AAMPC,kBAAAA,oBAAoB,EAApBA,oBANO;AAOPC,kBAAAA,qBAAqB,EAArBA,qBAPO;AAQPC,kBAAAA,uBAAuB,EAAvBA;AARO,iBAAD,CAAR;AAUAlB,gBAAAA,aAAa,CAAC;AAAEmB,kBAAAA,eAAe,EAAfA,eAAF;AAAmBC,kBAAAA,OAAO,EAAPA,OAAnB;AAA4BC,kBAAAA,OAAO,EAAPA,OAA5B;AAAqCC,kBAAAA,SAAS,EAATA;AAArC,iBAAD,CAAb;AACD;;AA5Be;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAATf,SAAS;AAAA;AAAA;AAAA,KAAf;;AA8BA,MAAMgB,kBAAkB;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACF7B,WAAW,CAACS,IAAD,CADT;;AAAA;AACnBK,cAAAA,QADmB;;AAEzB,kBAAIA,QAAQ,CAACC,IAAT,KAAkB,IAAtB,EAA4B;AAC1BP,gBAAAA,WAAW,CAACM,QAAQ,CAACE,IAAV,CAAX;AACD;;AAJwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAlBa,kBAAkB;AAAA;AAAA;AAAA,KAAxB;;AAMA,MAAMC,WAAW;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACZjB,SAAS,EADG;;AAAA;AAAA;AAAA,qBAEZgB,kBAAkB,EAFN;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAXC,WAAW;AAAA;AAAA;AAAA,KAAjB;;AAKA,MAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,GAAD,EAAMC,KAAN,EAAgB;AACjC,QAAItB,UAAU,KAAKT,IAAI,CAAC+B,KAAD,CAAvB,EAAgC;AAC9BzB,MAAAA,WAAW,CAAC,IAAD,CAAX;AACAF,MAAAA,aAAa,CAAC,IAAD,CAAb;AACAF,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACAM,MAAAA,OAAO,CAACsB,GAAD,CAAP;AACApB,MAAAA,aAAa,CAACV,IAAI,CAAC+B,KAAD,CAAL,CAAb;AACD;AACF,GARD;;AASAzC,EAAAA,SAAS,CAAC,YAAM;AACdsC,IAAAA,WAAW;AACZ,GAFQ,EAEN,CAACrB,IAAD,CAFM,CAAT;AAGA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,IAAI,EAAEyB,IADR;AAEE,IAAA,IAAI,EAAC,iBAFP;AAGE,IAAA,QAAQ,MAHV;AAIE,IAAA,UAAU,EAAEH,UAJd;AAKE,IAAA,UAAU,EAAEpB,UALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAQG,CAACR,KAAD,IAAU,CAACE,MAAX,gBACC,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,gBAGC,uDACE,oBAAC,UAAD;AAAY,IAAA,IAAI,EAAEF,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAXJ,eAiBE,oBAAC,gBAAD;AAAkB,IAAA,IAAI,EAAEI,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjBF,CADF;AAqBD,CArFD;;AAsFA,eAAeR,SAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Header from \"../../../../components/Header\";\nimport logo from \"../../../../assets/img/icons/issue logo.svg\";\nimport Statistics from \"../Statistic\";\nimport Chart from \"./Chart\";\nimport PerformanceChart from \"./PerformaceChart\";\nimport Loader from \"../../../../components/Loader\";\nimport Request from \"../request\";\n\nconst Analytics = () => {\n  const { performance, issueAnalytics } = Request();\n  const text = [\"Today   \", \"Last 7 Days\", \"Last 30 days\", \"Last 90 Days\"];\n\n  const [stats, setStats] = useState(null);\n  const [charts, setChartsData] = useState(null);\n  const [perfData, setPerfData] = useState(null);\n\n  const [days, setDays] = useState(30);\n  const [filterText, setFilterText] = useState(text[2]);\n\n  const fetchData = async () => {\n    const response = await issueAnalytics(days);\n    if (response.code === \"00\") {\n      const {\n        totalIssueReport,\n        percentTotalReport,\n        totalIssueResolved,\n        percentIssueResolved,\n        totalPendingIssues,\n        percentPendingIssues,\n        totalInProgressIssues,\n        percentInProgressIssues,\n        billpaymentData,\n        p2PData,\n        savings,\n        transfers,\n      } = response.data;\n      setStats({\n        totalIssueReport,\n        percentTotalReport,\n        totalIssueResolved,\n        percentIssueResolved,\n        totalPendingIssues,\n        percentPendingIssues,\n        totalInProgressIssues,\n        percentInProgressIssues,\n      });\n      setChartsData({ billpaymentData, p2PData, savings, transfers });\n    }\n  };\n  const getPerformanceData = async () => {\n    const response = await performance(days);\n    if (response.code === \"00\") {\n      setPerfData(response.data);\n    }\n  };\n  const getBothData = async () => {\n    await fetchData();\n    await getPerformanceData();\n  };\n\n  const updateDays = (day, index) => {\n    if (filterText !== text[index]) {\n      setPerfData(null);\n      setChartsData(null);\n      setStats(null);\n      setDays(day);\n      setFilterText(text[index]);\n    }\n  };\n  useEffect(() => {\n    getBothData();\n  }, [days]);\n  return (\n    <div>\n      <Header\n        logo={logo}\n        name=\"Issue Analytics\"\n        calendar\n        updateDays={updateDays}\n        filterText={filterText}\n      />\n      {!stats && !charts ? (\n        <Loader />\n      ) : (\n        <>\n          <Statistics data={stats} />\n          <Chart />\n        </>\n      )}\n\n      <PerformanceChart data={perfData} />\n    </div>\n  );\n};\nexport default Analytics;\n"]},"metadata":{},"sourceType":"module"}