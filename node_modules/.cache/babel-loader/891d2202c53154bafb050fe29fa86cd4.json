{"ast":null,"code":"import _regeneratorRuntime from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{TabContent,TabPane}from\"reactstrap\";import TabView from\"../TabView\";import TransactionDetail from\"../TransactionDetail\";import data from\"./data\";import Request from\"../request\";import Loader from\"../../../../components/Loader\";var CustomerReport=function CustomerReport(){var _Request=Request(),getData=_Request.getData;var text=[\"Today   \",\"Last 7 Days\",\"Last 30 days\",\"Last 90 Days\"];var _useState=useState(0),_useState2=_slicedToArray(_useState,2),activeTab=_useState2[0],setActiveTab=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showDetails=_useState4[0],setShowDetails=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),index=_useState6[0],setIndex=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),analysis=_useState8[0],setAnalysis=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),transRef=_useState10[0],setTransRef=_useState10[1];var _useState11=useState(30),_useState12=_slicedToArray(_useState11,2),days=_useState12[0],setDays=_useState12[1];var _useState13=useState(text[2]),_useState14=_slicedToArray(_useState13,2),filterText=_useState14[0],setFilterText=_useState14[1];var tabs=[\"All\",\"Peer-to-Peer\",\"Cashout\",\"Savings\",\"Bill Payment\",\"Wallet top-up\"];var title=[\"All\",\"P2P\",\"Cashout\",\"Savings\",\"Bills\",\"Wallet top-up\"];var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,_response$data,allTransactionRecord,p2PTransactionRecord,cashOutTransactionRecord,savingsTransactionRecord,billPaymentTransactionRecord,walletTopUpTransactionRecord;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getData(1,days);case 2:response=_context.sent;if(response.code===\"00\"){console.log(response.data);_response$data=response.data,allTransactionRecord=_response$data.allTransactionRecord,p2PTransactionRecord=_response$data.p2PTransactionRecord,cashOutTransactionRecord=_response$data.cashOutTransactionRecord,savingsTransactionRecord=_response$data.savingsTransactionRecord,billPaymentTransactionRecord=_response$data.billPaymentTransactionRecord,walletTopUpTransactionRecord=_response$data.walletTopUpTransactionRecord;setAnalysis([allTransactionRecord,p2PTransactionRecord,cashOutTransactionRecord,savingsTransactionRecord,billPaymentTransactionRecord,walletTopUpTransactionRecord]);}case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();var refresh=function refresh(){setAnalysis(null);fetchData();};var updateDays=function updateDays(day,index){if(filterText!==text[index]){setAnalysis(null);setDays(day);setFilterText(text[index]);}};useEffect(function(){fetchData();},[days]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"bg_absolute\"},/*#__PURE__*/React.createElement(\"div\",{className:\"nav\"},tabs.map(function(tab,i){return/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){setActiveTab(i);setShowDetails(false);},className:\"\".concat(activeTab===i?\"active_nav\":\"\")},/*#__PURE__*/React.createElement(\"p\",null,tab));}))),!analysis?/*#__PURE__*/React.createElement(Loader,null):/*#__PURE__*/React.createElement(React.Fragment,null,!showDetails?/*#__PURE__*/React.createElement(TabContent,{activeTab:activeTab},tabs.map(function(tab,i){return/*#__PURE__*/React.createElement(TabPane,{tabId:i,key:i},/*#__PURE__*/React.createElement(TabView,{title:title[i],clicked:setShowDetails,index:i,setIndex:setIndex,number:\"Customer\",analysis:analysis[i],setTransRef:setTransRef,updateDays:updateDays,filterText:filterText,refresh:refresh}));})):/*#__PURE__*/React.createElement(TransactionDetail,{setShowDetails:setShowDetails,title:tabs[index],data:data,type:\"Customer\",transRef:transRef}))));};export default CustomerReport;","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/src/pages/dashboards/Reports/Customers/index.js"],"names":["React","useState","useEffect","TabContent","TabPane","TabView","TransactionDetail","data","Request","Loader","CustomerReport","getData","text","activeTab","setActiveTab","showDetails","setShowDetails","index","setIndex","analysis","setAnalysis","transRef","setTransRef","days","setDays","filterText","setFilterText","tabs","title","fetchData","response","code","console","log","allTransactionRecord","p2PTransactionRecord","cashOutTransactionRecord","savingsTransactionRecord","billPaymentTransactionRecord","walletTopUpTransactionRecord","refresh","updateDays","day","map","tab","i"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { TabContent, TabPane } from \"reactstrap\";\nimport TabView from \"../TabView\";\nimport TransactionDetail from \"../TransactionDetail\";\nimport data from \"./data\";\nimport Request from \"../request\";\nimport Loader from \"../../../../components/Loader\";\n\nconst CustomerReport = () => {\n  const { getData } = Request();\n  const text = [\"Today   \", \"Last 7 Days\", \"Last 30 days\", \"Last 90 Days\"];\n\n  const [activeTab, setActiveTab] = useState(0);\n  const [showDetails, setShowDetails] = useState(false);\n  const [index, setIndex] = useState(null);\n  const [analysis, setAnalysis] = useState(null);\n  const [transRef, setTransRef] = useState(\"\");\n\n  const [days, setDays] = useState(30);\n  const [filterText, setFilterText] = useState(text[2]);\n\n  const tabs = [\n    \"All\",\n    \"Peer-to-Peer\",\n    \"Cashout\",\n    \"Savings\",\n    \"Bill Payment\",\n    \"Wallet top-up\",\n  ];\n  const title = [\"All\", \"P2P\", \"Cashout\", \"Savings\", \"Bills\", \"Wallet top-up\"];\n\n  const fetchData = async () => {\n    const response = await getData(1, days);\n    if (response.code === \"00\") {\n      console.log(response.data);\n      const {\n        allTransactionRecord,\n        p2PTransactionRecord,\n        cashOutTransactionRecord,\n        savingsTransactionRecord,\n        billPaymentTransactionRecord,\n        walletTopUpTransactionRecord,\n      } = response.data;\n      setAnalysis([\n        allTransactionRecord,\n        p2PTransactionRecord,\n        cashOutTransactionRecord,\n        savingsTransactionRecord,\n        billPaymentTransactionRecord,\n        walletTopUpTransactionRecord,\n      ]);\n    }\n  };\n\n  const refresh = () => {\n    setAnalysis(null);\n    fetchData();\n  };\n\n  const updateDays = (day, index) => {\n    if (filterText !== text[index]) {\n      setAnalysis(null);\n      setDays(day);\n      setFilterText(text[index]);\n    }\n  };\n  useEffect(() => {\n    fetchData();\n  }, [days]);\n  return (\n    <>\n      <>\n        <div className=\"bg_absolute\">\n          <div className=\"nav\">\n            {tabs.map((tab, i) => (\n              <div\n                onClick={() => {\n                  setActiveTab(i);\n                  setShowDetails(false);\n                }}\n                className={`${activeTab === i ? \"active_nav\" : \"\"}`}\n              >\n                <p>{tab}</p>\n              </div>\n            ))}\n          </div>\n        </div>\n        {!analysis ? (\n          <Loader />\n        ) : (\n          <>\n            {!showDetails ? (\n              <TabContent activeTab={activeTab}>\n                {tabs.map((tab, i) => (\n                  <TabPane tabId={i} key={i}>\n                    <TabView\n                      title={title[i]}\n                      clicked={setShowDetails}\n                      index={i}\n                      setIndex={setIndex}\n                      number=\"Customer\"\n                      analysis={analysis[i]}\n                      setTransRef={setTransRef}\n                      updateDays={updateDays}\n                      filterText={filterText}\n                      refresh={refresh}\n                    />\n                  </TabPane>\n                ))}\n              </TabContent>\n            ) : (\n              <TransactionDetail\n                setShowDetails={setShowDetails}\n                title={tabs[index]}\n                data={data}\n                type=\"Customer\"\n                transRef={transRef}\n              />\n            )}\n          </>\n        )}\n      </>\n    </>\n  );\n};\nexport default CustomerReport;\n"]},"metadata":{},"sourceType":"module"}