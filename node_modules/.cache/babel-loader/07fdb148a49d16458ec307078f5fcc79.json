{"ast":null,"code":"import _regeneratorRuntime from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect,createContext}from\"react\";import vendorsRequest from\"../requests/vendor-management\";var APIContext=createContext();export function APIContextProvider(_ref){var children=_ref.children;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),vendors=_useState2[0],setVendors=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),banks=_useState4[0],setBanks=_useState4[1];var _vendorsRequest=vendorsRequest(),getAllBanks=_vendorsRequest.getAllBanks,getVendors=_vendorsRequest.getVendors;var getVendorList=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getVendors();case 2:response=_context.sent;if(response.code==\"00\"){console.log(response.data);setVendors(response.data);}case 4:case\"end\":return _context.stop();}}},_callee);}));return function getVendorList(){return _ref2.apply(this,arguments);};}();var getBankList=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return getAllBanks();case 2:response=_context2.sent;if(response.code==\"00\"){console.log(response.data);setBanks(response.data);}case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function getBankList(){return _ref3.apply(this,arguments);};}();var refreshVendor=function refreshVendor(){setVendors([]);getVendorList();};var refreshBankList=function refreshBankList(){setBanks([]);getBankList();};useEffect(function(){getVendorList();getBankList();},[]);return/*#__PURE__*/ (// Add required values to the value prop within an object\nReact.createElement(APIContext.Provider,{value:{vendors:vendors,banks:banks,refreshVendor:refreshVendor,refreshBankList:refreshBankList}},children));}// Create a hook to use the APIContext, this is a Kent C. Dodds pattern\nexport function useAPI(){var context=useContext(APIContext);if(context===undefined){throw new Error(\"Context must be used within a Provider\");}return context;}","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/src/contexts/VendorContext.js"],"names":["React","useContext","useState","useEffect","createContext","vendorsRequest","APIContext","APIContextProvider","children","vendors","setVendors","banks","setBanks","getAllBanks","getVendors","getVendorList","response","code","console","log","data","getBankList","refreshVendor","refreshBankList","useAPI","context","undefined","Error"],"mappings":"6mBAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,CAAsCC,SAAtC,CAAiDC,aAAjD,KAAsE,OAAtE,CACA,MAAOC,CAAAA,cAAP,KAA2B,+BAA3B,CAEA,GAAMC,CAAAA,UAAU,CAAGF,aAAa,EAAhC,CAEA,MAAO,SAASG,CAAAA,kBAAT,MAA0C,IAAZC,CAAAA,QAAY,MAAZA,QAAY,CAC/C,cAA8BN,QAAQ,CAAC,EAAD,CAAtC,wCAAOO,OAAP,eAAgBC,UAAhB,eACA,eAA0BR,QAAQ,CAAC,EAAD,CAAlC,yCAAOS,KAAP,eAAcC,QAAd,eAEA,oBAAoCP,cAAc,EAAlD,CAAQQ,WAAR,iBAAQA,WAAR,CAAqBC,UAArB,iBAAqBA,UAArB,CAEA,GAAMC,CAAAA,aAAa,2FAAG,sKACGD,CAAAA,UAAU,EADb,QACdE,QADc,eAEpB,GAAIA,QAAQ,CAACC,IAAT,EAAiB,IAArB,CAA2B,CACzBC,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACI,IAArB,EACAV,UAAU,CAACM,QAAQ,CAACI,IAAV,CAAV,CACD,CALmB,sDAAH,kBAAbL,CAAAA,aAAa,2CAAnB,CAQA,GAAMM,CAAAA,WAAW,2FAAG,4KACKR,CAAAA,WAAW,EADhB,QACZG,QADY,gBAElB,GAAIA,QAAQ,CAACC,IAAT,EAAiB,IAArB,CAA2B,CACzBC,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACI,IAArB,EACAR,QAAQ,CAACI,QAAQ,CAACI,IAAV,CAAR,CACD,CALiB,wDAAH,kBAAXC,CAAAA,WAAW,2CAAjB,CAOA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1BZ,UAAU,CAAC,EAAD,CAAV,CACAK,aAAa,GACd,CAHD,CAIA,GAAMQ,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5BX,QAAQ,CAAC,EAAD,CAAR,CACAS,WAAW,GACZ,CAHD,CAIAlB,SAAS,CAAC,UAAM,CACdY,aAAa,GACbM,WAAW,GACZ,CAHQ,CAGN,EAHM,CAAT,CAKA,oBACE;AACA,oBAAC,UAAD,CAAY,QAAZ,EACE,KAAK,CAAE,CAAEZ,OAAO,CAAPA,OAAF,CAAWE,KAAK,CAALA,KAAX,CAAkBW,aAAa,CAAbA,aAAlB,CAAiCC,eAAe,CAAfA,eAAjC,CADT,EAGGf,QAHH,CAFF,EAQD,CAED;AACA,MAAO,SAASgB,CAAAA,MAAT,EAAkB,CACvB,GAAMC,CAAAA,OAAO,CAAGxB,UAAU,CAACK,UAAD,CAA1B,CACA,GAAImB,OAAO,GAAKC,SAAhB,CAA2B,CACzB,KAAM,IAAIC,CAAAA,KAAJ,CAAU,wCAAV,CAAN,CACD,CACD,MAAOF,CAAAA,OAAP,CACD","sourcesContent":["import React, { useContext, useState, useEffect, createContext } from \"react\";\nimport vendorsRequest from \"../requests/vendor-management\";\n\nconst APIContext = createContext();\n\nexport function APIContextProvider({ children }) {\n  const [vendors, setVendors] = useState([]);\n  const [banks, setBanks] = useState([]);\n\n  const { getAllBanks, getVendors } = vendorsRequest();\n\n  const getVendorList = async () => {\n    const response = await getVendors();\n    if (response.code == \"00\") {\n      console.log(response.data);\n      setVendors(response.data);\n    }\n  };\n\n  const getBankList = async () => {\n    const response = await getAllBanks();\n    if (response.code == \"00\") {\n      console.log(response.data);\n      setBanks(response.data);\n    }\n  };\n  const refreshVendor = () => {\n    setVendors([]);\n    getVendorList();\n  };\n  const refreshBankList = () => {\n    setBanks([]);\n    getBankList();\n  };\n  useEffect(() => {\n    getVendorList();\n    getBankList();\n  }, []);\n\n  return (\n    // Add required values to the value prop within an object\n    <APIContext.Provider\n      value={{ vendors, banks, refreshVendor, refreshBankList }}\n    >\n      {children}\n    </APIContext.Provider>\n  );\n}\n\n// Create a hook to use the APIContext, this is a Kent C. Dodds pattern\nexport function useAPI() {\n  const context = useContext(APIContext);\n  if (context === undefined) {\n    throw new Error(\"Context must be used within a Provider\");\n  }\n  return context;\n}\n"]},"metadata":{},"sourceType":"module"}