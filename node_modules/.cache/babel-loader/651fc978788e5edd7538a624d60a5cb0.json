{"ast":null,"code":"import _slicedToArray from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import BootstrapTable from\"react-bootstrap-table-next\";import paginationFactory from\"react-bootstrap-table2-paginator\";import ToolkitProvider from\"react-bootstrap-table2-toolkit\";import{CustomInput}from\"reactstrap\";import Header from\"./TabHeader\";import Modal from\"./VendorModal\";import{useAPI}from\"../../../contexts/VendorContext\";import Loader from\"../../../components/Loader\";var VendorTab=function VendorTab(){var _useAPI=useAPI(),vendors=_useAPI.vendors,refreshVendor=_useAPI.refreshVendor;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useState3=useState(vendors),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),index=_useState6[0],setIndex=_useState6[1];useEffect(function(){setData(vendors);},[vendors]);var filter=function filter(e){var value=e.target.value;setData(vendors.filter(function(text){return text.vendorName.toLocaleLowerCase().startsWith(value);}));};var columns=[{dataField:\"id\",text:\"SN\",headerStyle:{backgroundColor:\"#F8F9FA\",border:\"none\",width:\"70px\",textAlign:\"center\"},formatter:function formatter(cell,row,rowIndex){return/*#__PURE__*/ (// let rowNumber = (this.state.currentPage - 1) * 10 + (rowIndex + 1);\n// return <span>{rowNumber}</span>;\nReact.createElement(\"span\",{className:\"d-flex justify-content-center\"},rowIndex+1));}},{dataField:\"vendorName\",text:\"Vendor Name\",headerStyle:{backgroundColor:\"#F8F9FA\",border:\"none\"}},{dataField:\"walletBalance\",text:\"Wallet Ballance\",headerStyle:{backgroundColor:\"#F8F9FA\",border:\"none\"},formatter:function formatter(cell){return/*#__PURE__*/React.createElement(\"span\",null,\"\\u20A6\",cell.toLocaleString());}},{dataField:\"transSupported\",text:\"Transaction Supported\",headerStyle:{backgroundColor:\"#F8F9FA\",border:\"none\"}},{dataField:\"status\",text:\"Status\",headerStyle:{backgroundColor:\"#F8F9FA\",border:\"none\",textAlign:\"center\"// padding: \" 20px 50px\",\n},style:function style(){return{cursor:\"pointer\",textAlign:\"center\",padding:\"20px 50px\"};},events:{onClick:function onClick(e,cell,columnIndex,row,rowIndex){setIndex(rowIndex);console.log(rowIndex);setShow(true);}},formatter:function formatter(cell,row,rowIndex){if(cell===true){return/*#__PURE__*/React.createElement(CustomInput,{type:\"switch\",name:\"status\",className:\"custom-switch\",key:\"on\",checked:true,id:cell+rowIndex,onChange:function onChange(e){return console.log(e.target.value);},label:\"\"});}else{return/*#__PURE__*/React.createElement(CustomInput,{type:\"switch\",name:\"status\",className:\"custom-switch\",key:\"off\",checked:false,id:cell+rowIndex});}}}];var customTotal=function customTotal(from,to,size){return/*#__PURE__*/React.createElement(\"span\",{className:\"react-bootstrap-table-pagination-total\",style:{padding:\"1rem\"}},\"Showing \",from,\" to \",to,\" of \",size,\" Results\");};var rowStyle=function rowStyle(row,rowIndex){var _vendors$rowIndex;var style={border:\"none\"};if(((_vendors$rowIndex=vendors[rowIndex])===null||_vendors$rowIndex===void 0?void 0:_vendors$rowIndex.status)===\"inactive\"){style.backgroundColor=\"rgba(223, 227, 232, 0.2)\";}return style;};return/*#__PURE__*/React.createElement(ToolkitProvider,{keyField:\"id\",data:data,columns:columns},function(props){return/*#__PURE__*/React.createElement(\"div\",{className:\"table\"},/*#__PURE__*/React.createElement(\"p\",{className:\"table_title\"},\"All Vendors\"),/*#__PURE__*/React.createElement(Header,{placeholder:\"Find Vendors\",filter:filter,refresh:refreshVendor}),data.length===0?/*#__PURE__*/React.createElement(Loader,null):/*#__PURE__*/React.createElement(BootstrapTable,Object.assign({},props.baseProps,{bordered:false,rowStyle:rowStyle,pagination:paginationFactory({sizePerPage:9,hideSizePerPage:true,showTotal:true,paginationTotalRenderer:customTotal})})),data.length!==0&&/*#__PURE__*/React.createElement(Modal,{show:show,setShow:setShow,index:index,setData:setData}));});};export default VendorTab;","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/src/pages/dashboards/Vendors/VendorTab.js"],"names":["React","useState","useEffect","BootstrapTable","paginationFactory","ToolkitProvider","CustomInput","Header","Modal","useAPI","Loader","VendorTab","vendors","refreshVendor","show","setShow","data","setData","index","setIndex","filter","e","value","target","text","vendorName","toLocaleLowerCase","startsWith","columns","dataField","headerStyle","backgroundColor","border","width","textAlign","formatter","cell","row","rowIndex","toLocaleString","style","cursor","padding","events","onClick","columnIndex","console","log","customTotal","from","to","size","rowStyle","status","props","length","baseProps","sizePerPage","hideSizePerPage","showTotal","paginationTotalRenderer"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport ToolkitProvider from \"react-bootstrap-table2-toolkit\";\nimport { CustomInput } from \"reactstrap\";\nimport Header from \"./TabHeader\";\nimport Modal from \"./VendorModal\";\nimport { useAPI } from \"../../../contexts/VendorContext\";\nimport Loader from \"../../../components/Loader\";\n\nconst VendorTab = () => {\n  const { vendors, refreshVendor } = useAPI();\n  const [show, setShow] = useState(false);\n  const [data, setData] = useState(vendors);\n  const [index, setIndex] = useState(0);\n\n  useEffect(() => {\n    setData(vendors);\n  }, [vendors]);\n\n  const filter = (e) => {\n    const { value } = e.target;\n    setData(\n      vendors.filter((text) =>\n        text.vendorName.toLocaleLowerCase().startsWith(value)\n      )\n    );\n  };\n\n  const columns = [\n    {\n      dataField: \"id\",\n      text: \"SN\",\n      headerStyle: {\n        backgroundColor: \"#F8F9FA\",\n        border: \"none\",\n        width: \"70px\",\n        textAlign: \"center\",\n      },\n      formatter: (cell, row, rowIndex) => {\n        return (\n          // let rowNumber = (this.state.currentPage - 1) * 10 + (rowIndex + 1);\n          // return <span>{rowNumber}</span>;\n          <span className=\"d-flex justify-content-center\">{rowIndex + 1}</span>\n        );\n      },\n    },\n    {\n      dataField: \"vendorName\",\n      text: \"Vendor Name\",\n      headerStyle: {\n        backgroundColor: \"#F8F9FA\",\n        border: \"none\",\n      },\n    },\n    {\n      dataField: \"walletBalance\",\n      text: \"Wallet Ballance\",\n      headerStyle: {\n        backgroundColor: \"#F8F9FA\",\n        border: \"none\",\n      },\n      formatter: (cell) => <span>₦{cell.toLocaleString()}</span>,\n    },\n    {\n      dataField: \"transSupported\",\n      text: \"Transaction Supported\",\n      headerStyle: {\n        backgroundColor: \"#F8F9FA\",\n        border: \"none\",\n      },\n    },\n    {\n      dataField: \"status\",\n      text: \"Status\",\n      headerStyle: {\n        backgroundColor: \"#F8F9FA\",\n        border: \"none\",\n        textAlign: \"center\",\n        // padding: \" 20px 50px\",\n      },\n      style: () => {\n        return {\n          cursor: \"pointer\",\n          textAlign: \"center\",\n          padding: \"20px 50px\",\n        };\n      },\n      events: {\n        onClick: (e, cell, columnIndex, row, rowIndex) => {\n          setIndex(rowIndex);\n          console.log(rowIndex);\n          setShow(true);\n        },\n      },\n      formatter: (cell, row, rowIndex) => {\n        if (cell === true) {\n          return (\n            <CustomInput\n              type=\"switch\"\n              name=\"status\"\n              className=\"custom-switch\"\n              key=\"on\"\n              checked={true}\n              id={cell + rowIndex}\n              onChange={(e) => console.log(e.target.value)}\n              label=\"\"\n            />\n          );\n        } else {\n          return (\n            <CustomInput\n              type=\"switch\"\n              name=\"status\"\n              className=\"custom-switch\"\n              key=\"off\"\n              checked={false}\n              id={cell + rowIndex}\n            />\n          );\n        }\n      },\n    },\n  ];\n  const customTotal = (from, to, size) => (\n    <span\n      className=\"react-bootstrap-table-pagination-total\"\n      style={{\n        padding: \"1rem\",\n      }}\n    >\n      Showing {from} to {to} of {size} Results\n    </span>\n  );\n  const rowStyle = (row, rowIndex) => {\n    const style = {\n      border: \"none\",\n    };\n    if (vendors[rowIndex]?.status === \"inactive\") {\n      style.backgroundColor = \"rgba(223, 227, 232, 0.2)\";\n    }\n    return style;\n  };\n  return (\n    <ToolkitProvider keyField=\"id\" data={data} columns={columns}>\n      {(props) => (\n        <div className=\"table\">\n          <p className=\"table_title\">All Vendors</p>\n          <Header\n            placeholder=\"Find Vendors\"\n            filter={filter}\n            refresh={refreshVendor}\n          />\n          {data.length === 0 ? (\n            <Loader />\n          ) : (\n            <BootstrapTable\n              {...props.baseProps}\n              bordered={false}\n              rowStyle={rowStyle}\n              pagination={paginationFactory({\n                sizePerPage: 9,\n                hideSizePerPage: true,\n                showTotal: true,\n                paginationTotalRenderer: customTotal,\n              })}\n            />\n          )}\n          {data.length !== 0 && (\n            <Modal\n              show={show}\n              setShow={setShow}\n              index={index}\n              setData={setData}\n            />\n          )}\n        </div>\n      )}\n    </ToolkitProvider>\n  );\n};\n\nexport default VendorTab;\n"]},"metadata":{},"sourceType":"module"}