{"ast":null,"code":"import _regeneratorRuntime from \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /OLUYEMI SETTL TESTING FOR ADMIN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /OLUYEMI SETTL TESTING FOR ADMIN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /OLUYEMI SETTL TESTING FOR ADMIN/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /OLUYEMI SETTL TESTING FOR ADMIN/src/pages/dashboards/Reports/TransactionDetail.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { Button } from \"reactstrap\";\nimport logo from \"../../../assets/img/icons/customercard.svg\";\nimport { MoreVertical } from \"react-feather\";\nimport { DropdownMenu, DropdownToggle, Dropdown } from \"reactstrap\";\nimport Modal from \"./modal\";\nimport Loader from \"../../../components/Loader\";\nimport TransactionDetails from \"../../../requests/transactions\";\nimport Moment from \"react-moment\";\nimport { Link } from \"react-router-dom\";\n\nvar Customer = function Customer(_ref) {\n  var _data$transAmount;\n\n  var setShowDetails = _ref.setShowDetails,\n      title = _ref.title,\n      type = _ref.type,\n      transRef = _ref.transRef;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _TransactionDetails = TransactionDetails(),\n      getTransactionDetails = _TransactionDetails.getTransactionDetails;\n\n  var dataTemplate = [{\n    \"Transaction Name\": data.payMethod\n  }, {\n    \"Transaction Type\": data.transType\n  }, {\n    \"Transaction reference\": data.transId\n  }, {\n    \"Paid at\": /*#__PURE__*/React.createElement(Moment, {\n      format: \"DD/MM/YYYY\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 18\n      }\n    }, data.transDate)\n  }, {\n    \"Transaction Channel\": data.transChannel\n  }, {\n    \"Recipient Name\": data.toCustomerName\n  }, {\n    \"Recipient ID\": /*#__PURE__*/React.createElement(Link, {\n      to: \"/customers/details/\" + data.toCustomerId,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"name\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 11\n      }\n    }, data.toCustomerId))\n  }, {\n    \"Settl fee\": \"₦0.00\"\n  }, {\n    \"Transaction source\": data.fundSource\n  }, {\n    \"Billing reference\": data.referenceNo\n  }, {\n    Description: data.transDescription\n  }];\n  var refund = {\n    title: \"Refund \".concat(type),\n    reason: \"Refund Reason\",\n    type: type,\n    placeholder: \"Initiate Refund\"\n  };\n  var reprocess = {\n    title: \"Reprocess Transaction\",\n    reason: \"Reprocess Reason\",\n    type: type,\n    placeholder: \"Reprocess\"\n  };\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      modalDetail = _useState6[0],\n      setModalDetail = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      dropdownOpen = _useState8[0],\n      setOpen = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      show = _useState10[0],\n      setShow = _useState10[1];\n\n  var toggle = function toggle() {\n    return setOpen(!dropdownOpen);\n  };\n\n  var fetchData = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              _context.next = 3;\n              return getTransactionDetails(transRef);\n\n            case 3:\n              response = _context.sent;\n\n              if (response.code === \"00\") {\n                console.log(response.data);\n                setData(response.data);\n              }\n\n              setLoading(false);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function fetchData() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var Classes = function Classes(option) {\n    if ((option === null || option === void 0 ? void 0 : option.toLowerCase()) === \"pending\") return \"status pending\";\n    if ((option === null || option === void 0 ? void 0 : option.toLowerCase()) === \"success\") return \"status success\";\n    if ((option === null || option === void 0 ? void 0 : option.toLowerCase()) === \"failed\") return \"status failed\";\n    return \"\";\n  };\n\n  useEffect(function () {\n    window.scrollTo(0, 0);\n    fetchData();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      gap: \"10px\",\n      padding: \"10px\",\n      marginTop: \"2rem\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"#4f1699\",\n      cursor: \"pointer\"\n    },\n    onClick: function onClick() {\n      return setShowDetails(function (prev) {\n        return !prev;\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, title), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"#304762\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, \" > \"), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"#304762\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, title, \" Details\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"customer_card_body\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"greeting\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logo,\n    className: \"\",\n    alt: \"Settl Logo\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"pl-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }, title, \" Details \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"price\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }, \"\\u20A6\", data === null || data === void 0 ? void 0 : (_data$transAmount = data.transAmount) === null || _data$transAmount === void 0 ? void 0 : _data$transAmount.toLocaleString()), /*#__PURE__*/React.createElement(\"p\", {\n    className: Classes(data.transStatus),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    }\n  }, data.transStatus)), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"rgba(48, 71, 98, 0.8);\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 19\n    }\n  }, \"Incl. 0.00\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"buttons\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown, {\n    isOpen: dropdownOpen,\n    toggle: toggle,\n    style: {\n      outline: \"none\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(DropdownToggle, {\n    style: {\n      backgroundColor: \"white\",\n      border: \"none\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button_neutral\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(MoreVertical, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(DropdownMenu, {\n    className: \"dropdown_menu\",\n    style: {},\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"dropdown_option\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 23\n    }\n  }, \" Requery Transaction\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"dropdown_option\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 23\n    }\n  }, \"View Agent Profile\")))), /*#__PURE__*/React.createElement(Button, {\n    className: \"button_neutral\",\n    onClick: function onClick() {\n      setModalDetail(refund);\n      setShow(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }, \"Refund \", type), /*#__PURE__*/React.createElement(Button, {\n    className: \"button_approve\",\n    onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setModalDetail(reprocess);\n              setShow(true);\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    })),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 17\n    }\n  }, \"Reprocess Transaction\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"details\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, dataTemplate.map(function (info) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        width: \"50%\",\n        color: \"rgba(48, 71, 98, 0.8)\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 19\n      }\n    }, Object.keys(info)), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        width: \"50%\",\n        color: \"#304762\",\n        fontWeight: 500\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 19\n      }\n    }, Object.values(info)));\n  })))), modalDetail && /*#__PURE__*/React.createElement(Modal, {\n    show: show,\n    setShow: setShow,\n    data: modalDetail,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default Customer;","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /OLUYEMI SETTL TESTING FOR ADMIN/src/pages/dashboards/Reports/TransactionDetail.js"],"names":["React","useEffect","useState","Button","MoreVertical","DropdownMenu","DropdownToggle","Dropdown","Modal","Loader","TransactionDetails","Moment","Link","Customer","setShowDetails","title","type","transRef","data","setData","loading","setLoading","getTransactionDetails","dataTemplate","payMethod","transType","transId","transDate","transChannel","toCustomerName","toCustomerId","fundSource","referenceNo","Description","transDescription","refund","reason","placeholder","reprocess","modalDetail","setModalDetail","dropdownOpen","setOpen","show","setShow","toggle","fetchData","response","code","console","log","Classes","option","toLowerCase","window","scrollTo","display","gap","padding","marginTop","color","cursor","prev","logo","transAmount","toLocaleString","transStatus","outline","backgroundColor","border","map","info","width","Object","keys","fontWeight","values"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,MAAT,QAAuB,YAAvB;;AAEA,SAASC,YAAT,QAA6B,eAA7B;AACA,SAASC,YAAT,EAAuBC,cAAvB,EAAuCC,QAAvC,QAAuD,YAAvD;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,kBAAP,MAA+B,gCAA/B;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,SAASC,IAAT,QAAqB,kBAArB;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,OAA+C;AAAA;;AAAA,MAA5CC,cAA4C,QAA5CA,cAA4C;AAAA,MAA5BC,KAA4B,QAA5BA,KAA4B;AAAA,MAArBC,IAAqB,QAArBA,IAAqB;AAAA,MAAfC,QAAe,QAAfA,QAAe;;AAC9D,kBAAwBf,QAAQ,CAAC,EAAD,CAAhC;AAAA;AAAA,MAAOgB,IAAP;AAAA,MAAaC,OAAb;;AACA,mBAA8BjB,QAAQ,CAAC,KAAD,CAAtC;AAAA;AAAA,MAAOkB,OAAP;AAAA,MAAgBC,UAAhB;;AACA,4BAAkCX,kBAAkB,EAApD;AAAA,MAAQY,qBAAR,uBAAQA,qBAAR;;AACA,MAAMC,YAAY,GAAG,CACnB;AAAE,wBAAoBL,IAAI,CAACM;AAA3B,GADmB,EAEnB;AAAE,wBAAoBN,IAAI,CAACO;AAA3B,GAFmB,EAGnB;AAAE,6BAAyBP,IAAI,CAACQ;AAAhC,GAHmB,EAInB;AAAE,4BAAW,oBAAC,MAAD;AAAQ,MAAA,MAAM,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA6BR,IAAI,CAACS,SAAlC;AAAb,GAJmB,EAKnB;AAAE,2BAAuBT,IAAI,CAACU;AAA9B,GALmB,EAMnB;AAAE,sBAAkBV,IAAI,CAACW;AAAzB,GANmB,EAOnB;AACE,iCACE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAE,wBAAwBX,IAAI,CAACY,YAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAG,MAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAqBZ,IAAI,CAACY,YAA1B,CADF;AAFJ,GAPmB,EAcnB;AAAE,iBAAa;AAAf,GAdmB,EAenB;AAAE,0BAAsBZ,IAAI,CAACa;AAA7B,GAfmB,EAgBnB;AAAE,yBAAqBb,IAAI,CAACc;AAA5B,GAhBmB,EAiBnB;AAAEC,IAAAA,WAAW,EAAEf,IAAI,CAACgB;AAApB,GAjBmB,CAArB;AAoBA,MAAMC,MAAM,GAAG;AACbpB,IAAAA,KAAK,mBAAYC,IAAZ,CADQ;AAEboB,IAAAA,MAAM,EAAE,eAFK;AAGbpB,IAAAA,IAAI,EAAJA,IAHa;AAIbqB,IAAAA,WAAW,EAAE;AAJA,GAAf;AAMA,MAAMC,SAAS,GAAG;AAChBvB,IAAAA,KAAK,EAAE,uBADS;AAEhBqB,IAAAA,MAAM,EAAE,kBAFQ;AAGhBpB,IAAAA,IAAI,EAAJA,IAHgB;AAIhBqB,IAAAA,WAAW,EAAE;AAJG,GAAlB;;AAMA,mBAAsCnC,QAAQ,CAAC,IAAD,CAA9C;AAAA;AAAA,MAAOqC,WAAP;AAAA,MAAoBC,cAApB;;AACA,mBAAgCtC,QAAQ,CAAC,KAAD,CAAxC;AAAA;AAAA,MAAOuC,YAAP;AAAA,MAAqBC,OAArB;;AACA,mBAAwBxC,QAAQ,CAAC,KAAD,CAAhC;AAAA;AAAA,MAAOyC,IAAP;AAAA,MAAaC,OAAb;;AACA,MAAMC,MAAM,GAAG,SAATA,MAAS;AAAA,WAAMH,OAAO,CAAC,CAACD,YAAF,CAAb;AAAA,GAAf;;AAEA,MAAMK,SAAS;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAChBzB,cAAAA,UAAU,CAAC,IAAD,CAAV;AADgB;AAAA,qBAEOC,qBAAqB,CAACL,QAAD,CAF5B;;AAAA;AAEV8B,cAAAA,QAFU;;AAGhB,kBAAIA,QAAQ,CAACC,IAAT,KAAkB,IAAtB,EAA4B;AAC1BC,gBAAAA,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAAC7B,IAArB;AACAC,gBAAAA,OAAO,CAAC4B,QAAQ,CAAC7B,IAAV,CAAP;AACD;;AACDG,cAAAA,UAAU,CAAC,KAAD,CAAV;;AAPgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAATyB,SAAS;AAAA;AAAA;AAAA,KAAf;;AASA,MAAMK,OAAO,GAAG,SAAVA,OAAU,CAACC,MAAD,EAAY;AAC1B,QAAI,CAAAA,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEC,WAAR,QAA0B,SAA9B,EAAyC,OAAO,gBAAP;AACzC,QAAI,CAAAD,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEC,WAAR,QAA0B,SAA9B,EAAyC,OAAO,gBAAP;AACzC,QAAI,CAAAD,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEC,WAAR,QAA0B,QAA9B,EAAwC,OAAO,eAAP;AACxC,WAAO,EAAP;AACD,GALD;;AAMApD,EAAAA,SAAS,CAAC,YAAM;AACdqD,IAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACAT,IAAAA,SAAS;AACV,GAHQ,EAGN,EAHM,CAAT;AAIA,sBACE,0CACG1B,OAAO,gBACN,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADM,gBAGN,uDACE;AACE,IAAA,KAAK,EAAE;AACLoC,MAAAA,OAAO,EAAE,MADJ;AAELC,MAAAA,GAAG,EAAE,MAFA;AAGLC,MAAAA,OAAO,EAAE,MAHJ;AAILC,MAAAA,SAAS,EAAE;AAJN,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAQE;AACE,IAAA,KAAK,EAAE;AAAEC,MAAAA,KAAK,EAAE,SAAT;AAAoBC,MAAAA,MAAM,EAAE;AAA5B,KADT;AAEE,IAAA,OAAO,EAAE;AAAA,aAAM/C,cAAc,CAAC,UAACgD,IAAD;AAAA,eAAU,CAACA,IAAX;AAAA,OAAD,CAApB;AAAA,KAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIG/C,KAJH,CARF,eAcE;AAAM,IAAA,KAAK,EAAE;AAAE6C,MAAAA,KAAK,EAAE;AAAT,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoC,KAApC,CAdF,EAcoD,GAdpD,eAeE;AAAM,IAAA,KAAK,EAAE;AAAEA,MAAAA,KAAK,EAAE;AAAT,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoC7C,KAApC,aAfF,CADF,eAkBE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAEgD,IAAV;AAAgB,IAAA,SAAS,EAAC,EAA1B;AAA6B,IAAA,GAAG,EAAC,YAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAM,IAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwBhD,KAAxB,cAFF,CADF,eAKE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,SAAS,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACIG,IADJ,aACIA,IADJ,4CACIA,IAAI,CAAE8C,WADV,sDACI,kBAAmBC,cAAnB,EADJ,CADF,eAIE;AAAG,IAAA,SAAS,EAAEd,OAAO,CAACjC,IAAI,CAACgD,WAAN,CAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGhD,IAAI,CAACgD,WADR,CAJF,CALF,eAaE;AAAG,IAAA,KAAK,EAAE;AAAEN,MAAAA,KAAK,EAAE;AAAT,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAbF,CADF,CADF,eAkBE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AACE,IAAA,MAAM,EAAEnB,YADV;AAEE,IAAA,MAAM,EAAEI,MAFV;AAGE,IAAA,KAAK,EAAE;AACLsB,MAAAA,OAAO,EAAE;AADJ,KAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAOE,oBAAC,cAAD;AACE,IAAA,KAAK,EAAE;AACLC,MAAAA,eAAe,EAAE,OADZ;AAELC,MAAAA,MAAM,EAAE;AAFH,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAME;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CANF,eASE,oBAAC,YAAD;AAAc,IAAA,SAAS,EAAC,eAAxB;AAAwC,IAAA,KAAK,EAAE,EAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,eAEE;AAAG,IAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFF,CATF,CAPF,CADF,eAwBE,oBAAC,MAAD;AACE,IAAA,SAAS,EAAC,gBADZ;AAEE,IAAA,OAAO,EAAE,mBAAM;AACb7B,MAAAA,cAAc,CAACL,MAAD,CAAd;AACAS,MAAAA,OAAO,CAAC,IAAD,CAAP;AACD,KALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAOU5B,IAPV,CAxBF,eAiCE,oBAAC,MAAD;AACE,IAAA,SAAS,EAAC,gBADZ;AAEE,IAAA,OAAO,wEAAE;AAAA;AAAA;AAAA;AAAA;AACPwB,cAAAA,cAAc,CAACF,SAAD,CAAd;AACAM,cAAAA,OAAO,CAAC,IAAD,CAAP;;AAFO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF,EAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAjCF,CAlBF,CADF,eA+DE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGrB,YAAY,CAAC+C,GAAb,CAAiB,UAACC,IAAD;AAAA,wBAChB;AACE,MAAA,KAAK,EAAE;AACLf,QAAAA,OAAO,EAAE;AADJ,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKE;AACE,MAAA,KAAK,EAAE;AACLgB,QAAAA,KAAK,EAAE,KADF;AAELZ,QAAAA,KAAK,EAAE;AAFF,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMGa,MAAM,CAACC,IAAP,CAAYH,IAAZ,CANH,CALF,eAaE;AACE,MAAA,KAAK,EAAE;AACLC,QAAAA,KAAK,EAAE,KADF;AAELZ,QAAAA,KAAK,EAAE,SAFF;AAGLe,QAAAA,UAAU,EAAE;AAHP,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOGF,MAAM,CAACG,MAAP,CAAcL,IAAd,CAPH,CAbF,CADgB;AAAA,GAAjB,CADH,CA/DF,CAlBF,CAJJ,EAoHGhC,WAAW,iBACV,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAEI,IAAb;AAAmB,IAAA,OAAO,EAAEC,OAA5B;AAAqC,IAAA,IAAI,EAAEL,WAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArHJ,CADF;AA0HD,CAtLD;;AAuLA,eAAe1B,QAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Button } from \"reactstrap\";\nimport logo from \"../../../assets/img/icons/customercard.svg\";\nimport { MoreVertical } from \"react-feather\";\nimport { DropdownMenu, DropdownToggle, Dropdown } from \"reactstrap\";\nimport Modal from \"./modal\";\nimport Loader from \"../../../components/Loader\";\nimport TransactionDetails from \"../../../requests/transactions\";\nimport Moment from \"react-moment\";\nimport { Link } from \"react-router-dom\";\n\nconst Customer = ({ setShowDetails, title, type, transRef }) => {\n  const [data, setData] = useState({});\n  const [loading, setLoading] = useState(false);\n  const { getTransactionDetails } = TransactionDetails();\n  const dataTemplate = [\n    { \"Transaction Name\": data.payMethod },\n    { \"Transaction Type\": data.transType },\n    { \"Transaction reference\": data.transId },\n    { \"Paid at\": <Moment format=\"DD/MM/YYYY\">{data.transDate}</Moment> },\n    { \"Transaction Channel\": data.transChannel },\n    { \"Recipient Name\": data.toCustomerName },\n    {\n      \"Recipient ID\": (\n        <Link to={\"/customers/details/\" + data.toCustomerId}>\n          <p className=\"name\">{data.toCustomerId}</p>\n        </Link>\n      ),\n    },\n    { \"Settl fee\": \"₦0.00\" },\n    { \"Transaction source\": data.fundSource },\n    { \"Billing reference\": data.referenceNo },\n    { Description: data.transDescription },\n  ];\n\n  const refund = {\n    title: `Refund ${type}`,\n    reason: \"Refund Reason\",\n    type,\n    placeholder: \"Initiate Refund\",\n  };\n  const reprocess = {\n    title: \"Reprocess Transaction\",\n    reason: \"Reprocess Reason\",\n    type,\n    placeholder: \"Reprocess\",\n  };\n  const [modalDetail, setModalDetail] = useState(null);\n  const [dropdownOpen, setOpen] = useState(false);\n  const [show, setShow] = useState(false);\n  const toggle = () => setOpen(!dropdownOpen);\n\n  const fetchData = async () => {\n    setLoading(true);\n    const response = await getTransactionDetails(transRef);\n    if (response.code === \"00\") {\n      console.log(response.data);\n      setData(response.data);\n    }\n    setLoading(false);\n  };\n  const Classes = (option) => {\n    if (option?.toLowerCase() === \"pending\") return \"status pending\";\n    if (option?.toLowerCase() === \"success\") return \"status success\";\n    if (option?.toLowerCase() === \"failed\") return \"status failed\";\n    return \"\";\n  };\n  useEffect(() => {\n    window.scrollTo(0, 0);\n    fetchData();\n  }, []);\n  return (\n    <>\n      {loading ? (\n        <Loader />\n      ) : (\n        <>\n          <div\n            style={{\n              display: \"flex\",\n              gap: \"10px\",\n              padding: \"10px\",\n              marginTop: \"2rem\",\n            }}\n          >\n            <span\n              style={{ color: \"#4f1699\", cursor: \"pointer\" }}\n              onClick={() => setShowDetails((prev) => !prev)}\n            >\n              {title}\n            </span>\n            <span style={{ color: \"#304762\" }}>{\" > \"}</span>{\" \"}\n            <span style={{ color: \"#304762\" }}>{title} Details</span>\n          </div>\n          <div className=\"customer_card_body\">\n            <div className=\"flex\">\n              <div>\n                <div>\n                  <h4 className=\"greeting\">\n                    <img src={logo} className=\"\" alt=\"Settl Logo\" />\n                    <span className=\"pl-2\">{title} Details </span>\n                  </h4>\n                  <div className=\"flex\">\n                    <p className=\"price\">\n                      ₦{data?.transAmount?.toLocaleString()}\n                    </p>\n                    <p className={Classes(data.transStatus)}>\n                      {data.transStatus}\n                    </p>\n                  </div>\n                  <p style={{ color: \"rgba(48, 71, 98, 0.8);\" }}>Incl. 0.00</p>\n                </div>\n              </div>\n              <div className=\"buttons\">\n                <Dropdown\n                  isOpen={dropdownOpen}\n                  toggle={toggle}\n                  style={{\n                    outline: \"none\",\n                  }}\n                >\n                  <DropdownToggle\n                    style={{\n                      backgroundColor: \"white\",\n                      border: \"none\",\n                    }}\n                  >\n                    <div className=\"button_neutral\">\n                      <MoreVertical />\n                    </div>\n                    <DropdownMenu className=\"dropdown_menu\" style={{}}>\n                      <p className=\"dropdown_option\"> Requery Transaction</p>\n                      <p className=\"dropdown_option\">View Agent Profile</p>\n                    </DropdownMenu>\n                  </DropdownToggle>\n                </Dropdown>\n\n                <Button\n                  className=\"button_neutral\"\n                  onClick={() => {\n                    setModalDetail(refund);\n                    setShow(true);\n                  }}\n                >\n                  Refund {type}\n                </Button>\n                <Button\n                  className=\"button_approve\"\n                  onClick={async () => {\n                    setModalDetail(reprocess);\n                    setShow(true);\n                  }}\n                >\n                  Reprocess Transaction\n                </Button>\n              </div>\n            </div>\n            <div className=\"details\">\n              {dataTemplate.map((info) => (\n                <div\n                  style={{\n                    display: \"flex\",\n                  }}\n                >\n                  <p\n                    style={{\n                      width: \"50%\",\n                      color: \"rgba(48, 71, 98, 0.8)\",\n                    }}\n                  >\n                    {Object.keys(info)}\n                  </p>\n                  <p\n                    style={{\n                      width: \"50%\",\n                      color: \"#304762\",\n                      fontWeight: 500,\n                    }}\n                  >\n                    {Object.values(info)}\n                  </p>\n                </div>\n              ))}\n            </div>\n          </div>\n        </>\n      )}\n\n      {modalDetail && (\n        <Modal show={show} setShow={setShow} data={modalDetail} />\n      )}\n    </>\n  );\n};\nexport default Customer;\n"]},"metadata":{},"sourceType":"module"}