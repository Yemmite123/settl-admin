{"ast":null,"code":"import _regeneratorRuntime from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Button}from\"reactstrap\";import logo from\"../../../assets/img/icons/customercard.svg\";import Modal from\"./Modal\";import cardRequests from\"../../../requests/card-management\";var CustomerDetails=function CustomerDetails(_ref){var setShowCustomerDetails=_ref.setShowCustomerDetails,details=_ref.details;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _cardRequests=cardRequests(),getCardById=_cardRequests.getCardById,approveRequest=_cardRequests.approveRequest,declineRequest=_cardRequests.declineRequest;var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),customerDetails=_useState4[0],setCustomerDetails=_useState4[1];var getCardDetails=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(details);_context.next=3;return getCardById(details.phoneno);case 3:response=_context.sent;if(response.code===\"00\"){console.log(response.data);setCustomerDetails(response.data);}case 5:case\"end\":return _context.stop();}}},_callee);}));return function getCardDetails(){return _ref2.apply(this,arguments);};}();var customerData=[{\"Customer Phone Number\":customerDetails.phoneno},{\"Created at\":customerDetails.createdAt},{\"Customer ID\":/*#__PURE__*/React.createElement(\"p\",{className:\"name\"},customerDetails.customerId)},{\"Customer BVN\":customerDetails.bvn},{\"Wallet associated with Card\":customerDetails.walletAssociated},{\"Card Type\":customerDetails.cardType}];useEffect(function(){window.scrollTo(0,0);getCardDetails();},[]);var handleApproval=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return approveRequest(details.phoneno);case 2:response=_context2.sent;if(response.code===\"06\"){console.log(response.data);setShowCustomerDetails(false);}setShowCustomerDetails(false);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function handleApproval(){return _ref3.apply(this,arguments);};}();var handleDecline=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return declineRequest(details.phoneno);case 2:response=_context3.sent;if(response.code===\"00\"){console.log(response.data);setShowCustomerDetails(false);setShow(false);}setShowCustomerDetails(false);setShow(false);case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function handleDecline(){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",gap:\"10px\",padding:\"10px\"}},/*#__PURE__*/React.createElement(\"span\",{style:{color:\"#4f1699\",cursor:\"pointer\"},onClick:function onClick(){return setShowCustomerDetails(function(prev){return!prev;});}},\"Card Management\"),/*#__PURE__*/React.createElement(\"span\",{style:{color:\"#304762\"}},\" > \"),\" \",/*#__PURE__*/React.createElement(\"span\",{style:{color:\"#304762\"}},\"Card Request Details\")),/*#__PURE__*/React.createElement(\"div\",{className:\"customer_card_body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h4\",{className:\"greeting\"},/*#__PURE__*/React.createElement(\"img\",{src:logo,className:\"\",alt:\"Settl Logo\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"pl-2\"},\"Customer Card Request \")),/*#__PURE__*/React.createElement(\"p\",{className:\"status pending\"},\"Pending\")),/*#__PURE__*/React.createElement(\"div\",{className:\"buttons\"},/*#__PURE__*/React.createElement(Button,{className:\"button_decline\",onClick:function onClick(){return setShow(true);}},\"Decline Request\"),/*#__PURE__*/React.createElement(Button,{className:\"button_approve\",onClick:handleApproval},\"Approve Request\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"details\"},customerData.map(function(info){return/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\"}},/*#__PURE__*/React.createElement(\"p\",{style:{width:\"50%\",color:\"rgba(48, 71, 98, 0.8)\"}},Object.keys(info)),/*#__PURE__*/React.createElement(\"p\",{style:{width:\"50%\",color:\"#304762\",fontWeight:500}},Object.values(info)));}))),/*#__PURE__*/React.createElement(Modal,{show:show,setShow:setShow,onClick:handleDecline}));};export default CustomerDetails;","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/src/pages/dashboards/Card Management/CustomerDetails.js"],"names":["React","useState","useEffect","Button","Modal","cardRequests","CustomerDetails","setShowCustomerDetails","details","show","setShow","getCardById","approveRequest","declineRequest","customerDetails","setCustomerDetails","getCardDetails","console","log","phoneno","response","code","data","customerData","createdAt","customerId","bvn","walletAssociated","cardType","window","scrollTo","handleApproval","handleDecline","display","gap","padding","color","cursor","prev","logo","map","info","width","Object","keys","fontWeight","values"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Button } from \"reactstrap\";\nimport logo from \"../../../assets/img/icons/customercard.svg\";\nimport Modal from \"./Modal\";\nimport cardRequests from \"../../../requests/card-management\";\n\nconst CustomerDetails = ({setShowCustomerDetails, details}) => {\n  const [show, setShow] = useState(false);\n  const { getCardById, approveRequest, declineRequest } = cardRequests();\n  const [customerDetails, setCustomerDetails] = useState(\"\");\n\n  const getCardDetails = async () => {\n    console.log(details);\n    const response = await getCardById(details.phoneno);\n    if(response.code === \"00\") {\n      console.log(response.data);\n      setCustomerDetails(response.data);\n    }\n  }\n\n  const customerData = [\n    { \"Customer Phone Number\": customerDetails.phoneno },\n    { \"Created at\": customerDetails.createdAt },\n    { \"Customer ID\": <p className=\"name\">{customerDetails.customerId}</p> },\n    { \"Customer BVN\": customerDetails.bvn },\n    { \"Wallet associated with Card\": customerDetails.walletAssociated },\n    { \"Card Type\": customerDetails.cardType },\n  ];\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n    getCardDetails();\n  }, []);\n\n  const handleApproval = async () => {\n    const response = await approveRequest(details.phoneno);\n    if(response.code === \"06\") {\n      console.log(response.data);\n      setShowCustomerDetails(false);\n    }\n    setShowCustomerDetails(false)\n  }\n\n  const handleDecline = async () => {\n    const response = await declineRequest(details.phoneno);\n    if(response.code === \"00\") {\n      console.log(response.data);\n      setShowCustomerDetails(false);\n      setShow(false);\n    }\n    setShowCustomerDetails(false);\n    setShow(false);\n  }\n\n  return (\n    <>\n      <div style={{ display: \"flex\", gap: \"10px\", padding: \"10px\" }}>\n        <span\n          style={{ color: \"#4f1699\", cursor: \"pointer\" }}\n          onClick={() => setShowCustomerDetails((prev) => !prev)}\n        >\n          Card Management\n        </span>\n        <span style={{ color: \"#304762\" }}>{\" > \"}</span>{\" \"}\n        <span style={{ color: \"#304762\" }}>Card Request Details</span>\n      </div>\n      <div className=\"customer_card_body\">\n        <div className=\"flex\">\n          <div>\n            <h4 className=\"greeting\">\n              <img src={logo} className=\"\" alt=\"Settl Logo\" />\n              <span className=\"pl-2\">Customer Card Request </span>\n            </h4>\n            <p className=\"status pending\">Pending</p>\n          </div>\n          <div className=\"buttons\">\n            <Button className=\"button_decline\" onClick={() => setShow(true)}>\n              Decline Request\n            </Button>\n            <Button \n              className=\"button_approve\"\n              onClick={handleApproval}\n            >\n              Approve Request\n            </Button>\n          </div>\n        </div>\n        <div className=\"details\">\n          {customerData.map((info) => (\n            <div\n              style={{\n                display: \"flex\",\n              }}\n            >\n              <p\n                style={{\n                  width: \"50%\",\n                  color: \"rgba(48, 71, 98, 0.8)\",\n                }}\n              >\n                {Object.keys(info)}\n              </p>\n              <p\n                style={{\n                  width: \"50%\",\n                  color: \"#304762\",\n                  fontWeight: 500,\n                }}\n              >\n                {Object.values(info)}\n              </p>\n            </div>\n          ))}\n        </div>\n      </div>\n      <Modal show={show} setShow={setShow} onClick={handleDecline} />\n    </>\n  );\n};\nexport default CustomerDetails;\n"]},"metadata":{},"sourceType":"module"}