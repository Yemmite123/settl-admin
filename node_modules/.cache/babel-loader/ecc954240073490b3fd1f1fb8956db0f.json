{"ast":null,"code":"import _regeneratorRuntime from \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settladminfront-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settladminfront-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settladminfront-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settladminfront-end/src/pages/customers/BlacklistDeviceDialog.js\";\nimport React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Button, Modal, ModalBody, ModalHeader, Form, FormGroup, Label } from \"reactstrap\";\nimport InputBox from \"../../components/InputBox\";\nimport Loading from \"../../components/Loading\";\nimport CustomersRequest from \"../../requests/customer\";\nimport securityIcon from \"./../../assets/img/icons/security-warning.svg\";\n\nfunction BlacklistDeviceDialog(props) {\n  var _useState = useState(\"+2348030000000\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      customerPhoneNumber = _useState2[0],\n      setCustomerPhoneNumber = _useState2[1];\n\n  var _useState3 = useState(\"Fraud suspected\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      reasonForBlacklist = _useState4[0],\n      setReasonForBlacklist = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var _CustomersRequest = CustomersRequest(),\n      blacklistDevice = _CustomersRequest.blacklistDevice;\n\n  var handleBlacklistDevice = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              setLoading(true);\n              _context.next = 4;\n              return blacklistDevice({\n                adminName: props.fullName,\n                adminEmail: props.email,\n                customerPhone: customerPhoneNumber,\n                reason: reasonForBlacklist,\n                blacklist: true\n              });\n\n            case 4:\n              response = _context.sent;\n\n              if (!(response.code === \"00\")) {\n                _context.next = 13;\n                break;\n              }\n\n              console.log(response);\n              alert(\"Blacklist Operation is successful\");\n              setCustomerPhoneNumber(\"+2348030000000\");\n              setReasonForBlacklist(\"Fraud suspected\");\n              props.toggle();\n              setLoading(false);\n              return _context.abrupt(\"return\", true);\n\n            case 13:\n              setLoading(false);\n              return _context.abrupt(\"return\", false);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleBlacklistDevice(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Modal, {\n    isOpen: props.isOpen,\n    toggle: props.toggle,\n    className: \"admin-modal freeze-modal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, \"Blacklist Device\"), /*#__PURE__*/React.createElement(ModalBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: securityIcon,\n    className: \"mb-3\",\n    alt: \"security warning icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 29\n    }\n  }, \"Are you sure you want to blacklist the \", props.title, \" device connected to this account?\")), /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(InputBox, {\n    type: \"text\",\n    name: \"adminFullName\",\n    id: \"adminFullName\",\n    value: customerPhoneNumber,\n    onChange: function onChange(e) {\n      return setCustomerPhoneNumber(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    for: \"adminFullName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 33\n    }\n  }, \"Admin Full Name\")), /*#__PURE__*/React.createElement(FormGroup, {\n    className: \"pb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(InputBox, {\n    type: \"textarea\",\n    name: \"reasonForBlacklist\",\n    id: \"reasonForBlacklist\",\n    value: reasonForBlacklist,\n    rows: \"4\",\n    onChange: function onChange(e) {\n      return setReasonForBlacklist(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"info\",\n    className: \"btn-cancel\",\n    onClick: props.toggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 29\n    }\n  }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n    color: \"danger\",\n    className: \"btn-delete\",\n    onClick: handleBlacklistDevice,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 29\n    }\n  }, loading ? /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 44\n    }\n  }) : \"Yes, Blacklist\"))))));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var _state$user, _state$user$details, _state$user$details$a, _state$user2, _state$user2$details, _state$user2$details$;\n\n  return {\n    fullName: (_state$user = state.user) === null || _state$user === void 0 ? void 0 : (_state$user$details = _state$user.details) === null || _state$user$details === void 0 ? void 0 : (_state$user$details$a = _state$user$details.admin) === null || _state$user$details$a === void 0 ? void 0 : _state$user$details$a.fullname,\n    email: (_state$user2 = state.user) === null || _state$user2 === void 0 ? void 0 : (_state$user2$details = _state$user2.details) === null || _state$user2$details === void 0 ? void 0 : (_state$user2$details$ = _state$user2$details.admin) === null || _state$user2$details$ === void 0 ? void 0 : _state$user2$details$.email\n  };\n};\n\nexport default connect(mapStateToProps)(BlacklistDeviceDialog);","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settladminfront-end/src/pages/customers/BlacklistDeviceDialog.js"],"names":["React","useState","connect","Button","Modal","ModalBody","ModalHeader","Form","FormGroup","Label","InputBox","Loading","CustomersRequest","BlacklistDeviceDialog","props","customerPhoneNumber","setCustomerPhoneNumber","reasonForBlacklist","setReasonForBlacklist","loading","setLoading","blacklistDevice","handleBlacklistDevice","e","preventDefault","adminName","fullName","adminEmail","email","customerPhone","reason","blacklist","response","code","console","log","alert","toggle","isOpen","securityIcon","title","target","value","mapStateToProps","state","user","details","admin","fullname"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { \n    Button,\n    Modal, \n    ModalBody,\n    ModalHeader,\n    Form,\n    FormGroup,\n    Label \n} from \"reactstrap\";\nimport InputBox from \"../../components/InputBox\";\nimport Loading from \"../../components/Loading\";\nimport CustomersRequest from \"../../requests/customer\";\nimport securityIcon from \"./../../assets/img/icons/security-warning.svg\";\n\nfunction BlacklistDeviceDialog(props) {\n    const [customerPhoneNumber, setCustomerPhoneNumber] = useState(\"+2348030000000\");\n    const [reasonForBlacklist, setReasonForBlacklist] = useState(\"Fraud suspected\");\n\n    const [loading, setLoading] = useState(false);\n    const { blacklistDevice } = CustomersRequest();\n\n    const handleBlacklistDevice = async (e) => {\n        e.preventDefault();\n        setLoading(true);\n    \n        const response = await blacklistDevice({\n            adminName: props.fullName,\n            adminEmail: props.email,\n            customerPhone: customerPhoneNumber,\n            reason: reasonForBlacklist,\n            blacklist: true\n        });\n\n        if(response.code === \"00\") {\n            console.log(response);\n            alert(\"Blacklist Operation is successful\");\n            \n            setCustomerPhoneNumber(\"+2348030000000\");\n            setReasonForBlacklist(\"Fraud suspected\");\n            props.toggle();\n            setLoading(false);\n            return true;\n        } \n  \n        setLoading(false);\n        return false;\n    }\n    \n    return(\n        <>\n            <Modal isOpen={props.isOpen} toggle={props.toggle} className=\"admin-modal freeze-modal\">\n                <ModalHeader>Blacklist Device</ModalHeader>\n                <ModalBody>\n                    <div>\n                        <div className=\"text-center\">\n                            <img src={securityIcon} className=\"mb-3\" alt=\"security warning icon\" />\n                            <p>Are you sure you want to blacklist the {props.title} device connected to this account?</p>\n                        </div>\n                        <Form>\n                            <FormGroup>\n                                <InputBox\n                                    type=\"text\"\n                                    name=\"adminFullName\" \n                                    id=\"adminFullName\"\n                                    value={customerPhoneNumber}\n                                    onChange={(e) => setCustomerPhoneNumber(e.target.value)}\n                                />\n                                <Label for=\"adminFullName\">Admin Full Name</Label>\n                            </FormGroup>\n                            <FormGroup className=\"pb-3\">\n                                <InputBox\n                                    type=\"textarea\"\n                                    name=\"reasonForBlacklist\"\n                                    id=\"reasonForBlacklist\"\n                                    value={reasonForBlacklist}\n                                    rows=\"4\"\n                                    onChange={(e) => setReasonForBlacklist(e.target.value)}\n                                />\n                            </FormGroup>\n                        </Form>\n                        <hr/>\n                        <div className=\"d-flex justify-content-between\">\n                            <Button \n                                color=\"info\" \n                                className=\"btn-cancel\" \n                                onClick={props.toggle}\n                            >\n                                Cancel\n                            </Button>\n                            <Button \n                                color=\"danger\" \n                                className=\"btn-delete\" \n                                onClick={handleBlacklistDevice}\n                            >\n                                {loading ? <Loading /> : \"Yes, Blacklist\"}\n                            </Button>\n                        </div>\n                    </div>\n                </ModalBody>\n            </Modal>\n        </>\n    );\n}\n\nconst mapStateToProps = (state) => ({\n    fullName: state.user?.details?.admin?.fullname,\n    email: state.user?.details?.admin?.email,\n});\n\nexport default connect(mapStateToProps)(BlacklistDeviceDialog);"]},"metadata":{},"sourceType":"module"}