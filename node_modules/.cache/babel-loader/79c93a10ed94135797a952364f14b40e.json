{"ast":null,"code":"import _slicedToArray from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import BootstrapTable from\"react-bootstrap-table-next\";import ToolkitProvider from\"react-bootstrap-table2-toolkit\";import paginationFactory from\"react-bootstrap-table2-paginator\";import Loader from\"../../../components/Loader\";import{Badge}from\"reactstrap\";import CustomerTableHeader from\"./CustomerTableHeader\";import{useHistory}from\"react-router-dom\";var tableColumns=[{dataField:\"name\",text:\"Name\"},{dataField:\"phoneno\",text:\"Phone number\"},{dataField:\"customerId\",text:\"Customer ID\"},{dataField:\"kycLevel\",text:\"KYC Level\"},{dataField:\"primaryWalletBal\",text:\"Prim. Wallet Balance\",classes:\"text-right\",headerClasses:\"text-right\",formatter:function formatter(cell,row,rowIndex){return/*#__PURE__*/React.createElement(\"span\",null,\"\\u20A6\",cell.toLocaleString());}},{dataField:\"lastActive\",text:\"Last active\"},{dataField:\"status\",text:\"Status\",headerClasses:\"text-center\",formatter:function formatter(cell,row,rowIndex){if(cell.toLowerCase()===\"inactive\"){return/*#__PURE__*/React.createElement(Badge,{color:\"secondary\",className:\"badge-inactive\"},cell);}if(cell.toLowerCase()===\"active\"){return/*#__PURE__*/React.createElement(Badge,{color:\"secondary\",className:\"badge-active\"},cell);}if(cell.toLowerCase()===\"new\"){return/*#__PURE__*/React.createElement(Badge,{color:\"secondary\",className:\"badge-new\"},cell);}if(cell.toLowerCase()===\"dormant\"){return/*#__PURE__*/React.createElement(Badge,{color:\"secondary\",className:\"badge-dormant\"},cell);}}}];export default function CustomerTable(_ref){var setShowDetails=_ref.setShowDetails,tableData=_ref.tableData,setPhoneNumber=_ref.setPhoneNumber;var history=useHistory();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isfiltered=_useState2[0],setIsFiltered=_useState2[1];var _useState3=useState(tableData),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];useEffect(function(){setData(tableData);},[tableData]);var Filter=function Filter(data){setData(\"\");var check=data.status.length>0||data.kycLevel.length>0;setTimeout(function(){var filtered=tableData.filter(function(product){if(check){setIsFiltered(true);return data.status.includes(product.status.toLowerCase())||data.kycLevel.includes(product.kycLevel.toString().toLowerCase());}else{setIsFiltered(false);return product;}});setData(filtered);},500);};var customTotal=function customTotal(from,to,size){return/*#__PURE__*/React.createElement(\"span\",{className:\"react-bootstrap-table-pagination-total\"},\"Showing \",from,\" to \",to,\" of \",size,\" Results\");};var rowEvents={onClick:function onClick(e,row,rowIndex){// setShowDetails((prev) => !prev);\nsetPhoneNumber(row.phoneno);history.push(\"/customers/details/\".concat(row.phoneno));}};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"admin-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"all-admins\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"table-title\"},\"All Settl Customers\"),/*#__PURE__*/React.createElement(\"div\",{className:\"admin-table\"},/*#__PURE__*/React.createElement(ToolkitProvider,{responsive:true,keyField:\"id\",data:data?data:[],columns:tableColumns,exportCSV:{fileName:\"customer data.csv\"},search:true},function(props){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(CustomerTableHeader,{csvData:props.csvProps,filter:Filter,filtered:isfiltered,dataLength:data===null||data===void 0?void 0:data.length,search:props.searchProps}),!data?/*#__PURE__*/React.createElement(Loader,null):/*#__PURE__*/React.createElement(BootstrapTable,Object.assign({bootstrap4:true,bordered:false,wrapperClasses:\"table-responsive\",rowEvents:rowEvents,pagination:paginationFactory({sizePerPage:9,hideSizePerPage:true,showTotal:true,paginationTotalRenderer:customTotal})},props.baseProps)));})))));}","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/src/pages/customers/settl-customers/CustomersTable.js"],"names":["React","useState","useEffect","BootstrapTable","ToolkitProvider","paginationFactory","Loader","Badge","CustomerTableHeader","useHistory","tableColumns","dataField","text","classes","headerClasses","formatter","cell","row","rowIndex","toLocaleString","toLowerCase","CustomerTable","setShowDetails","tableData","setPhoneNumber","history","isfiltered","setIsFiltered","data","setData","Filter","check","status","length","kycLevel","setTimeout","filtered","filter","product","includes","toString","customTotal","from","to","size","rowEvents","onClick","e","phoneno","push","fileName","props","csvProps","searchProps","sizePerPage","hideSizePerPage","showTotal","paginationTotalRenderer","baseProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport ToolkitProvider from \"react-bootstrap-table2-toolkit\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport Loader from \"../../../components/Loader\";\nimport { Badge } from \"reactstrap\";\nimport CustomerTableHeader from \"./CustomerTableHeader\";\nimport { useHistory } from \"react-router-dom\";\n\nconst tableColumns = [\n  {\n    dataField: \"name\",\n    text: \"Name\",\n  },\n  {\n    dataField: \"phoneno\",\n    text: \"Phone number\",\n  },\n  {\n    dataField: \"customerId\",\n    text: \"Customer ID\",\n  },\n  {\n    dataField: \"kycLevel\",\n    text: \"KYC Level\",\n  },\n  {\n    dataField: \"primaryWalletBal\",\n    text: \"Prim. Wallet Balance\",\n    classes: \"text-right\",\n    headerClasses: \"text-right\",\n    formatter: (cell, row, rowIndex) => <span>â‚¦{cell.toLocaleString()}</span>,\n  },\n  {\n    dataField: \"lastActive\",\n    text: \"Last active\",\n  },\n  {\n    dataField: \"status\",\n    text: \"Status\",\n    headerClasses: \"text-center\",\n    formatter: (cell, row, rowIndex) => {\n      if (cell.toLowerCase() === \"inactive\") {\n        return (\n          <Badge color=\"secondary\" className=\"badge-inactive\">\n            {cell}\n          </Badge>\n        );\n      }\n      if (cell.toLowerCase() === \"active\") {\n        return (\n          <Badge color=\"secondary\" className=\"badge-active\">\n            {cell}\n          </Badge>\n        );\n      }\n      if (cell.toLowerCase() === \"new\") {\n        return (\n          <Badge color=\"secondary\" className=\"badge-new\">\n            {cell}\n          </Badge>\n        );\n      }\n      if (cell.toLowerCase() === \"dormant\") {\n        return (\n          <Badge color=\"secondary\" className=\"badge-dormant\">\n            {cell}\n          </Badge>\n        );\n      }\n    },\n  },\n];\n\nexport default function CustomerTable({\n  setShowDetails,\n  tableData,\n  setPhoneNumber,\n}) {\n  const history = useHistory();\n  const [isfiltered, setIsFiltered] = useState(false);\n  const [data, setData] = useState(tableData);\n  useEffect(() => {\n    setData(tableData);\n  }, [tableData]);\n\n  const Filter = (data) => {\n    setData(\"\");\n    const check = data.status.length > 0 || data.kycLevel.length > 0;\n\n    setTimeout(() => {\n      const filtered = tableData.filter((product) => {\n        if (check) {\n          setIsFiltered(true);\n          return (\n            data.status.includes(product.status.toLowerCase()) ||\n            data.kycLevel.includes(product.kycLevel.toString().toLowerCase())\n          );\n        } else {\n          setIsFiltered(false);\n          return product;\n        }\n      });\n      setData(filtered);\n    }, 500);\n  };\n\n  const customTotal = (from, to, size) => (\n    <span className=\"react-bootstrap-table-pagination-total\">\n      Showing {from} to {to} of {size} Results\n    </span>\n  );\n\n  const rowEvents = {\n    onClick: (e, row, rowIndex) => {\n      // setShowDetails((prev) => !prev);\n      setPhoneNumber(row.phoneno);\n      history.push(`/customers/details/${row.phoneno}`);\n    },\n  };\n\n  return (\n    <>\n      <div className=\"admin-body\">\n        <div className=\"all-admins\">\n          <h6 className=\"table-title\">All Settl Customers</h6>\n          <div className=\"admin-table\">\n            <ToolkitProvider\n              responsive\n              keyField=\"id\"\n              data={data ? data : []}\n              columns={tableColumns}\n              exportCSV={{\n                fileName: \"customer data.csv\",\n              }}\n              search\n            >\n              {(props) => (\n                <div>\n                  <CustomerTableHeader\n                    csvData={props.csvProps}\n                    filter={Filter}\n                    filtered={isfiltered}\n                    dataLength={data?.length}\n                    search={props.searchProps}\n                  />\n                  {!data ? (\n                    <Loader />\n                  ) : (\n                    <BootstrapTable\n                      bootstrap4\n                      bordered={false}\n                      wrapperClasses=\"table-responsive\"\n                      rowEvents={rowEvents}\n                      pagination={paginationFactory({\n                        sizePerPage: 9,\n                        hideSizePerPage: true,\n                        showTotal: true,\n                        paginationTotalRenderer: customTotal,\n                      })}\n                      {...props.baseProps}\n                    />\n                  )}\n                </div>\n              )}\n            </ToolkitProvider>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}