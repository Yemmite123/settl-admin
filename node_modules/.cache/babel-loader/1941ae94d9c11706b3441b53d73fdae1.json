{"ast":null,"code":"import _slicedToArray from \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settladminfront-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settladminfront-end/src/pages/dashboards/Issue Resolution/Table.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport ToolkitProvider from \"react-bootstrap-table2-toolkit\";\nimport Header from \"./TableHeader\";\nimport Loader from \"../../../components/Loader\";\nimport Modal from \"./Modal\";\n\nvar Table = function Table(_ref) {\n  var issueLogsData = _ref.issueLogsData,\n      reload = _ref.reload;\n\n  //const propsData = issueLogsData;\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isfiltered = _useState2[0],\n      setIsFiltered = _useState2[1];\n\n  var _useState3 = useState(issueLogsData),\n      _useState4 = _slicedToArray(_useState3, 2),\n      issueData = _useState4[0],\n      setData = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      show = _useState6[0],\n      setShow = _useState6[1];\n\n  var _useState7 = useState({}),\n      _useState8 = _slicedToArray(_useState7, 2),\n      modalData = _useState8[0],\n      setModalData = _useState8[1];\n\n  var currentDate = new Date();\n  var currentDateFormat = currentDate.setHours(0, 0, 0, 0);\n\n  var SearchFilter = function SearchFilter(data) {\n    var filtered = issueLogsData;\n\n    if (data.name === \"Issue ID\") {\n      filtered = issueLogsData.filter(function (product) {\n        var _product$issueId;\n\n        return product === null || product === void 0 ? void 0 : (_product$issueId = product.issueId) === null || _product$issueId === void 0 ? void 0 : _product$issueId.toLocaleLowerCase().startsWith(data.value.trim());\n      });\n    }\n\n    if (data.name === \"Transaction ID\") {\n      filtered = issueLogsData.filter(function (product) {\n        var _product$transactionI;\n\n        return product === null || product === void 0 ? void 0 : (_product$transactionI = product.transactionId) === null || _product$transactionI === void 0 ? void 0 : _product$transactionI.toLocaleLowerCase().startsWith(data.value.trim());\n      });\n    }\n\n    if (data.name === \"Phone Number\") {\n      filtered = issueLogsData.filter(function (product) {\n        var _product$customerid;\n\n        return product === null || product === void 0 ? void 0 : (_product$customerid = product.customerid) === null || _product$customerid === void 0 ? void 0 : _product$customerid.toLocaleString().startsWith(data.value.trim());\n      });\n    }\n\n    setData(filtered);\n  };\n\n  var Filter = function Filter(data) {\n    console.log(data);\n    console.log(issueLogsData);\n    setData(\"\");\n    var check = (data === null || data === void 0 ? void 0 : data.type.length) > 0 || (data === null || data === void 0 ? void 0 : data.status.length) > 0 || (data === null || data === void 0 ? void 0 : data.startDate) !== currentDateFormat || (data === null || data === void 0 ? void 0 : data.endDate) !== currentDateFormat;\n    console.log(issueLogsData.map(function (p) {\n      return p;\n    }));\n    setTimeout(function () {\n      var filtered = issueLogsData.filter(function (product) {\n        if (check) {\n          var _product$status, _product$transactionT;\n\n          setIsFiltered(true);\n          var productDate = new Date(product.createdDate).setHours(0, 0, 0, 0);\n          return data.status.includes(product === null || product === void 0 ? void 0 : (_product$status = product.status) === null || _product$status === void 0 ? void 0 : _product$status.toLowerCase()) || data.type.includes(product === null || product === void 0 ? void 0 : (_product$transactionT = product.transactionType) === null || _product$transactionT === void 0 ? void 0 : _product$transactionT.toLowerCase()) || productDate >= data.startDate && productDate <= data.endDate;\n        } else {\n          setIsFiltered(false);\n          return product;\n        }\n      });\n      setData(filtered);\n    }, 500);\n  };\n\n  var columns = [{\n    dataField: \"id\",\n    text: \"#\",\n    headerStyle: {\n      backgroundColor: \"#F8F9FA\",\n      border: \"none\",\n      fontSize: \"13px\",\n      width: \"70px\",\n      textAlign: \"center\"\n    },\n    formatter: function formatter(cell, row, rowIndex) {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: \"d-flex justify-content-center\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }\n      }, rowIndex + 1);\n    }\n  }, {\n    dataField: \"createdBy\",\n    text: \"Created By\",\n    headerStyle: {\n      backgroundColor: \"#F8F9FA\",\n      border: \"none\",\n      fontSize: \"13px\"\n    }\n  }, {\n    dataField: \"issueId\",\n    text: \"Issue ID\",\n    headerStyle: {\n      backgroundColor: \"#F8F9FA\",\n      border: \"none\",\n      fontSize: \"13px\"\n    }\n  }, {\n    dataField: \"transactionId\",\n    text: \"Transaction ID\",\n    headerStyle: {\n      backgroundColor: \"#F8F9FA\",\n      border: \"none\",\n      fontSize: \"13px\"\n    }\n  }, {\n    dataField: \"transactionType\",\n    text: \"Transaction Type\",\n    headerStyle: {\n      backgroundColor: \"#F8F9FA\",\n      border: \"none\",\n      fontSize: \"13px\"\n    }\n  }, {\n    dataField: \"createdDate\",\n    text: \"Date Created\",\n    headerStyle: {\n      backgroundColor: \"#F8F9FA\",\n      border: \"none\",\n      fontSize: \"13px\"\n    }\n  }, {\n    dataField: \"status\",\n    text: \"Status\",\n    headerStyle: {\n      backgroundColor: \"#F8F9FA\",\n      border: \"none\",\n      fontSize: \"13px\",\n      textAlign: \"center\"\n    },\n    style: function style() {\n      return {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      };\n    },\n    formatter: function formatter(cell, row, rowIndex) {\n      if (cell.toLowerCase() === \"resolved\") {\n        return /*#__PURE__*/React.createElement(\"p\", {\n          className: \"status success\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 18\n          }\n        }, cell);\n      } else if (cell.toLowerCase() === \"pending\") {\n        return /*#__PURE__*/React.createElement(\"p\", {\n          className: \"pending status\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 18\n          }\n        }, cell);\n      } else {\n        return /*#__PURE__*/React.createElement(\"p\", {\n          className: \"status failed\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 18\n          }\n        }, cell);\n      }\n    }\n  }];\n\n  var customTotal = function customTotal(from, to, size) {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"react-bootstrap-table-pagination-total\",\n      style: {\n        padding: \"1rem\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 5\n      }\n    }, \"Showing \", from, \" to \", to, \" of \", size, \" Results\");\n  };\n\n  var rowStyle = {\n    border: \"none\",\n    padding: \"21px\",\n    cursor: \"pointer\"\n  };\n  var rowEvent = {\n    onClick: function onClick(e, row, rowIndex) {\n      setShow(true);\n      setModalData(row);\n    }\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ToolkitProvider, {\n    responsive: true,\n    keyField: \"id\",\n    data: issueData,\n    columns: columns,\n    exportCSV: {\n      fileName: \"issue log.csv\"\n    },\n    search: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }\n  }, function (props) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bg_absolute\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      csvData: props.csvProps,\n      search: props.searchProps,\n      filter: Filter,\n      filtered: isfiltered,\n      dataLength: issueData.length,\n      SearchFilter: SearchFilter,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table\",\n      style: {\n        marginTop: \"6rem\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"table_title\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 15\n      }\n    }, \"Issue Logs\"), !issueData ? /*#__PURE__*/React.createElement(Loader, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 17\n      }\n    }) : /*#__PURE__*/React.createElement(BootstrapTable, Object.assign({}, props.baseProps, {\n      bordered: false,\n      rowEvents: rowEvent,\n      rowStyle: rowStyle,\n      pagination: paginationFactory({\n        sizePerPage: 9,\n        hideSizePerPage: true,\n        showTotal: true,\n        paginationTotalRenderer: customTotal\n      }),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 17\n      }\n    }))));\n  }), /*#__PURE__*/React.createElement(Modal, {\n    show: show,\n    setShow: setShow,\n    data: modalData,\n    setData: reload,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default Table;","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settladminfront-end/src/pages/dashboards/Issue Resolution/Table.js"],"names":["React","useState","useEffect","BootstrapTable","paginationFactory","ToolkitProvider","Header","Loader","Modal","Table","issueLogsData","reload","isfiltered","setIsFiltered","issueData","setData","show","setShow","modalData","setModalData","currentDate","Date","currentDateFormat","setHours","SearchFilter","data","filtered","name","filter","product","issueId","toLocaleLowerCase","startsWith","value","trim","transactionId","customerid","toLocaleString","Filter","console","log","check","type","length","status","startDate","endDate","map","p","setTimeout","productDate","createdDate","includes","toLowerCase","transactionType","columns","dataField","text","headerStyle","backgroundColor","border","fontSize","width","textAlign","formatter","cell","row","rowIndex","style","display","justifyContent","alignItems","customTotal","from","to","size","padding","rowStyle","cursor","rowEvent","onClick","e","fileName","props","csvProps","searchProps","marginTop","baseProps","sizePerPage","hideSizePerPage","showTotal","paginationTotalRenderer"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport ToolkitProvider from \"react-bootstrap-table2-toolkit\";\nimport Header from \"./TableHeader\";\nimport Loader from \"../../../components/Loader\";\nimport Modal from \"./Modal\";\n\nconst Table = ({ issueLogsData, reload }) => {\n  //const propsData = issueLogsData;\n  const [isfiltered, setIsFiltered] = useState(false);\n  const [issueData, setData] = useState(issueLogsData);\n  const [show, setShow] = useState(false);\n  const [modalData, setModalData] = useState({});\n  const currentDate = new Date();\n  const currentDateFormat = currentDate.setHours(0, 0, 0, 0);\n\n  const SearchFilter = (data) => {\n    let filtered = issueLogsData;\n    if (data.name === \"Issue ID\") {\n      filtered = issueLogsData.filter((product) =>\n        product?.issueId?.toLocaleLowerCase().startsWith(data.value.trim())\n      );\n    }\n    if (data.name === \"Transaction ID\") {\n      filtered = issueLogsData.filter((product) =>\n        product?.transactionId\n          ?.toLocaleLowerCase()\n          .startsWith(data.value.trim())\n      );\n    }\n    if (data.name === \"Phone Number\") {\n      filtered = issueLogsData.filter((product) =>\n        product?.customerid?.toLocaleString().startsWith(data.value.trim())\n      );\n    }\n    setData(filtered);\n  };\n  const Filter = (data) => {\n    console.log(data);\n    console.log(issueLogsData);\n    setData(\"\");\n    const check =\n      data?.type.length > 0 ||\n      data?.status.length > 0 ||\n      data?.startDate !== currentDateFormat ||\n      data?.endDate !== currentDateFormat;\n    console.log(issueLogsData.map((p) => p));\n\n    setTimeout(() => {\n      const filtered = issueLogsData.filter((product) => {\n        if (check) {\n          setIsFiltered(true);\n          const productDate = new Date(product.createdDate).setHours(\n            0,\n            0,\n            0,\n            0\n          );\n          return (\n            data.status.includes(product?.status?.toLowerCase()) ||\n            data.type.includes(product?.transactionType?.toLowerCase()) ||\n            (productDate >= data.startDate && productDate <= data.endDate)\n          );\n        } else {\n          setIsFiltered(false);\n          return product;\n        }\n      });\n      setData(filtered);\n    }, 500);\n  };\n  const columns = [\n    {\n      dataField: \"id\",\n      text: \"#\",\n      headerStyle: {\n        backgroundColor: \"#F8F9FA\",\n        border: \"none\",\n        fontSize: \"13px\",\n        width: \"70px\",\n        textAlign: \"center\",\n      },\n      formatter: (cell, row, rowIndex) => {\n        return (\n          <span className=\"d-flex justify-content-center\">{rowIndex + 1}</span>\n        );\n      },\n    },\n    {\n      dataField: \"createdBy\",\n      text: \"Created By\",\n      headerStyle: {\n        backgroundColor: \"#F8F9FA\",\n        border: \"none\",\n        fontSize: \"13px\",\n      },\n    },\n    {\n      dataField: \"issueId\",\n      text: \"Issue ID\",\n      headerStyle: {\n        backgroundColor: \"#F8F9FA\",\n        border: \"none\",\n        fontSize: \"13px\",\n      },\n    },\n    {\n      dataField: \"transactionId\",\n      text: \"Transaction ID\",\n      headerStyle: {\n        backgroundColor: \"#F8F9FA\",\n        border: \"none\",\n        fontSize: \"13px\",\n      },\n    },\n    {\n      dataField: \"transactionType\",\n      text: \"Transaction Type\",\n      headerStyle: {\n        backgroundColor: \"#F8F9FA\",\n        border: \"none\",\n        fontSize: \"13px\",\n      },\n    },\n    {\n      dataField: \"createdDate\",\n      text: \"Date Created\",\n      headerStyle: {\n        backgroundColor: \"#F8F9FA\",\n        border: \"none\",\n        fontSize: \"13px\",\n      },\n    },\n    {\n      dataField: \"status\",\n      text: \"Status\",\n      headerStyle: {\n        backgroundColor: \"#F8F9FA\",\n        border: \"none\",\n        fontSize: \"13px\",\n        textAlign: \"center\",\n      },\n      style: () => {\n        return {\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n        };\n      },\n      formatter: (cell, row, rowIndex) => {\n        if (cell.toLowerCase() === \"resolved\") {\n          return <p className=\"status success\">{cell}</p>;\n        } else if (cell.toLowerCase() === \"pending\") {\n          return <p className=\"pending status\">{cell}</p>;\n        } else {\n          return <p className=\"status failed\">{cell}</p>;\n        }\n      },\n    },\n  ];\n  const customTotal = (from, to, size) => (\n    <span\n      className=\"react-bootstrap-table-pagination-total\"\n      style={{\n        padding: \"1rem\",\n      }}\n    >\n      Showing {from} to {to} of {size} Results\n    </span>\n  );\n  const rowStyle = {\n    border: \"none\",\n    padding: \"21px\",\n    cursor: \"pointer\",\n  };\n  const rowEvent = {\n    onClick: (e, row, rowIndex) => {\n      setShow(true);\n      setModalData(row);\n    },\n  };\n  return (\n    <>\n      <ToolkitProvider\n        responsive\n        keyField=\"id\"\n        data={issueData}\n        columns={columns}\n        exportCSV={{\n          fileName: \"issue log.csv\",\n        }}\n        search\n      >\n        {(props) => (\n          <>\n            <div className=\"bg_absolute\">\n              <Header\n                csvData={props.csvProps}\n                search={props.searchProps}\n                filter={Filter}\n                filtered={isfiltered}\n                dataLength={issueData.length}\n                SearchFilter={SearchFilter}\n              />\n            </div>\n            <div\n              className=\"table\"\n              style={{\n                marginTop: \"6rem\",\n              }}\n            >\n              <p className=\"table_title\">Issue Logs</p>\n              {!issueData ? (\n                <Loader />\n              ) : (\n                <BootstrapTable\n                  {...props.baseProps}\n                  bordered={false}\n                  rowEvents={rowEvent}\n                  rowStyle={rowStyle}\n                  pagination={paginationFactory({\n                    sizePerPage: 9,\n                    hideSizePerPage: true,\n                    showTotal: true,\n                    paginationTotalRenderer: customTotal,\n                  })}\n                />\n              )}\n              {/* <BootstrapTable\n                {...props.baseProps}\n                bordered={false}\n                rowEvents={rowEvent}\n                rowStyle={rowStyle}\n                pagination={paginationFactory({\n                  sizePerPage: 9,\n                  hideSizePerPage: true,\n                  showTotal: true,\n                  paginationTotalRenderer: customTotal,\n                })}\n              /> */}\n            </div>\n          </>\n        )}\n      </ToolkitProvider>\n      <Modal show={show} setShow={setShow} data={modalData} setData={reload} />\n    </>\n  );\n};\nexport default Table;\n"]},"metadata":{},"sourceType":"module"}