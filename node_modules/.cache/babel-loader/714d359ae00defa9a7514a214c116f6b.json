{"ast":null,"code":"import _regeneratorRuntime from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Header from\"../../../../components/Header\";import logo from\"../../../../assets/img/icons/issue logo.svg\";import Statistics from\"../Statistic\";import Chart from\"./Chart\";import PerformanceChart from\"./PerformaceChart\";import Loader from\"../../../../components/Loader\";import Request from\"../request\";var Analytics=function Analytics(){var _Request=Request(),performance=_Request.performance,issueAnalytics=_Request.issueAnalytics;var text=[\"Today   \",\"Last 7 Days\",\"Last 30 days\",\"Last 90 Days\"];var _useState=useState(null),_useState2=_slicedToArray(_useState,2),stats=_useState2[0],setStats=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),charts=_useState4[0],setChartsData=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),perfData=_useState6[0],setPerfData=_useState6[1];var _useState7=useState(30),_useState8=_slicedToArray(_useState7,2),days=_useState8[0],setDays=_useState8[1];var _useState9=useState(text[2]),_useState10=_slicedToArray(_useState9,2),filterText=_useState10[0],setFilterText=_useState10[1];var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,_response$data,totalIssueReport,percentTotalReport,totalIssueResolved,percentIssueResolved,totalPendingIssues,percentPendingIssues,totalInProgressIssues,percentInProgressIssues,billpaymentData,p2PData,savings,transfers;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return issueAnalytics(days);case 2:response=_context.sent;if(response.code===\"00\"){_response$data=response.data,totalIssueReport=_response$data.totalIssueReport,percentTotalReport=_response$data.percentTotalReport,totalIssueResolved=_response$data.totalIssueResolved,percentIssueResolved=_response$data.percentIssueResolved,totalPendingIssues=_response$data.totalPendingIssues,percentPendingIssues=_response$data.percentPendingIssues,totalInProgressIssues=_response$data.totalInProgressIssues,percentInProgressIssues=_response$data.percentInProgressIssues,billpaymentData=_response$data.billpaymentData,p2PData=_response$data.p2PData,savings=_response$data.savings,transfers=_response$data.transfers;setStats({totalIssueReport:totalIssueReport,percentTotalReport:percentTotalReport,totalIssueResolved:totalIssueResolved,percentIssueResolved:percentIssueResolved,totalPendingIssues:totalPendingIssues,percentPendingIssues:percentPendingIssues,totalInProgressIssues:totalInProgressIssues,percentInProgressIssues:percentInProgressIssues});setChartsData({billpaymentData:billpaymentData,p2PData:p2PData,savings:savings,transfers:transfers});}case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();var getPerformanceData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return performance(days);case 2:response=_context2.sent;if(response.code===\"00\"){setPerfData(response.data);}case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function getPerformanceData(){return _ref2.apply(this,arguments);};}();var getBothData=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetchData();case 2:_context3.next=4;return getPerformanceData();case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function getBothData(){return _ref3.apply(this,arguments);};}();var updateDays=function updateDays(day,index){if(filterText!==text[index]){setPerfData(null);setChartsData(null);setStats(null);setDays(day);setFilterText(text[index]);}};useEffect(function(){getBothData();},[days]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,{logo:logo,name:\"Issue Analytics\",calendar:true,updateDays:updateDays,filterText:filterText}),!stats&&!charts?/*#__PURE__*/React.createElement(Loader,null):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Statistics,{data:stats}),/*#__PURE__*/React.createElement(Chart,null)),/*#__PURE__*/React.createElement(PerformanceChart,{data:perfData}));};export default Analytics;","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/src/pages/dashboards/Issue Resolution/Analytics/index.js"],"names":["React","useState","useEffect","Header","Statistics","Chart","PerformanceChart","Loader","Request","Analytics","performance","issueAnalytics","text","stats","setStats","charts","setChartsData","perfData","setPerfData","days","setDays","filterText","setFilterText","fetchData","response","code","data","totalIssueReport","percentTotalReport","totalIssueResolved","percentIssueResolved","totalPendingIssues","percentPendingIssues","totalInProgressIssues","percentInProgressIssues","billpaymentData","p2PData","savings","transfers","getPerformanceData","getBothData","updateDays","day","index","logo"],"mappings":"6mBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,+BAAnB,C,8DAEA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,mBAA7B,CACA,MAAOC,CAAAA,MAAP,KAAmB,+BAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,YAApB,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB,aAAwCD,OAAO,EAA/C,CAAQE,WAAR,UAAQA,WAAR,CAAqBC,cAArB,UAAqBA,cAArB,CACA,GAAMC,CAAAA,IAAI,CAAG,CAAC,UAAD,CAAa,aAAb,CAA4B,cAA5B,CAA4C,cAA5C,CAAb,CAEA,cAA0BX,QAAQ,CAAC,IAAD,CAAlC,wCAAOY,KAAP,eAAcC,QAAd,eACA,eAAgCb,QAAQ,CAAC,IAAD,CAAxC,yCAAOc,MAAP,eAAeC,aAAf,eACA,eAAgCf,QAAQ,CAAC,IAAD,CAAxC,yCAAOgB,QAAP,eAAiBC,WAAjB,eAEA,eAAwBjB,QAAQ,CAAC,EAAD,CAAhC,yCAAOkB,IAAP,eAAaC,OAAb,eACA,eAAoCnB,QAAQ,CAACW,IAAI,CAAC,CAAD,CAAL,CAA5C,0CAAOS,UAAP,gBAAmBC,aAAnB,gBAEA,GAAMC,CAAAA,SAAS,0FAAG,iYACOZ,CAAAA,cAAc,CAACQ,IAAD,CADrB,QACVK,QADU,eAEhB,GAAIA,QAAQ,CAACC,IAAT,GAAkB,IAAtB,CAA4B,gBActBD,QAAQ,CAACE,IAda,CAExBC,gBAFwB,gBAExBA,gBAFwB,CAGxBC,kBAHwB,gBAGxBA,kBAHwB,CAIxBC,kBAJwB,gBAIxBA,kBAJwB,CAKxBC,oBALwB,gBAKxBA,oBALwB,CAMxBC,kBANwB,gBAMxBA,kBANwB,CAOxBC,oBAPwB,gBAOxBA,oBAPwB,CAQxBC,qBARwB,gBAQxBA,qBARwB,CASxBC,uBATwB,gBASxBA,uBATwB,CAUxBC,eAVwB,gBAUxBA,eAVwB,CAWxBC,OAXwB,gBAWxBA,OAXwB,CAYxBC,OAZwB,gBAYxBA,OAZwB,CAaxBC,SAbwB,gBAaxBA,SAbwB,CAe1BxB,QAAQ,CAAC,CACPa,gBAAgB,CAAhBA,gBADO,CAEPC,kBAAkB,CAAlBA,kBAFO,CAGPC,kBAAkB,CAAlBA,kBAHO,CAIPC,oBAAoB,CAApBA,oBAJO,CAKPC,kBAAkB,CAAlBA,kBALO,CAMPC,oBAAoB,CAApBA,oBANO,CAOPC,qBAAqB,CAArBA,qBAPO,CAQPC,uBAAuB,CAAvBA,uBARO,CAAD,CAAR,CAUAlB,aAAa,CAAC,CAAEmB,eAAe,CAAfA,eAAF,CAAmBC,OAAO,CAAPA,OAAnB,CAA4BC,OAAO,CAAPA,OAA5B,CAAqCC,SAAS,CAATA,SAArC,CAAD,CAAb,CACD,CA5Be,sDAAH,kBAATf,CAAAA,SAAS,0CAAf,CA8BA,GAAMgB,CAAAA,kBAAkB,2FAAG,4KACF7B,CAAAA,WAAW,CAACS,IAAD,CADT,QACnBK,QADmB,gBAEzB,GAAIA,QAAQ,CAACC,IAAT,GAAkB,IAAtB,CAA4B,CAC1BP,WAAW,CAACM,QAAQ,CAACE,IAAV,CAAX,CACD,CAJwB,wDAAH,kBAAlBa,CAAAA,kBAAkB,2CAAxB,CAMA,GAAMC,CAAAA,WAAW,2FAAG,+JACZjB,CAAAA,SAAS,EADG,+BAEZgB,CAAAA,kBAAkB,EAFN,yDAAH,kBAAXC,CAAAA,WAAW,2CAAjB,CAKA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,GAAD,CAAMC,KAAN,CAAgB,CACjC,GAAItB,UAAU,GAAKT,IAAI,CAAC+B,KAAD,CAAvB,CAAgC,CAC9BzB,WAAW,CAAC,IAAD,CAAX,CACAF,aAAa,CAAC,IAAD,CAAb,CACAF,QAAQ,CAAC,IAAD,CAAR,CACAM,OAAO,CAACsB,GAAD,CAAP,CACApB,aAAa,CAACV,IAAI,CAAC+B,KAAD,CAAL,CAAb,CACD,CACF,CARD,CASAzC,SAAS,CAAC,UAAM,CACdsC,WAAW,GACZ,CAFQ,CAEN,CAACrB,IAAD,CAFM,CAAT,CAGA,mBACE,4CACE,oBAAC,MAAD,EACE,IAAI,CAAEyB,IADR,CAEE,IAAI,CAAC,iBAFP,CAGE,QAAQ,KAHV,CAIE,UAAU,CAAEH,UAJd,CAKE,UAAU,CAAEpB,UALd,EADF,CAQG,CAACR,KAAD,EAAU,CAACE,MAAX,cACC,oBAAC,MAAD,MADD,cAGC,qDACE,oBAAC,UAAD,EAAY,IAAI,CAAEF,KAAlB,EADF,cAEE,oBAAC,KAAD,MAFF,CAXJ,cAiBE,oBAAC,gBAAD,EAAkB,IAAI,CAAEI,QAAxB,EAjBF,CADF,CAqBD,CArFD,CAsFA,cAAeR,CAAAA,SAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Header from \"../../../../components/Header\";\nimport logo from \"../../../../assets/img/icons/issue logo.svg\";\nimport Statistics from \"../Statistic\";\nimport Chart from \"./Chart\";\nimport PerformanceChart from \"./PerformaceChart\";\nimport Loader from \"../../../../components/Loader\";\nimport Request from \"../request\";\n\nconst Analytics = () => {\n  const { performance, issueAnalytics } = Request();\n  const text = [\"Today   \", \"Last 7 Days\", \"Last 30 days\", \"Last 90 Days\"];\n\n  const [stats, setStats] = useState(null);\n  const [charts, setChartsData] = useState(null);\n  const [perfData, setPerfData] = useState(null);\n\n  const [days, setDays] = useState(30);\n  const [filterText, setFilterText] = useState(text[2]);\n\n  const fetchData = async () => {\n    const response = await issueAnalytics(days);\n    if (response.code === \"00\") {\n      const {\n        totalIssueReport,\n        percentTotalReport,\n        totalIssueResolved,\n        percentIssueResolved,\n        totalPendingIssues,\n        percentPendingIssues,\n        totalInProgressIssues,\n        percentInProgressIssues,\n        billpaymentData,\n        p2PData,\n        savings,\n        transfers,\n      } = response.data;\n      setStats({\n        totalIssueReport,\n        percentTotalReport,\n        totalIssueResolved,\n        percentIssueResolved,\n        totalPendingIssues,\n        percentPendingIssues,\n        totalInProgressIssues,\n        percentInProgressIssues,\n      });\n      setChartsData({ billpaymentData, p2PData, savings, transfers });\n    }\n  };\n  const getPerformanceData = async () => {\n    const response = await performance(days);\n    if (response.code === \"00\") {\n      setPerfData(response.data);\n    }\n  };\n  const getBothData = async () => {\n    await fetchData();\n    await getPerformanceData();\n  };\n\n  const updateDays = (day, index) => {\n    if (filterText !== text[index]) {\n      setPerfData(null);\n      setChartsData(null);\n      setStats(null);\n      setDays(day);\n      setFilterText(text[index]);\n    }\n  };\n  useEffect(() => {\n    getBothData();\n  }, [days]);\n  return (\n    <div>\n      <Header\n        logo={logo}\n        name=\"Issue Analytics\"\n        calendar\n        updateDays={updateDays}\n        filterText={filterText}\n      />\n      {!stats && !charts ? (\n        <Loader />\n      ) : (\n        <>\n          <Statistics data={stats} />\n          <Chart />\n        </>\n      )}\n\n      <PerformanceChart data={perfData} />\n    </div>\n  );\n};\nexport default Analytics;\n"]},"metadata":{},"sourceType":"module"}