{"ast":null,"code":"import _slicedToArray from \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/src/routes/Routes.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Route, Switch, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { dashboard as dashboardRoutes, page as pageRoutes, customer as customerDetails } from \"./index\";\nimport DashboardLayout from \"../layouts/Dashboard\";\nimport AuthLayout from \"../layouts/Auth\";\nimport Page404 from \"../pages/auth/Page404\";\nimport ScrollToTop from \"../components/ScrollToTop\";\nimport { init as initApm } from \"@elastic/apm-rum\";\nimport { ApmRoute } from '@elastic/apm-rum-react';\nvar apm = initApm({\n  // serviceName: \"web\",\n  // serverUrl: \"https://58892ef9c1f846bb842830300d92dd35.apm.europe-west1.gcp.cloud.es.io\",\n  // logLevel: \"debug\",\n  // serviceVersion: \"1.0\",\n  ELASTIC_APM_API_KEY: \"YlFHSHczMEJfQm9Ndk0yUkQ0Ym86bTNESl8zX05TUUt5RDdXRTQ2LWFCdw==\",\n  ELASTIC_APM_ENVIRONMENT: \"Development\",\n  ELASTIC_APM_HOSTNAME: \"Settl BackOffice\",\n  ELASTIC_APM_SECRETTOKEN: \"qErPmHdvWQ6ScexmtE\",\n  ELASTIC_APM_SERVER_URL: \"https://beba7fc4cdda4a088f2915416b10b02e.apm.eu-west-1.aws.cloud.es.io:443\"\n});\n\nvar childRoutes = function childRoutes(Layout, routes, user) {\n  return routes.map(function (_ref, index) {\n    var children = _ref.children,\n        path = _ref.path,\n        Component = _ref.component;\n    return children ? // Route item with children\n    children.map(function (_ref2, index) {\n      var path = _ref2.path,\n          Component = _ref2.component;\n      return /*#__PURE__*/React.createElement(ApmRoute, {\n        key: index,\n        path: path,\n        exact: true,\n        render: function render(props) {\n          return user ? /*#__PURE__*/React.createElement(Layout, {\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 17\n            }\n          }))) : /*#__PURE__*/React.createElement(Redirect, {\n            to: \"/auth/sign-in\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 15\n            }\n          });\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 9\n        }\n      });\n    }) :\n    /*#__PURE__*/\n    // Route item without children\n    React.createElement(ApmRoute, {\n      key: index,\n      path: path,\n      exact: true,\n      render: function render(props) {\n        return user ? /*#__PURE__*/React.createElement(Layout, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }\n        }))) : /*#__PURE__*/React.createElement(Redirect, {\n          to: \"/auth/sign-in\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }\n        });\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }\n    });\n  });\n};\n\nvar Routes = function Routes(_ref3) {\n  var user = _ref3.user;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      time = _useState2[0],\n      setTime = _useState2[1];\n\n  var redirect = function redirect() {\n    if (time > 29) window.location.pathname = \"/\";\n    setTimeout(function () {\n      if (user) {\n        setTime(function (time) {\n          return time + 1;\n        });\n      }\n    }, 60000);\n  };\n\n  useEffect(function () {\n    redirect();\n  }, [user, time]);\n  return /*#__PURE__*/React.createElement(Router, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ScrollToTop, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, childRoutes(DashboardLayout, dashboardRoutes, user), childRoutes(DashboardLayout, customerDetails, user), childRoutes(AuthLayout, pageRoutes, true), /*#__PURE__*/React.createElement(ApmRoute, {\n    render: function render() {\n      return /*#__PURE__*/React.createElement(AuthLayout, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Page404, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 17\n        }\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }))));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var _state$user$details;\n\n  return {\n    user: (_state$user$details = state.user.details) === null || _state$user$details === void 0 ? void 0 : _state$user$details.token\n  };\n};\n\nexport default connect(mapStateToProps)(Routes);","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/src/routes/Routes.js"],"names":["React","useState","useEffect","BrowserRouter","Router","Route","Switch","Redirect","connect","dashboard","dashboardRoutes","page","pageRoutes","customer","customerDetails","DashboardLayout","AuthLayout","Page404","ScrollToTop","init","initApm","ApmRoute","apm","ELASTIC_APM_API_KEY","ELASTIC_APM_ENVIRONMENT","ELASTIC_APM_HOSTNAME","ELASTIC_APM_SECRETTOKEN","ELASTIC_APM_SERVER_URL","childRoutes","Layout","routes","user","map","index","children","path","Component","component","props","Routes","time","setTime","redirect","window","location","pathname","setTimeout","mapStateToProps","state","details","token"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  dashboard as dashboardRoutes,\r\n  page as pageRoutes,\r\n  customer as customerDetails,\r\n} from \"./index\";\r\nimport DashboardLayout from \"../layouts/Dashboard\";\r\nimport AuthLayout from \"../layouts/Auth\";\r\nimport Page404 from \"../pages/auth/Page404\";\r\n\r\nimport ScrollToTop from \"../components/ScrollToTop\";\r\nimport { init as initApm } from \"@elastic/apm-rum\";\r\nimport { ApmRoute } from '@elastic/apm-rum-react'\r\n\r\nconst apm = initApm({\r\n  // serviceName: \"web\",\r\n  // serverUrl: \"https://58892ef9c1f846bb842830300d92dd35.apm.europe-west1.gcp.cloud.es.io\",\r\n  // logLevel: \"debug\",\r\n  // serviceVersion: \"1.0\",\r\n  ELASTIC_APM_API_KEY: \"YlFHSHczMEJfQm9Ndk0yUkQ0Ym86bTNESl8zX05TUUt5RDdXRTQ2LWFCdw==\",\r\n  ELASTIC_APM_ENVIRONMENT: \"Development\",\r\n  ELASTIC_APM_HOSTNAME: \"Settl BackOffice\",\r\n  ELASTIC_APM_SECRETTOKEN: \"qErPmHdvWQ6ScexmtE\",\r\n  ELASTIC_APM_SERVER_URL: \"https://beba7fc4cdda4a088f2915416b10b02e.apm.eu-west-1.aws.cloud.es.io:443\"\r\n\r\n});\r\n\r\n\r\n\r\nconst childRoutes = (Layout, routes, user) =>\r\n  routes.map(({ children, path, component: Component }, index) =>\r\n    children ? (\r\n      // Route item with children\r\n      children.map(({ path, component: Component }, index) => (\r\n        \r\n        <ApmRoute\r\n          key={index}\r\n          path={path}\r\n          exact\r\n          render={(props) =>\r\n            user ? (\r\n              <Layout>\r\n                <Component {...props} />\r\n              </Layout>\r\n            ) : (\r\n              <Redirect to=\"/auth/sign-in\" />\r\n            )\r\n          }\r\n        />\r\n      ))\r\n    ) : (\r\n      // Route item without children\r\n      <ApmRoute\r\n        key={index}\r\n        path={path}\r\n        exact\r\n        render={(props) =>\r\n          user ? (\r\n            <Layout>\r\n              <Component {...props} />\r\n            </Layout>\r\n          ) : (\r\n            <Redirect to=\"/auth/sign-in\" />\r\n          )\r\n        }\r\n      />\r\n    )\r\n  );\r\n\r\nconst Routes = ({ user }) => {\r\n  const [time, setTime] = useState(0);\r\n  const redirect = () => {\r\n    if (time > 29) window.location.pathname = \"/\";\r\n    setTimeout(() => {\r\n      if (user) {\r\n        setTime((time) => time + 1);\r\n      }\r\n    }, 60000);\r\n  };\r\n  useEffect(() => {\r\n    redirect();\r\n  }, [user, time]);\r\n\r\n  return (\r\n    <Router>\r\n      <ScrollToTop>\r\n        <Switch>\r\n          {childRoutes(DashboardLayout, dashboardRoutes, user)}\r\n          {childRoutes(DashboardLayout, customerDetails, user)}\r\n          {childRoutes(AuthLayout, pageRoutes, true)}\r\n          <ApmRoute\r\n            render={() => (\r\n              <AuthLayout>\r\n                <Page404 />\r\n              </AuthLayout>\r\n            )}\r\n          />\r\n        </Switch>\r\n      </ScrollToTop>\r\n    </Router>\r\n  );\r\n};\r\nconst mapStateToProps = (state) => ({\r\n  user: state.user.details?.token,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Routes);\r\n"]},"metadata":{},"sourceType":"module"}