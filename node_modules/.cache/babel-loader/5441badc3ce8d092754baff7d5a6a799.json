{"ast":null,"code":"import _regeneratorRuntime from \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settladminfront-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settladminfront-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settladminfront-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settladminfront-end/src/pages/dashboards/Default/index.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { Row, Col } from \"reactstrap\";\nimport { TabContent, TabPane } from \"reactstrap\";\nimport BarChart from \"./BarChart\";\nimport Header from \"./Header\";\nimport AppDownloads from \"./AppDownloads\";\nimport Statistics from \"./Statistics\";\nimport { RefreshButton } from \"../../../components/RefreshButton\";\nimport { UncontrolledDropdown, DropdownToggle, DropdownMenu, DropdownItem } from \"reactstrap\";\nimport { Calendar } from \"react-feather\";\nimport Loader from \"../../../components/Loader\";\nimport Request from \"../../../requests/analytics\";\n\nvar Default = function Default() {\n  var text = [\"Today   \", \"Last 7 Days\", \"Last 30 days\", \"Last 90 Days\"];\n\n  var _Request = Request(),\n      userAnalytics = _Request.userAnalytics;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      activeTab = _useState2[0],\n      setActiveTab = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      userDetails = _useState4[0],\n      setUserDetails = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      appDownloads = _useState6[0],\n      setAppDownloads = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      chartsData = _useState8[0],\n      setChartsData = _useState8[1];\n\n  var _useState9 = useState(30),\n      _useState10 = _slicedToArray(_useState9, 2),\n      days = _useState10[0],\n      setDays = _useState10[1];\n\n  var _useState11 = useState(text[2]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      filterText = _useState12[0],\n      setFilterText = _useState12[1];\n\n  var tabs = [\"Settl  Customers\", \"Settl Agents\"];\n  var chartTitles = [{\n    bar: \"Customer Transactions\",\n    pie: \"App Downloads\"\n  }, {\n    bar: \"Agent & Super Agent Transactions\",\n    pie: \"Agent App Downloads\"\n  }];\n\n  var FetchData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return userAnalytics(days);\n\n            case 2:\n              response = _context.sent;\n              console.log(response);\n\n              if (!(response.code === \"00\")) {\n                _context.next = 11;\n                break;\n              }\n\n              _context.next = 7;\n              return setUserDetails([response.data.consumers, response.data.agents]);\n\n            case 7:\n              _context.next = 9;\n              return setAppDownloads([response.data.appDownloads.consumers, response.data.appDownloads.agents]);\n\n            case 9:\n              _context.next = 11;\n              return setChartsData([response.data.chartData.customer, response.data.chartData.agents]);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function FetchData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var refresh = function refresh() {\n    setUserDetails(null);\n    setAppDownloads(null);\n    setChartsData(null);\n    FetchData();\n  };\n\n  var updateDays = function updateDays(day, index) {\n    if (filterText !== text[index]) {\n      setChartsData(null);\n      setAppDownloads(null);\n      setDays(day);\n      setFilterText(text[index]);\n    }\n  };\n\n  useEffect(function () {\n    FetchData();\n  }, [days]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg_absolute\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"nav\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, tabs.map(function (tab, i) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      onClick: function onClick() {\n        return setActiveTab(i);\n      },\n      className: \"\".concat(activeTab === i ? \"active_nav\" : \"\"),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 15\n      }\n    }, tab));\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"8rem \"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, userDetails && appDownloads && chartsData ? /*#__PURE__*/React.createElement(TabContent, {\n    activeTab: activeTab,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, tabs.map(function (tab, i) {\n    return /*#__PURE__*/React.createElement(TabPane, {\n      tabId: i,\n      key: i,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        marginBottom: \"10px\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        color: \"#304762\",\n        fontSize: \"20px\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 19\n      }\n    }, tab, \" Analytics\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(RefreshButton, {\n      next: refresh,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(UncontrolledDropdown, {\n      className: \"d-inline filter-dropdown\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(DropdownToggle, {\n      caret: true,\n      color: \"light\",\n      className: \"shadow-sm\",\n      style: {\n        backgroundColor: \"white\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Calendar, {\n      className: \"feather align-middle mt-n1\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 25\n      }\n    }), \" \", filterText), /*#__PURE__*/React.createElement(DropdownMenu, {\n      right: true,\n      style: {\n        top: \"25px\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(DropdownItem, {\n      onClick: function onClick() {\n        return updateDays(1, 0);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 25\n      }\n    }, \"Today\"), /*#__PURE__*/React.createElement(DropdownItem, {\n      onClick: function onClick() {\n        return updateDays(7, 1);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 25\n      }\n    }, \"Last 7 Days\"), /*#__PURE__*/React.createElement(DropdownItem, {\n      onClick: function onClick() {\n        return updateDays(30, 2);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 25\n      }\n    }, \"Last 30 Days\"), /*#__PURE__*/React.createElement(DropdownItem, {\n      onClick: function onClick() {\n        return updateDays(90, 3);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 25\n      }\n    }, \"Last 90 Days\"), /*#__PURE__*/React.createElement(DropdownItem, {\n      divider: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(DropdownItem, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 25\n      }\n    }, \"Customize\"))))), /*#__PURE__*/React.createElement(Statistics, {\n      index: i,\n      data: userDetails[i],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Row, {\n      style: {\n        marginTop: \"2rem\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      lg: \"7\",\n      className: \"d-flex\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(BarChart, {\n      title: chartTitles[i].bar,\n      chartData: chartsData[i],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      lg: \"5\",\n      className: \"d-flex\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(AppDownloads, {\n      title: chartTitles[i].pie,\n      downloads: appDownloads[i],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 21\n      }\n    }))));\n  })) : /*#__PURE__*/React.createElement(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }\n  })));\n};\n\nexport default Default;","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settladminfront-end/src/pages/dashboards/Default/index.js"],"names":["React","useState","useEffect","Row","Col","TabContent","TabPane","BarChart","Header","AppDownloads","Statistics","RefreshButton","UncontrolledDropdown","DropdownToggle","DropdownMenu","DropdownItem","Calendar","Loader","Request","Default","text","userAnalytics","activeTab","setActiveTab","userDetails","setUserDetails","appDownloads","setAppDownloads","chartsData","setChartsData","days","setDays","filterText","setFilterText","tabs","chartTitles","bar","pie","FetchData","response","console","log","code","data","consumers","agents","chartData","customer","refresh","updateDays","day","index","map","tab","i","marginTop","display","justifyContent","alignItems","marginBottom","color","fontSize","backgroundColor","top"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,GAAT,EAAcC,GAAd,QAAyB,YAAzB;AACA,SAASC,UAAT,EAAqBC,OAArB,QAAoC,YAApC;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,SAASC,aAAT,QAA8B,mCAA9B;AACA,SACEC,oBADF,EAEEC,cAFF,EAGEC,YAHF,EAIEC,YAJF,QAKO,YALP;AAMA,SAASC,QAAT,QAAyB,eAAzB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,OAAP,MAAoB,6BAApB;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;AACpB,MAAMC,IAAI,GAAG,CAAC,UAAD,EAAa,aAAb,EAA4B,cAA5B,EAA4C,cAA5C,CAAb;;AACA,iBAA0BF,OAAO,EAAjC;AAAA,MAAQG,aAAR,YAAQA,aAAR;;AACA,kBAAkCpB,QAAQ,CAAC,CAAD,CAA1C;AAAA;AAAA,MAAOqB,SAAP;AAAA,MAAkBC,YAAlB;;AACA,mBAAsCtB,QAAQ,CAAC,IAAD,CAA9C;AAAA;AAAA,MAAOuB,WAAP;AAAA,MAAoBC,cAApB;;AACA,mBAAwCxB,QAAQ,CAAC,IAAD,CAAhD;AAAA;AAAA,MAAOyB,YAAP;AAAA,MAAqBC,eAArB;;AACA,mBAAoC1B,QAAQ,CAAC,IAAD,CAA5C;AAAA;AAAA,MAAO2B,UAAP;AAAA,MAAmBC,aAAnB;;AACA,mBAAwB5B,QAAQ,CAAC,EAAD,CAAhC;AAAA;AAAA,MAAO6B,IAAP;AAAA,MAAaC,OAAb;;AACA,oBAAoC9B,QAAQ,CAACmB,IAAI,CAAC,CAAD,CAAL,CAA5C;AAAA;AAAA,MAAOY,UAAP;AAAA,MAAmBC,aAAnB;;AACA,MAAMC,IAAI,GAAG,CAAC,kBAAD,EAAqB,cAArB,CAAb;AACA,MAAMC,WAAW,GAAG,CAClB;AAAEC,IAAAA,GAAG,EAAE,uBAAP;AAAgCC,IAAAA,GAAG,EAAE;AAArC,GADkB,EAElB;AAAED,IAAAA,GAAG,EAAE,kCAAP;AAA2CC,IAAAA,GAAG,EAAE;AAAhD,GAFkB,CAApB;;AAKA,MAAMC,SAAS;AAAA,wEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACOjB,aAAa,CAACS,IAAD,CADpB;;AAAA;AACVS,cAAAA,QADU;AAEhBC,cAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;;AAFgB,oBAGZA,QAAQ,CAACG,IAAT,KAAkB,IAHN;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAIRjB,cAAc,CAAC,CAACc,QAAQ,CAACI,IAAT,CAAcC,SAAf,EAA0BL,QAAQ,CAACI,IAAT,CAAcE,MAAxC,CAAD,CAJN;;AAAA;AAAA;AAAA,qBAKRlB,eAAe,CAAC,CACpBY,QAAQ,CAACI,IAAT,CAAcjB,YAAd,CAA2BkB,SADP,EAEpBL,QAAQ,CAACI,IAAT,CAAcjB,YAAd,CAA2BmB,MAFP,CAAD,CALP;;AAAA;AAAA;AAAA,qBASRhB,aAAa,CAAC,CAClBU,QAAQ,CAACI,IAAT,CAAcG,SAAd,CAAwBC,QADN,EAElBR,QAAQ,CAACI,IAAT,CAAcG,SAAd,CAAwBD,MAFN,CAAD,CATL;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAATP,SAAS;AAAA;AAAA;AAAA,KAAf;;AAgBA,MAAMU,OAAO,GAAG,SAAVA,OAAU,GAAM;AACpBvB,IAAAA,cAAc,CAAC,IAAD,CAAd;AACAE,IAAAA,eAAe,CAAC,IAAD,CAAf;AACAE,IAAAA,aAAa,CAAC,IAAD,CAAb;AACAS,IAAAA,SAAS;AACV,GALD;;AAOA,MAAMW,UAAU,GAAG,SAAbA,UAAa,CAACC,GAAD,EAAMC,KAAN,EAAgB;AACjC,QAAInB,UAAU,KAAKZ,IAAI,CAAC+B,KAAD,CAAvB,EAAgC;AAC9BtB,MAAAA,aAAa,CAAC,IAAD,CAAb;AACAF,MAAAA,eAAe,CAAC,IAAD,CAAf;AACAI,MAAAA,OAAO,CAACmB,GAAD,CAAP;AACAjB,MAAAA,aAAa,CAACb,IAAI,CAAC+B,KAAD,CAAL,CAAb;AACD;AACF,GAPD;;AASAjD,EAAAA,SAAS,CAAC,YAAM;AACdoC,IAAAA,SAAS;AACV,GAFQ,EAEN,CAACR,IAAD,CAFM,CAAT;AAGA,sBACE,uDACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGI,IAAI,CAACkB,GAAL,CAAS,UAACC,GAAD,EAAMC,CAAN;AAAA,wBACR;AACE,MAAA,OAAO,EAAE;AAAA,eAAM/B,YAAY,CAAC+B,CAAD,CAAlB;AAAA,OADX;AAEE,MAAA,SAAS,YAAKhC,SAAS,KAAKgC,CAAd,GAAkB,YAAlB,GAAiC,EAAtC,CAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAID,GAAJ,CAJF,CADQ;AAAA,GAAT,CADH,CAFF,CADF,eAcE;AACE,IAAA,KAAK,EAAE;AACLE,MAAAA,SAAS,EAAE;AADN,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKG/B,WAAW,IAAIE,YAAf,IAA+BE,UAA/B,gBACC,oBAAC,UAAD;AAAY,IAAA,SAAS,EAAEN,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGY,IAAI,CAACkB,GAAL,CAAS,UAACC,GAAD,EAAMC,CAAN;AAAA,wBACR,oBAAC,OAAD;AAAS,MAAA,KAAK,EAAEA,CAAhB;AAAmB,MAAA,GAAG,EAAEA,CAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,KAAK,EAAE;AACLE,QAAAA,OAAO,EAAE,MADJ;AAELC,QAAAA,cAAc,EAAE,eAFX;AAGLC,QAAAA,UAAU,EAAE,QAHP;AAILC,QAAAA,YAAY,EAAE;AAJT,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAQE;AACE,MAAA,KAAK,EAAE;AACLC,QAAAA,KAAK,EAAE,SADF;AAELC,QAAAA,QAAQ,EAAE;AAFL,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMGR,GANH,eARF,eAgBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,aAAD;AAAe,MAAA,IAAI,EAAEL,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,oBAAD;AAAsB,MAAA,SAAS,EAAC,0BAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,cAAD;AACE,MAAA,KAAK,MADP;AAEE,MAAA,KAAK,EAAC,OAFR;AAGE,MAAA,SAAS,EAAC,WAHZ;AAIE,MAAA,KAAK,EAAE;AACLc,QAAAA,eAAe,EAAE;AADZ,OAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAQE,oBAAC,QAAD;AAAU,MAAA,SAAS,EAAC,4BAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARF,EAQsD,GARtD,EASG9B,UATH,CADF,eAYE,oBAAC,YAAD;AACE,MAAA,KAAK,MADP;AAEE,MAAA,KAAK,EAAE;AACL+B,QAAAA,GAAG,EAAE;AADA,OAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAME,oBAAC,YAAD;AAAc,MAAA,OAAO,EAAE;AAAA,eAAMd,UAAU,CAAC,CAAD,EAAI,CAAJ,CAAhB;AAAA,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eANF,eASE,oBAAC,YAAD;AAAc,MAAA,OAAO,EAAE;AAAA,eAAMA,UAAU,CAAC,CAAD,EAAI,CAAJ,CAAhB;AAAA,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBATF,eAYE,oBAAC,YAAD;AAAc,MAAA,OAAO,EAAE;AAAA,eAAMA,UAAU,CAAC,EAAD,EAAK,CAAL,CAAhB;AAAA,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAZF,eAeE,oBAAC,YAAD;AAAc,MAAA,OAAO,EAAE;AAAA,eAAMA,UAAU,CAAC,EAAD,EAAK,CAAL,CAAhB;AAAA,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAfF,eAkBE,oBAAC,YAAD;AAAc,MAAA,OAAO,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlBF,eAmBE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAnBF,CAZF,CAFF,CAhBF,CADF,eAwDE,oBAAC,UAAD;AAAY,MAAA,KAAK,EAAEK,CAAnB;AAAsB,MAAA,IAAI,EAAE9B,WAAW,CAAC8B,CAAD,CAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAxDF,eAyDE,oBAAC,GAAD;AACE,MAAA,KAAK,EAAE;AACLC,QAAAA,SAAS,EAAE;AADN,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAY,MAAA,SAAS,EAAC,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,QAAD;AACE,MAAA,KAAK,EAAEpB,WAAW,CAACmB,CAAD,CAAX,CAAelB,GADxB;AAEE,MAAA,SAAS,EAAER,UAAU,CAAC0B,CAAD,CAFvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CALF,eAWE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAC,GAAR;AAAY,MAAA,SAAS,EAAC,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,YAAD;AACE,MAAA,KAAK,EAAEnB,WAAW,CAACmB,CAAD,CAAX,CAAejB,GADxB;AAEE,MAAA,SAAS,EAAEX,YAAY,CAAC4B,CAAD,CAFzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAXF,CAzDF,CADQ;AAAA,GAAT,CADH,CADD,gBAkFC,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAvFJ,CAdF,CADF;AA2GD,CA7JD;;AA8JA,eAAenC,OAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Row, Col } from \"reactstrap\";\r\nimport { TabContent, TabPane } from \"reactstrap\";\r\nimport BarChart from \"./BarChart\";\r\nimport Header from \"./Header\";\r\nimport AppDownloads from \"./AppDownloads\";\r\nimport Statistics from \"./Statistics\";\r\nimport { RefreshButton } from \"../../../components/RefreshButton\";\r\nimport {\r\n  UncontrolledDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n} from \"reactstrap\";\r\nimport { Calendar } from \"react-feather\";\r\nimport Loader from \"../../../components/Loader\";\r\nimport Request from \"../../../requests/analytics\";\r\n\r\nconst Default = () => {\r\n  const text = [\"Today   \", \"Last 7 Days\", \"Last 30 days\", \"Last 90 Days\"];\r\n  const { userAnalytics } = Request();\r\n  const [activeTab, setActiveTab] = useState(0);\r\n  const [userDetails, setUserDetails] = useState(null);\r\n  const [appDownloads, setAppDownloads] = useState(null);\r\n  const [chartsData, setChartsData] = useState(null);\r\n  const [days, setDays] = useState(30);\r\n  const [filterText, setFilterText] = useState(text[2]);\r\n  const tabs = [\"Settl  Customers\", \"Settl Agents\"];\r\n  const chartTitles = [\r\n    { bar: \"Customer Transactions\", pie: \"App Downloads\" },\r\n    { bar: \"Agent & Super Agent Transactions\", pie: \"Agent App Downloads\" },\r\n  ];\r\n\r\n  const FetchData = async () => {\r\n    const response = await userAnalytics(days);\r\n    console.log(response);\r\n    if (response.code === \"00\") {\r\n      await setUserDetails([response.data.consumers, response.data.agents]);\r\n      await setAppDownloads([\r\n        response.data.appDownloads.consumers,\r\n        response.data.appDownloads.agents,\r\n      ]);\r\n      await setChartsData([\r\n        response.data.chartData.customer,\r\n        response.data.chartData.agents,\r\n      ]);\r\n    }\r\n  };\r\n\r\n  const refresh = () => {\r\n    setUserDetails(null);\r\n    setAppDownloads(null);\r\n    setChartsData(null);\r\n    FetchData();\r\n  };\r\n\r\n  const updateDays = (day, index) => {\r\n    if (filterText !== text[index]) {\r\n      setChartsData(null);\r\n      setAppDownloads(null);\r\n      setDays(day);\r\n      setFilterText(text[index]);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    FetchData();\r\n  }, [days]);\r\n  return (\r\n    <>\r\n      <div className=\"bg_absolute\">\r\n        <Header />\r\n        <div className=\"nav\">\r\n          {tabs.map((tab, i) => (\r\n            <div\r\n              onClick={() => setActiveTab(i)}\r\n              className={`${activeTab === i ? \"active_nav\" : \"\"}`}\r\n            >\r\n              <p>{tab}</p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div\r\n        style={{\r\n          marginTop: \"8rem \",\r\n        }}\r\n      >\r\n        {userDetails && appDownloads && chartsData ? (\r\n          <TabContent activeTab={activeTab}>\r\n            {tabs.map((tab, i) => (\r\n              <TabPane tabId={i} key={i}>\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-between\",\r\n                    alignItems: \"center\",\r\n                    marginBottom: \"10px\",\r\n                  }}\r\n                >\r\n                  <p\r\n                    style={{\r\n                      color: \"#304762\",\r\n                      fontSize: \"20px\",\r\n                    }}\r\n                  >\r\n                    {tab} Analytics\r\n                  </p>\r\n                  <div>\r\n                    <RefreshButton next={refresh} />\r\n                    <UncontrolledDropdown className=\"d-inline filter-dropdown\">\r\n                      <DropdownToggle\r\n                        caret\r\n                        color=\"light\"\r\n                        className=\"shadow-sm\"\r\n                        style={{\r\n                          backgroundColor: \"white\",\r\n                        }}\r\n                      >\r\n                        <Calendar className=\"feather align-middle mt-n1\" />{\" \"}\r\n                        {filterText}\r\n                      </DropdownToggle>\r\n                      <DropdownMenu\r\n                        right\r\n                        style={{\r\n                          top: \"25px\",\r\n                        }}\r\n                      >\r\n                        <DropdownItem onClick={() => updateDays(1, 0)}>\r\n                          Today\r\n                        </DropdownItem>\r\n                        <DropdownItem onClick={() => updateDays(7, 1)}>\r\n                          Last 7 Days\r\n                        </DropdownItem>\r\n                        <DropdownItem onClick={() => updateDays(30, 2)}>\r\n                          Last 30 Days\r\n                        </DropdownItem>\r\n                        <DropdownItem onClick={() => updateDays(90, 3)}>\r\n                          Last 90 Days\r\n                        </DropdownItem>\r\n                        <DropdownItem divider />\r\n                        <DropdownItem>Customize</DropdownItem>\r\n                      </DropdownMenu>\r\n                    </UncontrolledDropdown>\r\n                  </div>\r\n                </div>\r\n\r\n                <Statistics index={i} data={userDetails[i]} />\r\n                <Row\r\n                  style={{\r\n                    marginTop: \"2rem\",\r\n                  }}\r\n                >\r\n                  <Col lg=\"7\" className=\"d-flex\">\r\n                    <BarChart\r\n                      title={chartTitles[i].bar}\r\n                      chartData={chartsData[i]}\r\n                    />\r\n                  </Col>\r\n                  <Col lg=\"5\" className=\"d-flex\">\r\n                    <AppDownloads\r\n                      title={chartTitles[i].pie}\r\n                      downloads={appDownloads[i]}\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n              </TabPane>\r\n            ))}\r\n          </TabContent>\r\n        ) : (\r\n          <Loader />\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default Default;\r\n"]},"metadata":{},"sourceType":"module"}