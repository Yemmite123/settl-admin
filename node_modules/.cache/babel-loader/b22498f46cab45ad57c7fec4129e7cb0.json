{"ast":null,"code":"import _defineProperty from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{connect}from\"react-redux\";import usePasswordToggle from\"../../Hooks/usePasswordToggle\";import ForgetPassword from\"../../components/Auth/ForgetPasword\";import Loading from\"../../components/Loading\";import logo from\"../../assets/img/logo/Settl logo.svg\";import{ReactComponent as DangerIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/img/icons/danger.svg\";import appStore from\"../../assets/img/logo/App Store.svg\";import googleStore from\"../../assets/img/logo/Google Store.svg\";import settlScreenshot from\"../../assets/img/screenshots/settl_screenshot.svg\";import{useHistory}from\"react-router-dom\";import{Auth}from\"../../requests/auth\";import{setUserDetails as _setUserDetails}from\"../../redux/actions/userAction\";var Login=function Login(_ref){var _ref3;var setUserDetails=_ref.setUserDetails;var _usePasswordToggle=usePasswordToggle(),_usePasswordToggle2=_slicedToArray(_usePasswordToggle,2),PasswordInutType=_usePasswordToggle2[0],ToggleIcon=_usePasswordToggle2[1];var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var history=useHistory();var validate=email.length>0&&password.length>0;var reset=function reset(){setEmail(\"\");setPassword(\"\");setLoading(false);};var SignIn=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return Auth(\"identityserver/admin/signin\",{password:password,email:email});case 3:response=_context.sent;if(response.code===\"00\"){console.log(response.data);setUserDetails(response.data);history.push(\"/\");setError(false);reset();}setError(true);reset();case 7:case\"end\":return _context.stop();}}},_callee);}));return function SignIn(){return _ref2.apply(this,arguments);};}();var handleSubmit=function handleSubmit(e){e.preventDefault();SignIn();};return/*#__PURE__*/React.createElement(\"div\",{id:\"\",className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{id:\"login_section\",className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"auth_right\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"text-center\"},\"Easy & Reliable \",/*#__PURE__*/React.createElement(\"br\",null),\" Banking Platform\"),/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(\"img\",{src:settlScreenshot,alt:\"settl screenshot\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"text-center downloadApps\"},/*#__PURE__*/React.createElement(\"img\",{src:appStore,alt:\"App Store\"}),/*#__PURE__*/React.createElement(\"img\",{src:googleStore,alt:\"Google Store\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 login_screen\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-center login_screen_input\"},/*#__PURE__*/React.createElement(\"img\",{src:logo,alt:\"settl Logo\"}),/*#__PURE__*/React.createElement(\"p\",null,\"Welcome back, log in to continue\"),/*#__PURE__*/React.createElement(\"form\",{className:\"text-center p-4\",onSubmit:handleSubmit},error&&/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center align-items-center\",style:(_ref3={backgroundColor:\"green\",padding:\"0.5rem\"},_defineProperty(_ref3,\"backgroundColor\",\"#ffc7ca\"),_defineProperty(_ref3,\"borderRadius\",\"10px\"),_defineProperty(_ref3,\"border\",\"1px solid #fc5159\"),_ref3)},/*#__PURE__*/React.createElement(DangerIcon,null),/*#__PURE__*/React.createElement(\"span\",{style:{color:\"#fc5159\",marginLeft:\"0.5rem\"}},\"Oops! Wrong email or password\",\" \"))),/*#__PURE__*/React.createElement(\"div\",{className:\"group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"email\",placeholder:\"Email Address\",className:\"form_in shadow-none\",id:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email Address\")),/*#__PURE__*/React.createElement(\"div\",{className:\"group\"},/*#__PURE__*/React.createElement(\"input\",{type:PasswordInutType,className:\"form_in shadow-none\",placeholder:\"Password\",id:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"span\",{className:\"password-toggle-icon\"},ToggleIcon)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-around remember_me\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"custom-control custom-checkbox\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:\"custom-control-input shadow-none\",id:\"defaultLoginFormRemember\"}),/*#__PURE__*/React.createElement(\"label\",{className:\"custom-control-label\",htmlFor:\"defaultLoginFormRemember\"},\"Remember me\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"forget_login\"},/*#__PURE__*/React.createElement(ForgetPassword,null))),/*#__PURE__*/React.createElement(\"button\",{disabled:!validate,className:\"btn\",type:\"submit\"},loading?/*#__PURE__*/React.createElement(Loading,null):\"Login\")))))));};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setUserDetails:function setUserDetails(details){return dispatch(_setUserDetails(details));}};};export default connect(null,mapDispatchToProps)(Login);","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/src/pages/auth/SignIn.js"],"names":["React","useState","connect","usePasswordToggle","ForgetPassword","Loading","useHistory","Auth","setUserDetails","Login","PasswordInutType","ToggleIcon","email","setEmail","password","setPassword","loading","setLoading","error","setError","history","validate","length","reset","SignIn","response","code","console","log","data","push","handleSubmit","e","preventDefault","settlScreenshot","appStore","googleStore","logo","backgroundColor","padding","color","marginLeft","target","value","mapDispatchToProps","dispatch","details"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport usePasswordToggle from \"../../Hooks/usePasswordToggle\";\r\nimport ForgetPassword from \"../../components/Auth/ForgetPasword\";\r\nimport Loading from \"../../components/Loading\";\r\nimport logo from \"../../assets/img/logo/Settl logo.svg\";\r\nimport { ReactComponent as DangerIcon } from \"../../assets/img/icons/danger.svg\";\r\nimport appStore from \"../../assets/img/logo/App Store.svg\";\r\nimport googleStore from \"../../assets/img/logo/Google Store.svg\";\r\nimport settlScreenshot from \"../../assets/img/screenshots/settl_screenshot.svg\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Auth } from \"../../requests/auth\";\r\nimport { setUserDetails } from \"../../redux/actions/userAction\";\r\n\r\nconst Login = ({ setUserDetails }) => {\r\n  const [PasswordInutType, ToggleIcon] = usePasswordToggle();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(false);\r\n  const history = useHistory();\r\n\r\n  const validate = email.length > 0 && password.length > 0;\r\n  const reset = () => {\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n    setLoading(false);\r\n  };\r\n  const SignIn = async () => {\r\n    setLoading(true);\r\n    const response = await Auth(\"identityserver/admin/signin\", { password, email });\r\n    if (response.code === \"00\") {\r\n      console.log(response.data);\r\n      setUserDetails(response.data);\r\n      history.push(\"/\");\r\n      setError(false);\r\n      reset();\r\n    }\r\n    setError(true);\r\n    reset();\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    SignIn();\r\n  };\r\n\r\n  return (\r\n    <div id=\"\" className=\"container-fluid\">\r\n      <div id=\"login_section\" className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6\">\r\n            <div className=\"auth_right\">\r\n              <h1 className=\"text-center\">\r\n                Easy & Reliable <br /> Banking Platform\r\n              </h1>\r\n              <div className=\"text-center\">\r\n                <img src={settlScreenshot} alt=\"settl screenshot\" />\r\n              </div>\r\n              <div className=\"text-center downloadApps\">\r\n                <img src={appStore} alt=\"App Store\" />\r\n                <img src={googleStore} alt=\"Google Store\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-6 login_screen\">\r\n            <div className=\"text-center login_screen_input\">\r\n              <img src={logo} alt=\"settl Logo\" />\r\n              <p>Welcome back, log in to continue</p>\r\n\r\n              <form className=\"text-center p-4\" onSubmit={handleSubmit}>\r\n                {error && (\r\n                  <div className=\"d-flex justify-content-center align-items-center\">\r\n                    <div\r\n                      className=\"d-flex justify-content-center align-items-center\"\r\n                      style={{\r\n                        backgroundColor: \"green\",\r\n                        padding: \"0.5rem\",\r\n                        backgroundColor: \"#ffc7ca\",\r\n                        borderRadius: \"10px\",\r\n                        border: \"1px solid #fc5159\",\r\n                      }}\r\n                    >\r\n                      <DangerIcon />\r\n                      <span style={{ color: \"#fc5159\", marginLeft: \"0.5rem\" }}>\r\n                        Oops! Wrong email or password{\" \"}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                <div className=\"group\">\r\n                  <input\r\n                    type=\"email\"\r\n                    placeholder=\"Email Address\"\r\n                    className=\"form_in shadow-none\"\r\n                    id=\"email\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                  />\r\n                  <label htmlFor=\"email\">Email Address</label>\r\n                </div>\r\n\r\n                <div className=\"group\">\r\n                  <input\r\n                    type={PasswordInutType}\r\n                    className=\"form_in shadow-none\"\r\n                    placeholder=\"Password\"\r\n                    id=\"password\"\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                  />\r\n                  <label htmlFor=\"password\">Password</label>\r\n                  <span className=\"password-toggle-icon\">{ToggleIcon}</span>\r\n                </div>\r\n                <div className=\"d-flex justify-content-around remember_me\">\r\n                  <div>\r\n                    <div className=\"custom-control custom-checkbox\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        className=\"custom-control-input shadow-none\"\r\n                        id=\"defaultLoginFormRemember\"\r\n                      />\r\n                      <label\r\n                        className=\"custom-control-label\"\r\n                        htmlFor=\"defaultLoginFormRemember\"\r\n                      >\r\n                        Remember me\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"forget_login\">\r\n                    <ForgetPassword />\r\n                  </div>\r\n                </div>\r\n                <button disabled={!validate} className=\"btn\" type=\"submit\">\r\n                  {loading ? <Loading /> : \"Login\"}\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  setUserDetails: (details) => dispatch(setUserDetails(details)),\r\n});\r\nexport default connect(null, mapDispatchToProps)(Login);\r\n"]},"metadata":{},"sourceType":"module"}