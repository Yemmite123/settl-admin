{"ast":null,"code":"import _slicedToArray from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import BootstrapTable from\"react-bootstrap-table-next\";import paginationFactory from\"react-bootstrap-table2-paginator\";import ToolkitProvider from\"react-bootstrap-table2-toolkit\";import Loader from\"../../../components/Loader.js\";import Header from\"./TableHeader\";var Table=function Table(_ref){var _ref$referralData=_ref.referralData,referralData=_ref$referralData===void 0?[]:_ref$referralData;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isfiltered=_useState2[0],setIsFiltered=_useState2[1];var _useState3=useState(referralData),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var currentDate=new Date();var currentDateFormat=currentDate.setHours(0,0,0,0);useEffect(function(){setData(referralData);},[referralData]);var Filter=function Filter(data){setData(\"\");var check=data.status.length>0||data.endDate!==currentDateFormat||data.startDate!==currentDateFormat;setTimeout(function(){var filtered=referralData.filter(function(product){if(check){setIsFiltered(true);var splitDate=product.date.slice(0,-6).split(\"/\");var dataDate=new Date(+splitDate[2],splitDate[1]-1,+splitDate[0]).setHours(0,0,0,0);return data.status.includes(product.status.toLowerCase())||dataDate>=data.startDate&&dataDate<=data.endDate;}else{setIsFiltered(false);return data;}});setData(filtered);},500);};var Search=function Search(data){setData(referralData.filter(function(product){return product.phoneNumber.startsWith(data.trim());}));};var columns=[{dataField:\"customername\",text:\"Customer Name\",headerStyle:{backgroundColor:\"#F8F9FA\",border:\"none\",fontSize:\"13px\",paddingLeft:\"1.5rem\"},style:function style(){return{paddingLeft:\"1.5rem\"};}},{dataField:\"phoneNumber\",text:\"Customer Phone Number\",headerStyle:{backgroundColor:\"#F8F9FA\",border:\"none\",fontSize:\"12px\"}},{dataField:\"referralName\",text:\"Referral Name\",headerStyle:{backgroundColor:\"#F8F9FA\",border:\"none\",fontSize:\"13px\"}},{dataField:\"referralBonus\",text:\"Referral Bonus\",headerStyle:{backgroundColor:\"#F8F9FA\",border:\"none\",fontSize:\"13px\"},formatter:function formatter(cell){return/*#__PURE__*/React.createElement(\"span\",null,\"\\u20A6\",cell.toLocaleString());}},{dataField:\"date\",text:\"Date\",headerStyle:{backgroundColor:\"#F8F9FA\",border:\"none\",fontSize:\"13px\"},formatter:function formatter(cell,row,rowIndex){return cell.slice(0,-5);}},{dataField:\"status\",text:\"Status\",headerStyle:{backgroundColor:\"#f8f9fa\",border:\"none\",fontSize:\"13px\",textAlign:\"center\"},style:function style(){return{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"};},formatter:function formatter(cell,row,rowIndex){if(cell.toLowerCase()===\"inactive\"){return/*#__PURE__*/React.createElement(\"p\",{className:\"status inactive\"},cell);}else if(cell.toLowerCase()===\"active\"){return/*#__PURE__*/React.createElement(\"p\",{className:\"status success\"},cell);}else{return/*#__PURE__*/React.createElement(\"p\",{className:\"status registered\"},cell);}}}];var customTotal=function customTotal(from,to,size){return/*#__PURE__*/React.createElement(\"span\",{className:\"react-bootstrap-table-pagination-total\",style:{padding:\"1rem\"}},\"Showing \",from,\" to \",to,\" of \",size,\" Results\");};var rowStyle={border:\"none\",cursor:\"pointer\"};return/*#__PURE__*/React.createElement(ToolkitProvider,{responsive:true,keyField:\"date\",columns:columns,data:data,search:true},function(props){return/*#__PURE__*/React.createElement(\"div\",{className:\"table\"},/*#__PURE__*/React.createElement(\"p\",{className:\"table_title\"},\"All Referral\"),!data?/*#__PURE__*/React.createElement(Loader,null):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Header,{csvData:props.csvProps,search:props.searchProps,filter:Filter,filtered:isfiltered,dataLength:data.length,Search:Search}),/*#__PURE__*/React.createElement(BootstrapTable,Object.assign({style:{marginTop:\"0\"}},props.baseProps,{bordered:false,rowStyle:rowStyle,pagination:paginationFactory({sizePerPage:9,hideSizePerPage:true,showTotal:true,paginationTotalRenderer:customTotal})}))));});};export default Table;","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/src/pages/dashboards/Referral/Table.js"],"names":["React","useState","useEffect","BootstrapTable","paginationFactory","ToolkitProvider","Loader","Header","Table","referralData","isfiltered","setIsFiltered","data","setData","currentDate","Date","currentDateFormat","setHours","Filter","check","status","length","endDate","startDate","setTimeout","filtered","filter","product","splitDate","date","slice","split","dataDate","includes","toLowerCase","Search","phoneNumber","startsWith","trim","columns","dataField","text","headerStyle","backgroundColor","border","fontSize","paddingLeft","style","formatter","cell","toLocaleString","row","rowIndex","textAlign","display","justifyContent","alignItems","customTotal","from","to","size","padding","rowStyle","cursor","props","csvProps","searchProps","marginTop","baseProps","sizePerPage","hideSizePerPage","showTotal","paginationTotalRenderer"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport ToolkitProvider from \"react-bootstrap-table2-toolkit\";\nimport Loader from \"../../../components/Loader.js\";\nimport Header from \"./TableHeader\";\n\nconst Table = ({ referralData = [] }) => {\n  const [isfiltered, setIsFiltered] = useState(false);\n  const [data, setData] = useState(referralData);\n  const currentDate = new Date();\n  const currentDateFormat = currentDate.setHours(0, 0, 0, 0);\n\n  useEffect(() => {\n    setData(referralData);\n  }, [referralData]);\n\n  const Filter = (data) => {\n    setData(\"\");\n    const check =\n      data.status.length > 0 ||\n      data.endDate !== currentDateFormat ||\n      data.startDate !== currentDateFormat;\n    setTimeout(() => {\n      const filtered = referralData.filter((product) => {\n        if (check) {\n          setIsFiltered(true);\n          const splitDate = product.date.slice(0, -6).split(\"/\");\n          const dataDate = new Date(\n            +splitDate[2],\n            splitDate[1] - 1,\n            +splitDate[0]\n          ).setHours(0, 0, 0, 0);\n          return (\n            data.status.includes(product.status.toLowerCase()) ||\n            (dataDate >= data.startDate && dataDate <= data.endDate)\n          );\n        } else {\n          setIsFiltered(false);\n          return data;\n        }\n      });\n      setData(filtered);\n    }, 500);\n  };\n\n  const Search = (data) => {\n    setData(\n      referralData.filter((product) =>\n        product.phoneNumber.startsWith(data.trim())\n      )\n    );\n  };\n\n  const columns = [\n    {\n      dataField: \"customername\",\n      text: \"Customer Name\",\n      headerStyle: {\n        backgroundColor: \"#F8F9FA\",\n        border: \"none\",\n        fontSize: \"13px\",\n        paddingLeft: \"1.5rem\",\n      },\n      style: () => {\n        return {\n          paddingLeft: \"1.5rem\",\n        };\n      },\n    },\n    {\n      dataField: \"phoneNumber\",\n      text: \"Customer Phone Number\",\n      headerStyle: {\n        backgroundColor: \"#F8F9FA\",\n        border: \"none\",\n        fontSize: \"12px\",\n      },\n    },\n    {\n      dataField: \"referralName\",\n      text: \"Referral Name\",\n      headerStyle: {\n        backgroundColor: \"#F8F9FA\",\n        border: \"none\",\n        fontSize: \"13px\",\n      },\n    },\n    {\n      dataField: \"referralBonus\",\n      text: \"Referral Bonus\",\n      headerStyle: {\n        backgroundColor: \"#F8F9FA\",\n        border: \"none\",\n        fontSize: \"13px\",\n      },\n      formatter: (cell) => <span>â‚¦{cell.toLocaleString()}</span>,\n    },\n    {\n      dataField: \"date\",\n      text: \"Date\",\n      headerStyle: {\n        backgroundColor: \"#F8F9FA\",\n        border: \"none\",\n        fontSize: \"13px\",\n      },\n      formatter: (cell, row, rowIndex) => {\n        return cell.slice(0, -5);\n      },\n    },\n    {\n      dataField: \"status\",\n      text: \"Status\",\n      headerStyle: {\n        backgroundColor: \"#f8f9fa\",\n        border: \"none\",\n        fontSize: \"13px\",\n        textAlign: \"center\",\n      },\n      style: () => {\n        return {\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n        };\n      },\n      formatter: (cell, row, rowIndex) => {\n        if (cell.toLowerCase() === \"inactive\") {\n          return <p className=\"status inactive\">{cell}</p>;\n        } else if (cell.toLowerCase() === \"active\") {\n          return <p className=\"status success\">{cell}</p>;\n        } else {\n          return <p className=\"status registered\">{cell}</p>;\n        }\n      },\n    },\n  ];\n\n  const customTotal = (from, to, size) => (\n    <span\n      className=\"react-bootstrap-table-pagination-total\"\n      style={{\n        padding: \"1rem\",\n      }}\n    >\n      Showing {from} to {to} of {size} Results\n    </span>\n  );\n\n  const rowStyle = {\n    border: \"none\",\n    cursor: \"pointer\",\n  };\n\n  return (\n    <ToolkitProvider\n      responsive\n      keyField=\"date\"\n      columns={columns}\n      data={data}\n      search\n    >\n      {(props) => (\n        <div className=\"table\">\n          <p className=\"table_title\">All Referral</p>\n          {!data ? (\n            <Loader />\n          ) : (\n            <>\n              <Header\n                csvData={props.csvProps}\n                search={props.searchProps}\n                filter={Filter}\n                filtered={isfiltered}\n                dataLength={data.length}\n                Search={Search}\n              />\n\n              <BootstrapTable\n                style={{\n                  marginTop: \"0\",\n                }}\n                {...props.baseProps}\n                bordered={false}\n                rowStyle={rowStyle}\n                pagination={paginationFactory({\n                  sizePerPage: 9,\n                  hideSizePerPage: true,\n                  showTotal: true,\n                  paginationTotalRenderer: customTotal,\n                })}\n              />\n            </>\n          )}\n        </div>\n      )}\n    </ToolkitProvider>\n  );\n};\nexport default Table;\n"]},"metadata":{},"sourceType":"module"}