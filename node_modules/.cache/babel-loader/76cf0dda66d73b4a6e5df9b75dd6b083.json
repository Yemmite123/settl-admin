{"ast":null,"code":"import _regeneratorRuntime from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Header from\"../../../components/Header\";import Statistics from\"./Statistics\";import Table from\"./Table\";import logo from\"../../../assets/img/icons/referralicon.svg\";import Loader from\"../../../components/Loader\";import ReferralsRequest from\"./../../../requests/referral\";var Referral=function Referral(){var text=[\"Today   \",\"Last 7 Days\",\"Last 30 days\",\"Last 90 Days\"];var _useState=useState(text[2]),_useState2=_slicedToArray(_useState,2),filterText=_useState2[0],setFilterText=_useState2[1];var _useState3=useState(30),_useState4=_slicedToArray(_useState3,2),days=_useState4[0],setDays=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),referrals=_useState6[0],setReferrals=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),referralData=_useState8[0],setReferralData=_useState8[1];var _ReferralsRequest=ReferralsRequest(),getAllReferrals=_ReferralsRequest.getAllReferrals;var getRecentReferralsList=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getAllReferrals(days);case 2:response=_context.sent;if(response.code===\"00\"){setReferrals(response.data);setReferralData(response.data.listOfReferral);}case 4:case\"end\":return _context.stop();}}},_callee);}));return function getRecentReferralsList(){return _ref.apply(this,arguments);};}();var refresh=function refresh(){setReferrals(\"\");setReferralData(\"\");getRecentReferralsList();};var updateDays=function updateDays(day,index){if(filterText!==text[index]){setReferralData(\"\");setReferrals(\"\");setDays(day);setFilterText(text[index]);}};var transactions=[{name:\"Total Referral Transaction Volume\",total_amount:referrals.totalReferralvol,percentage:referrals.percentReferralvol},{name:\"Total Referral Transaction Value\",total_amount:referrals.totalReferralval,percentage:referrals.percentReferralval},{name:\"Total value of Referral Bonuses\",total_amount:referrals.referredBonus,percentage:referrals.percentReferredBonus},{name:\"Total Referrals Links Sent \",total_amount:referrals.totalReferralLinkSent,percentage:referrals.totalReferralval},{name:\"Total Number of Registered Referrals\",total_amount:referrals.numberofRegisteredReferred,percentage:referrals.percentRegisteredReferred},{name:\"Total Number of Active Referrals\",total_amount:referrals.activereferral,percentage:referrals.percentActivereferral}];useEffect(function(){getRecentReferralsList();},[days]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,{logo:logo,name:\"Settl Referral Data\",calendar:true,filterText:filterText,updateDays:updateDays,refresh:refresh}),referrals.length!==0?/*#__PURE__*/React.createElement(Statistics,{transactions:transactions}):/*#__PURE__*/React.createElement(Loader,null),/*#__PURE__*/React.createElement(Table,{referralData:referralData}));};export default Referral;","map":{"version":3,"sources":["/Users/adebayooluyemi/Documents/THE BULB/UPDATED SETTL ADMIN BACKOFFICE /settl-backoffice/src/pages/dashboards/Referral/index.js"],"names":["React","useState","useEffect","Header","Statistics","Table","Loader","ReferralsRequest","Referral","text","filterText","setFilterText","days","setDays","referrals","setReferrals","referralData","setReferralData","getAllReferrals","getRecentReferralsList","response","code","data","listOfReferral","refresh","updateDays","day","index","transactions","name","total_amount","totalReferralvol","percentage","percentReferralvol","totalReferralval","percentReferralval","referredBonus","percentReferredBonus","totalReferralLinkSent","numberofRegisteredReferred","percentRegisteredReferred","activereferral","percentActivereferral","logo","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Header from \"../../../components/Header\";\nimport Statistics from \"./Statistics\";\nimport Table from \"./Table\";\nimport logo from \"../../../assets/img/icons/referralicon.svg\";\nimport Loader from \"../../../components/Loader\";\nimport ReferralsRequest from \"./../../../requests/referral\";\n\nconst Referral = () => {\n  const text = [\"Today   \", \"Last 7 Days\", \"Last 30 days\", \"Last 90 Days\"];\n  const [filterText, setFilterText] = useState(text[2]);\n  const [days, setDays] = useState(30);\n  const [referrals, setReferrals] = useState(\"\");\n  const [referralData, setReferralData] = useState(\"\");\n\n  const { getAllReferrals } = ReferralsRequest();\n\n  const getRecentReferralsList = async () => {\n    const response = await getAllReferrals(days);\n    if (response.code === \"00\") {\n      setReferrals(response.data);\n      setReferralData(response.data.listOfReferral);\n    }\n  };\n  const refresh = () => {\n    setReferrals(\"\");\n    setReferralData(\"\");\n    getRecentReferralsList();\n  };\n  const updateDays = (day, index) => {\n    if (filterText !== text[index]) {\n      setReferralData(\"\");\n      setReferrals(\"\");\n      setDays(day);\n      setFilterText(text[index]);\n    }\n  };\n\n  const transactions = [\n    {\n      name: \"Total Referral Transaction Volume\",\n      total_amount: referrals.totalReferralvol,\n      percentage: referrals.percentReferralvol,\n    },\n    {\n      name: \"Total Referral Transaction Value\",\n      total_amount: referrals.totalReferralval,\n      percentage: referrals.percentReferralval,\n    },\n    {\n      name: \"Total value of Referral Bonuses\",\n      total_amount: referrals.referredBonus,\n      percentage: referrals.percentReferredBonus,\n    },\n    {\n      name: \"Total Referrals Links Sent \",\n      total_amount: referrals.totalReferralLinkSent,\n      percentage: referrals.totalReferralval,\n    },\n    {\n      name: \"Total Number of Registered Referrals\",\n      total_amount: referrals.numberofRegisteredReferred,\n      percentage: referrals.percentRegisteredReferred,\n    },\n    {\n      name: \"Total Number of Active Referrals\",\n      total_amount: referrals.activereferral,\n      percentage: referrals.percentActivereferral,\n    },\n  ];\n\n  useEffect(() => {\n    getRecentReferralsList();\n  }, [days]);\n\n  return (\n    <div>\n      <Header\n        logo={logo}\n        name=\"Settl Referral Data\"\n        calendar\n        filterText={filterText}\n        updateDays={updateDays}\n        refresh={refresh}\n      />\n      {referrals.length !== 0 ? (\n        <Statistics transactions={transactions} />\n      ) : (\n        <Loader />\n      )}\n      <Table referralData={referralData} />\n    </div>\n  );\n};\n\nexport default Referral;\n"]},"metadata":{},"sourceType":"module"}